Moving data from CDP Private Cloud Base to Public Cloud with NiFi site-to-siteCloudera Docs
Moving data from CDP Private Cloud Base to Public Cloud with NiFi
  site-to-site
You can use Apache NiFi's site-to-site functionality to move data between CDP Private Cloud Base and Public Cloud clusters by
  using
  this workflow. 


Understanding the use caseYou can use the Apache NiFi site-to-site functionality to move data  between a Public   Cloud and a CDP Private Cloud Base environment. To do this, set up a cluster   in each environment, prepare your network and truststore configurations, and then define your CDP Private Cloud Base and CDP Public Cloud data flows and Apache Ranger   configuration for site-to-site functionality.   Preparing your clustersThe first step in preparing to move data from a CDP Private Cloud Base cluster to a CDP Public Cloud cluster is to ensure that   you have each cluster set up correctly. Setting up your network configurationYou can use NiFi's site-to-site capabilities over a RAW TCP or over an HTTP network     configuration. For     this use case, you must configure site-to-site using HTTP over TLS.     This     has the advantage of using the NiFi port, which is also used to access the NiFi UI and     APIs.Configuring your truststoresYou must configure your truststores so that each cluster is aware of and trusts the         other cluster, to support the two-way TLS that is used to initiate the site-to-site         communication between clusters. To do this, you need to download and merge the truststores         for NiFi in CDP Private Cloud Base and CDP Public Cloud.Defining your CDP Public Cloud data flowTo move data between cloud environments using NiFi site-to-site communication, you         require a data flow in CDP Public Cloud that can receive data from the CDP Private Cloud Base data flow. To create this data flow, configure         a process group, and both an input and output         port.Configuring Ranger policies for site-to-site communicationTo allow NiFi's site-to-site communication between CDP Public Cloud and CDP Private Cloud Base clusters, you need to configure Ranger         authorization between the two clusters. To do this, create Ranger users in your CDP Public         Cloud cluster that correspond to the CDP Private Cloud Base NiFi         nodes. Then create a new Ranger policy with site-to-site resources configured, and assign         your CDP Private Cloud Base NiFi node users to the policy.         Defining your CDP Private Cloud Base data flowTo move data between cloud environments using NiFi site-to-site communication, you         require a data flow in your CDP Private Cloud Base cluster that can         send and receive data from the CDP Public Cloud cluster. To create this data flow, connect a         processor to a Remote Process Group configured with HTTP and enable         transmission.