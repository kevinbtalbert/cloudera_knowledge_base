Ozone Properties in Cloudera Runtime 7.1.8Cloudera Docs
Ozone Properties in Cloudera Runtime 7.1.8

Role groups:

Parent topic: Cloudera Manager Configuration Properties Reference for Cloudera Runtime 7.1.8
Gateway


Advanced

Deploy Directory

Description
The directory where the client configs will be deployed
Related Name
 
Default Value
/etc/ozone
API Name

client_config_root_dir

Required
true


Gateway Logging Advanced Configuration Snippet (Safety Valve)

Description
For advanced use only, a string to be inserted into log4j.properties for this role only.
Related Name
 
Default Value
 
API Name

log4j_safety_valve

Required
false


Ozone Client Advanced Configuration Snippet (Safety Valve) for ozone-conf/ozone-site.xml

Description
For advanced use only, a string to be inserted into the client configuration for ozone-conf/ozone-site.xml.
Related Name
 
Default Value
 
API Name

ozone-conf/ozone-site.xml_client_config_safety_valve

Required
false


Ozone Client Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-client.xml

Description
For advanced use only, a string to be inserted into the client configuration for ozone-conf/ssl-client.xml.
Related Name
 
Default Value
 
API Name

ozone-conf/ssl-client.xml_client_config_safety_valve

Required
false





Logs

Gateway Logging Threshold

Description
The minimum log level for Gateway logs
Related Name
 
Default Value
INFO
API Name

log_threshold

Required
false





Monitoring

Enable Configuration Change Alerts

Description
When set, Cloudera Manager will send alerts when this entity's configuration changes.
Related Name
 
Default Value
false
API Name

enable_config_alerts

Required
false





Other

Alternatives Priority

Description
The priority level that the client configuration will have in the Alternatives system on the hosts. Higher priority levels will cause Alternatives to prefer this configuration over any others.
Related Name
 
Default Value
50
API Name

client_config_priority

Required
true





Security

Gateway TLS/SSL Trust Store File

Description
The location on disk of the trust store, in .jks format, used to confirm the authenticity of TLS/SSL servers that Gateway might connect to. This trust store must contain the certificate(s) used to sign the service(s) connected to. If this parameter is not provided, the default list of well-known certificate authorities is used instead.
Related Name

ssl.client.truststore.location

Default Value
 
API Name

ssl_client_truststore_location

Required
false


Gateway TLS/SSL Trust Store Password

Description
The password for the Gateway TLS/SSL Trust Store File. This password is not required to access the trust store; this field can be left blank. This password provides optional integrity checking of the file. The contents of trust stores are certificates, and certificates are public information.
Related Name

ssl.client.truststore.password

Default Value
 
API Name

ssl_client_truststore_password

Required
false





Suppressions

Suppress Configuration Validator: CDH Version Validator

Description
Whether to suppress configuration warnings produced by the CDH Version Validator configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_cdh_version_validator

Required
true


Suppress Parameter Validation: Deploy Directory

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Deploy Directory parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_client_config_root_dir

Required
true


Suppress Parameter Validation: Gateway Logging Advanced Configuration Snippet (Safety Valve)

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Gateway Logging Advanced Configuration Snippet (Safety Valve) parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_log4j_safety_valve

Required
true


Suppress Parameter Validation: Ozone Client Advanced Configuration Snippet (Safety Valve) for ozone-conf/ozone-site.xml

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Client Advanced Configuration Snippet (Safety Valve) for ozone-conf/ozone-site.xml parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone-conf/ozone-site.xml_client_config_safety_valve

Required
true


Suppress Parameter Validation: Ozone Client Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-client.xml

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Client Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-client.xml parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone-conf/ssl-client.xml_client_config_safety_valve

Required
true


Suppress Parameter Validation: Gateway TLS/SSL Trust Store File

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Gateway TLS/SSL Trust Store File parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ssl_client_truststore_location

Required
true


Suppress Parameter Validation: Gateway TLS/SSL Trust Store Password

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Gateway TLS/SSL Trust Store Password parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ssl_client_truststore_password

Required
true






Ozone DataNode


Advanced

Ozone DataNode Logging Advanced Configuration Snippet (Safety Valve)

Description
For advanced use only, a string to be inserted into log4j.properties for this role only.
Related Name
 
Default Value
 
API Name

log4j_safety_valve

Required
false


Enable auto refresh for metric configurations

Description
When true, Enable Metric Collection and Metric Filter parameters will be set automatically if they're changed. Otherwise, a refresh by hand is required.
Related Name
 
Default Value
false
API Name

metric_config_auto_refresh

Required
false


Heap Dump Directory

Description
Path to directory where heap dumps are generated when java.lang.OutOfMemoryError error is thrown. This directory is automatically created if it does not exist. If this directory already exists, it will be owned by the current role user with 1777 permissions. Sharing the same directory among multiple roles will cause an ownership race. The heap dump files are created with 600 permissions and are owned by the role user. The amount of free space in this directory should be greater than the maximum Java Process heap size configured for this role.
Related Name

oom_heap_dump_dir

Default Value
/tmp
API Name

oom_heap_dump_dir

Required
false


Dump Heap When Out of Memory

Description
When set, generates a heap dump file when when an out-of-memory error occurs.
Related Name
 
Default Value
true
API Name

oom_heap_dump_enabled

Required
true


Kill When Out of Memory

Description
When set, a SIGKILL signal is sent to the role process when java.lang.OutOfMemoryError is thrown.
Related Name
 
Default Value
true
API Name

oom_sigkill_enabled

Required
true


Ozone DataNode Advanced Configuration Snippet (Safety Valve) for ozone-conf/dn-audit-log4j2.properties

Description
For advanced use only. A string to be inserted into ozone-conf/dn-audit-log4j2.properties for this role only.
Related Name
 
Default Value
 
API Name

ozone-conf/dn-audit-log4j2.properties_role_safety_valve

Required
false


Ozone DataNode Advanced Configuration Snippet (Safety Valve) for ozone-conf/ozone-site.xml

Description
For advanced use only. A string to be inserted into ozone-conf/ozone-site.xml for this role only.
Related Name
 
Default Value
 
API Name

ozone-conf/ozone-site.xml_role_safety_valve

Required
false


Ozone DataNode Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-client.xml

Description
For advanced use only. A string to be inserted into ozone-conf/ssl-client.xml for this role only.
Related Name
 
Default Value
 
API Name

ozone-conf/ssl-client.xml_role_safety_valve

Required
false


Ozone DataNode Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-server.xml

Description
For advanced use only. A string to be inserted into ozone-conf/ssl-server.xml for this role only.
Related Name
 
Default Value
 
API Name

ozone-conf/ssl-server.xml_role_safety_valve

Required
false


Ozone DataNode Environment Advanced Configuration Snippet (Safety Valve)

Description
For advanced use only, key-value pairs (one on each line) to be inserted into a role's environment. Applies to configurations of this role except client configuration.
Related Name
 
Default Value
 
API Name

OZONE_DATANODE_role_env_safety_valve

Required
false


Automatically Restart Process

Description
When set, this role's process is automatically (and transparently) restarted in the event of an unexpected failure.  This configuration applies in the time after the Start Wait Timeout period.
Related Name
 
Default Value
false
API Name

process_auto_restart

Required
true


Enable Metric Collection

Description
Cloudera Manager agent monitors each service and each of its role by publishing metrics to the Cloudera Manager Service Monitor. Setting it to false will stop Cloudera Manager agent from publishing any metric for corresponding service/roles. This is usually helpful for services that generate large amount of metrics which Service Monitor is not able to process.
Related Name
 
Default Value
true
API Name

process_should_monitor

Required
true


Process Start Retry Attempts

Description
Number of times to try starting a role's process when the process exits before the Start Wait Timeout period.  After a process is running beyond the Start Wait Timeout, the retry count is reset.  Setting this configuration to zero will prevent restart of the process during the Start Wait Timeout period.
Related Name
 
Default Value
3
API Name

process_start_retries

Required
false


Process Start Wait Timeout

Description
The time in seconds to wait for a role's process to start successfully on a host.  Processes which exit/crash before this time will be restarted until reaching the limit specified by the Start Retry Attempts count parameter.  Setting this configuration to zero will turn off this feature.
Related Name
 
Default Value
20
API Name

process_start_secs

Required
false





Logs

Ozone DataNode Log Directory

Description
The log directory for log files of the role Ozone DataNode.
Related Name

log.dir

Default Value
/var/log/hadoop-ozone
API Name

log_dir

Required
false


Ozone DataNode Logging Threshold

Description
The minimum log level for Ozone DataNode logs
Related Name
 
Default Value
INFO
API Name

log_threshold

Required
false


Ozone DataNode Maximum Log File Backups

Description
The maximum number of rolled log files to keep for Ozone DataNode logs.  Typically used by log4j or logback.
Related Name
 
Default Value
10
API Name

max_log_backup_index

Required
false


Ozone DataNode Max Log Size

Description
The maximum size, in megabytes, per log file for Ozone DataNode logs.  Typically used by log4j or logback.
Related Name
 
Default Value
200 MiB
API Name

max_log_size

Required
false





Monitoring

Enable Health Alerts for this Role

Description
When set, Cloudera Manager will send alerts when the health of this role reaches the threshold specified by the EventServer setting eventserver_health_events_alert_threshold
Related Name
 
Default Value
true
API Name

enable_alerts

Required
false


Enable Configuration Change Alerts

Description
When set, Cloudera Manager will send alerts when this entity's configuration changes.
Related Name
 
Default Value
false
API Name

enable_config_alerts

Required
false


Log Directory Free Space Monitoring Absolute Thresholds

Description
The health test thresholds for monitoring of free space on the filesystem that contains this role's log directory.
Related Name
 
Default Value
Warning: 10 GiB,  Critical: 5 GiB
API Name

log_directory_free_space_absolute_thresholds

Required
false


Log Directory Free Space Monitoring Percentage Thresholds

Description
The health test thresholds for monitoring of free space on the filesystem that contains this role's log directory. Specified as a percentage of the capacity on that filesystem. This setting is not used if a Log Directory Free Space Monitoring Absolute Thresholds setting is configured.
Related Name
 
Default Value
Warning: Never,  Critical: Never
API Name

log_directory_free_space_percentage_thresholds

Required
false


Metric Filter

Description
Defines a Metric Filter for this role. Cloudera Manager Agents will not send filtered metrics to the Service Monitor. Define the following fields:Health Test Metric Set - Select this parameter to collect only metrics required for health tests.Default Dashboard Metric Set - Select this parameter to collect only metrics required for the default dashboards. For user-defined charts, you must add the metrics you require for the chart using the Custom Metrics parameter. Include/Exclude Custom Metrics  - Select Include to specify metrics that should be collected. Select Exclude to specify metrics that should not be collected. Enter the metric names to be included or excluded using the Metric Name parameter.Metric Name - The name of a metric that will be included or excluded during metric collection. If you do not select  Health Test Metric Set or Default Dashboard Metric Set, or specify metrics by name, metric filtering will be turned off (this is the default behavior).For example, the following configuration enables the collection of metrics required for Health Tests and the jvm_heap_used_mb metric:Include only Health Test Metric Set: Selected.Include/Exclude Custom Metrics: Set to Include.Metric Name: jvm_heap_used_mbYou can also view the JSON representation for this parameter by clicking View as JSON. In this example, the JSON looks like this:{
  "includeHealthTestMetricSet": true, 
  "filterType": "whitelist",
  "metrics": ["jvm_heap_used_mb"]
}
Related Name
 
Default Value
 
API Name

monitoring_metric_filter

Required
false


File Descriptor Monitoring Thresholds

Description
The health test thresholds of the number of file descriptors used. Specified as a percentage of file descriptor limit.
Related Name
 
Default Value
Warning: 50.0 %,  Critical: 70.0 %
API Name

ozone_datanode_fd_thresholds

Required
false


Ozone DataNode Host Health Test

Description
When computing the overall Ozone DataNode health, consider the host's health.
Related Name
 
Default Value
true
API Name

ozone_datanode_host_health_enabled

Required
false


Ozone DataNode Process Health Test

Description
Enables the health test that the Ozone DataNode's process state is consistent with the role configuration
Related Name
 
Default Value
true
API Name

ozone_datanode_scm_health_enabled

Required
false


Swap Memory Usage Rate Thresholds

Description
The health test thresholds on the swap memory usage rate of the process. Specified as the change of the used swap memory during the predefined period.
Related Name
 
Default Value
Warning: Never,  Critical: Never
API Name

process_swap_memory_rate_thresholds

Required
false


Swap Memory Usage Rate Window

Description
The period to review when computing unexpected swap memory usage change of the process.
Related Name

common.process.swap_memory_rate_window

Default Value
5 minute(s)
API Name

process_swap_memory_rate_window

Required
false


Process Swap Memory Thresholds

Description
The health test thresholds on the swap memory usage of the process. This takes precedence over the host level threshold.
Related Name
 
Default Value
Warning: 200 B,  Critical: Never
API Name

process_swap_memory_thresholds

Required
false


Role Triggers

Description
The configured triggers for this role. This is a JSON-formatted list of triggers. These triggers are evaluated as part as the health system. Every trigger expression is parsed, and if the trigger condition is met, the list of actions provided in the trigger expression is executed. Each trigger has the following fields:triggerName (mandatory) - The name of the trigger. This value must be unique for the specific role. triggerExpression (mandatory) - A tsquery expression representing the trigger. streamThreshold (optional) - The maximum number of streams that can satisfy a condition of a trigger before the condition fires. By default set to 0, and any stream returned causes the condition to fire. enabled  (optional) - By default set to 'true'. If set to 'false', the trigger is not evaluated.expressionEditorConfig  (optional) - Metadata for the trigger editor. If present, the trigger should only be edited from the Edit Trigger page; editing the trigger here can lead to inconsistencies.For example, the following JSON formatted trigger configured for a DataNode fires if the DataNode has more than 1500 file descriptors opened:[{"triggerName": "sample-trigger",
  "triggerExpression": "IF (SELECT fd_open WHERE roleName=$ROLENAME and last(fd_open) > 1500) DO health:bad",
  "streamThreshold": 0, "enabled": "true"}]See the trigger rules documentation for more details on how to write triggers using tsquery.The JSON format is evolving and may change and, as a result, backward compatibility is not guaranteed between releases.
Related Name
 
Default Value
[]
API Name

role_triggers

Required
true


Unexpected Exits Thresholds

Description
The health test thresholds for unexpected exits encountered within a recent period specified by the unexpected_exits_window configuration for the role.
Related Name
 
Default Value
Warning: Never,  Critical: Any
API Name

unexpected_exits_thresholds

Required
false


Unexpected Exits Monitoring Period

Description
The period to review when computing unexpected exits.
Related Name
 
Default Value
5 minute(s)
API Name

unexpected_exits_window

Required
false





Other

Datanode Ratis Metadata Directory

Description
This directory is used for storing Datanode Ratis metadata. Ideally, this should be mapped to a fast disk like an SSD.
Related Name

dfs.container.ratis.datanode.storage.dir

Default Value
/var/lib/hadoop-ozone/datanode/ratis/data
API Name

dfs.container.ratis.datanode.storage.dir

Required
true


Datanode Data Directory

Description
Determines where on the local filesystem HDDS data will be stored.
Related Name

hdds.datanode.dir

Default Value
/var/lib/hadoop-ozone/datanode/data
API Name

hdds.datanode.dir

Required
true


Ozone Log Directory

Description
Directory where Ozone DataNode logs will be written to
Related Name

ozone.log.dir

Default Value
/var/log/hadoop-ozone
API Name

ozone.log.dir

Required
false


Datanode Metadata Directory

Description
Determines where on the local filesystem datanode security certificates will be stored.
Related Name

ozone.metadata.dirs

Default Value
/var/lib/hadoop-ozone/datanode/ozone-metadata
API Name

ozone.metadata.dirs

Required
true


Datanode ID Directory

Description
Ozone Datanode ID Directory
Related Name

ozone.scm.datanode.id.dir

Default Value
/var/lib/hadoop-ozone/datanode
API Name

ozone.scm.datanode.id.dir

Required
true


Java Heap Size of DataNode

Description
Maximum size for the Java process heap memory.
Related Name

ozone_datanode_heap_size

Default Value
4 GiB
API Name

ozone_datanode_heap_size

Required
false





Performance

Maximum Process File Descriptors

Description
If configured, overrides the process soft and hard rlimits (also called ulimits) for file descriptors to the configured value.
Related Name
 
Default Value
 
API Name

rlimit_fds

Required
false





Ports and Addresses

Ozone Datanode HTTP Web UI Port

Description
The base port that the Ozone Datanode web user interface listens on. The host name is combined with this port to form the 'hdds.datanode.http-address'.
Related Name

ozone.datanode.http-port

Default Value
9882
API Name

ozone.datanode.http-port

Required
true


Ozone Datanode Port (TLS/SSL)

Description
The base port that the Ozone Datanode web user interface listens on when using HTTPS. The host name is combined with this port to form the 'hdds.datanode.https-address'.
Related Name

ozone.datanode.https-port

Default Value
9883
API Name

ozone.datanode.https-port

Required
false





Resource Management

Cgroup CPU Shares

Description
Number of CPU shares to assign to this role. The greater the number of shares, the larger the share of the host's CPUs that will be given to this role when the host experiences CPU contention. Must be between 2 and 262144. Defaults to 1024 for processes not managed by Cloudera Manager.
Related Name

cpu.shares

Default Value
1024
API Name

rm_cpu_shares

Required
true


Custom Control Group Resources (overrides Cgroup settings)

Description
Custom control group resources to assign to this role, which will be enforced by the Linux kernel. These resources should exist on the target hosts, otherwise an error will occur when the process starts. Use the same format as used for arguments to the cgexec command: resource1,resource2:path1 or resource3:path2 For example: 'cpu,memory:my/path blkio:my2/path2' ***These settings override other cgroup settings.***
Related Name

custom.cgroups

Default Value
 
API Name

rm_custom_resources

Required
false


Cgroup I/O Weight

Description
Weight for the read I/O requests issued by this role. The greater the weight, the higher the priority of the requests when the host experiences I/O contention. Must be between 100 and 1000. Defaults to 1000 for processes not managed by Cloudera Manager.
Related Name

blkio.weight

Default Value
500
API Name

rm_io_weight

Required
true


Cgroup Memory Hard Limit

Description
Hard memory limit to assign to this role, enforced by the Linux kernel. When the limit is reached, the kernel will reclaim pages charged to the process. If reclaiming fails, the kernel may kill the process. Both anonymous as well as page cache pages contribute to the limit. Use a value of -1 to specify no limit. By default processes not managed by Cloudera Manager will have no limit. If the value is -1, Cloudera Manager will not monitor Cgroup memory usage therefore some of the charts will show 'No Data'
Related Name

memory.limit_in_bytes

Default Value
-1 MiB
API Name

rm_memory_hard_limit

Required
true


Cgroup Memory Soft Limit

Description
Soft memory limit to assign to this role, enforced by the Linux kernel. When the limit is reached, the kernel will reclaim pages charged to the process if and only if the host is facing memory pressure. If reclaiming fails, the kernel may kill the process. Both anonymous as well as page cache pages contribute to the limit. Use a value of -1 to specify no limit. By default processes not managed by Cloudera Manager will have no limit. If the value is -1, Cloudera Manager will not monitor Cgroup memory usage therefore some of the charts will show 'No Data'
Related Name

memory.soft_limit_in_bytes

Default Value
-1 MiB
API Name

rm_memory_soft_limit

Required
true





Security

Ozone DataNode TLS/SSL Trust Store File

Description
The location on disk of the trust store, in .jks format, used to confirm the authenticity of TLS/SSL servers that Ozone DataNode might connect to. This trust store must contain the certificate(s) used to sign the service(s) connected to. If this parameter is not provided, the default list of well-known certificate authorities is used instead.
Related Name

ssl.client.truststore.location

Default Value
 
API Name

ssl_client_truststore_location

Required
false


Ozone DataNode TLS/SSL Trust Store Password

Description
The password for the Ozone DataNode TLS/SSL Trust Store File. This password is not required to access the trust store; this field can be left blank. This password provides optional integrity checking of the file. The contents of trust stores are certificates, and certificates are public information.
Related Name

ssl.client.truststore.password

Default Value
 
API Name

ssl_client_truststore_password

Required
false


Enable TLS/SSL for Ozone DataNode

Description
Encrypt communication between clients and Ozone DataNode using Transport Layer Security (TLS) (formerly known as Secure Socket Layer (SSL)).
Related Name

ozone.ssl.enabled

Default Value
false
API Name

ssl_enabled

Required
false


Ozone DataNode TLS/SSL Server Keystore Key Password

Description
The password that protects the private key contained in the keystore used when Ozone DataNode is acting as a TLS/SSL server.
Related Name

ssl.server.keystore.keypassword

Default Value
 
API Name

ssl_server_keystore_keypassword

Required
false


Ozone DataNode TLS/SSL Server Keystore File Location

Description
The path to the TLS/SSL keystore file containing the server certificate and private key used for TLS/SSL. Used when Ozone DataNode is acting as a TLS/SSL server. The keystore must be in the format specified in Administration > Settings > Java Keystore Type.
Related Name

ssl.server.keystore.location

Default Value
 
API Name

ssl_server_keystore_location

Required
false


Ozone DataNode TLS/SSL Server Keystore File Password

Description
The password for the Ozone DataNode keystore file.
Related Name

ssl.server.keystore.password

Default Value
 
API Name

ssl_server_keystore_password

Required
false





Stacks Collection

Stacks Collection Data Retention

Description
The amount of stacks data that is retained. After the retention limit is reached, the oldest data is deleted.
Related Name

stacks_collection_data_retention

Default Value
100 MiB
API Name

stacks_collection_data_retention

Required
false


Stacks Collection Directory

Description
The directory in which stacks logs are placed. If not set, stacks are logged into a stacks subdirectory of the role's log directory. If this directory already exists, it will be owned by the current role user with 755 permissions. Sharing the same directory among multiple roles will cause an ownership race.
Related Name

stacks_collection_directory

Default Value
 
API Name

stacks_collection_directory

Required
false


Stacks Collection Enabled

Description
Whether or not periodic stacks collection is enabled.
Related Name

stacks_collection_enabled

Default Value
false
API Name

stacks_collection_enabled

Required
true


Stacks Collection Frequency

Description
The frequency with which stacks are collected.
Related Name

stacks_collection_frequency

Default Value
5.0 second(s)
API Name

stacks_collection_frequency

Required
false


Stacks Collection Method

Description
The method used to collect stacks. The jstack option involves periodically running the jstack command against the role's daemon process. The servlet method is available for those roles that have an HTTP server endpoint exposing the current stacks traces of all threads. When the servlet method is selected, that HTTP endpoint is periodically scraped.
Related Name

stacks_collection_method

Default Value
jstack
API Name

stacks_collection_method

Required
false





Suppressions

Suppress Configuration Validator: CDH Version Validator

Description
Whether to suppress configuration warnings produced by the CDH Version Validator configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_cdh_version_validator

Required
true


Suppress Parameter Validation: Datanode Ratis Metadata Directory

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Datanode Ratis Metadata Directory parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_dfs.container.ratis.datanode.storage.dir

Required
true


Suppress Parameter Validation: Datanode Data Directory

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Datanode Data Directory parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_hdds.datanode.dir

Required
true


Suppress Parameter Validation: Ozone DataNode Logging Advanced Configuration Snippet (Safety Valve)

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone DataNode Logging Advanced Configuration Snippet (Safety Valve) parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_log4j_safety_valve

Required
true


Suppress Parameter Validation: Ozone DataNode Log Directory

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone DataNode Log Directory parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_log_dir

Required
true


Suppress Parameter Validation: Heap Dump Directory

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Heap Dump Directory parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_oom_heap_dump_dir

Required
true


Suppress Parameter Validation: Ozone DataNode Advanced Configuration Snippet (Safety Valve) for ozone-conf/dn-audit-log4j2.properties

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone DataNode Advanced Configuration Snippet (Safety Valve) for ozone-conf/dn-audit-log4j2.properties parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone-conf/dn-audit-log4j2.properties_role_safety_valve

Required
true


Suppress Parameter Validation: Ozone DataNode Advanced Configuration Snippet (Safety Valve) for ozone-conf/ozone-site.xml

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone DataNode Advanced Configuration Snippet (Safety Valve) for ozone-conf/ozone-site.xml parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone-conf/ozone-site.xml_role_safety_valve

Required
true


Suppress Parameter Validation: Ozone DataNode Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-client.xml

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone DataNode Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-client.xml parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone-conf/ssl-client.xml_role_safety_valve

Required
true


Suppress Parameter Validation: Ozone DataNode Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-server.xml

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone DataNode Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-server.xml parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone-conf/ssl-server.xml_role_safety_valve

Required
true


Suppress Parameter Validation: Ozone Datanode HTTP Web UI Port

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Datanode HTTP Web UI Port parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.datanode.http-port

Required
true


Suppress Parameter Validation: Ozone Datanode Port (TLS/SSL)

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Datanode Port (TLS/SSL) parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.datanode.https-port

Required
true


Suppress Parameter Validation: Ozone Log Directory

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Log Directory parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.log.dir

Required
true


Suppress Parameter Validation: Datanode Metadata Directory

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Datanode Metadata Directory parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.metadata.dirs

Required
true


Suppress Parameter Validation: Datanode ID Directory

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Datanode ID Directory parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.scm.datanode.id.dir

Required
true


Suppress Parameter Validation: Java Heap Size of DataNode

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Java Heap Size of DataNode parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone_datanode_heap_size

Required
true


Suppress Parameter Validation: Ozone DataNode Environment Advanced Configuration Snippet (Safety Valve)

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone DataNode Environment Advanced Configuration Snippet (Safety Valve) parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone_datanode_role_env_safety_valve

Required
true


Suppress Parameter Validation: Custom Control Group Resources (overrides Cgroup settings)

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Custom Control Group Resources (overrides Cgroup settings) parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_rm_custom_resources

Required
true


Suppress Parameter Validation: Role Triggers

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Role Triggers parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_role_triggers

Required
true


Suppress Parameter Validation: Ozone DataNode TLS/SSL Trust Store File

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone DataNode TLS/SSL Trust Store File parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ssl_client_truststore_location

Required
true


Suppress Parameter Validation: Ozone DataNode TLS/SSL Trust Store Password

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone DataNode TLS/SSL Trust Store Password parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ssl_client_truststore_password

Required
true


Suppress Parameter Validation: Ozone DataNode TLS/SSL Server Keystore Key Password

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone DataNode TLS/SSL Server Keystore Key Password parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ssl_server_keystore_keypassword

Required
true


Suppress Parameter Validation: Ozone DataNode TLS/SSL Server Keystore File Location

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone DataNode TLS/SSL Server Keystore File Location parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ssl_server_keystore_location

Required
true


Suppress Parameter Validation: Ozone DataNode TLS/SSL Server Keystore File Password

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone DataNode TLS/SSL Server Keystore File Password parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ssl_server_keystore_password

Required
true


Suppress Parameter Validation: Stacks Collection Directory

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Stacks Collection Directory parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_stacks_collection_directory

Required
true


Suppress Health Test: Audit Pipeline Test

Description
Whether to suppress the results of the Audit Pipeline Test heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_ozone_datanode_audit_health

Required
true


Suppress Health Test: File Descriptors

Description
Whether to suppress the results of the File Descriptors heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_ozone_datanode_file_descriptor

Required
true


Suppress Health Test: Host Health

Description
Whether to suppress the results of the Host Health heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_ozone_datanode_host_health

Required
true


Suppress Health Test: Log Directory Free Space

Description
Whether to suppress the results of the Log Directory Free Space heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_ozone_datanode_log_directory_free_space

Required
true


Suppress Health Test: Process Status

Description
Whether to suppress the results of the Process Status heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_ozone_datanode_scm_health

Required
true


Suppress Health Test: Swap Memory Usage

Description
Whether to suppress the results of the Swap Memory Usage heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_ozone_datanode_swap_memory_usage

Required
true


Suppress Health Test: Swap Memory Usage Rate Beta

Description
Whether to suppress the results of the Swap Memory Usage Rate Beta heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_ozone_datanode_swap_memory_usage_rate

Required
true


Suppress Health Test: Unexpected Exits

Description
Whether to suppress the results of the Unexpected Exits heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_ozone_datanode_unexpected_exits

Required
true






Ozone Manager


Advanced

Ozone Manager Logging Advanced Configuration Snippet (Safety Valve)

Description
For advanced use only, a string to be inserted into log4j.properties for this role only.
Related Name
 
Default Value
 
API Name

log4j_safety_valve

Required
false


Enable auto refresh for metric configurations

Description
When true, Enable Metric Collection and Metric Filter parameters will be set automatically if they're changed. Otherwise, a refresh by hand is required.
Related Name
 
Default Value
false
API Name

metric_config_auto_refresh

Required
false


Heap Dump Directory

Description
Path to directory where heap dumps are generated when java.lang.OutOfMemoryError error is thrown. This directory is automatically created if it does not exist. If this directory already exists, it will be owned by the current role user with 1777 permissions. Sharing the same directory among multiple roles will cause an ownership race. The heap dump files are created with 600 permissions and are owned by the role user. The amount of free space in this directory should be greater than the maximum Java Process heap size configured for this role.
Related Name

oom_heap_dump_dir

Default Value
/tmp
API Name

oom_heap_dump_dir

Required
false


Dump Heap When Out of Memory

Description
When set, generates a heap dump file when when an out-of-memory error occurs.
Related Name
 
Default Value
true
API Name

oom_heap_dump_enabled

Required
true


Kill When Out of Memory

Description
When set, a SIGKILL signal is sent to the role process when java.lang.OutOfMemoryError is thrown.
Related Name
 
Default Value
true
API Name

oom_sigkill_enabled

Required
true


Ozone Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/om-audit-log4j2.properties

Description
For advanced use only. A string to be inserted into ozone-conf/om-audit-log4j2.properties for this role only.
Related Name
 
Default Value
 
API Name

ozone-conf/om-audit-log4j2.properties_role_safety_valve

Required
false


Ozone Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ozone-site.xml

Description
For advanced use only. A string to be inserted into ozone-conf/ozone-site.xml for this role only.
Related Name
 
Default Value
 
API Name

ozone-conf/ozone-site.xml_role_safety_valve

Required
false


Ozone Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ranger-ozone-audit.xml

Description
For advanced use only. A string to be inserted into ozone-conf/ranger-ozone-audit.xml for this role only.
Related Name
 
Default Value
 
API Name

ozone-conf/ranger-ozone-audit.xml_role_safety_valve

Required
false


Ozone Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ranger-ozone-policymgr-ssl.xml

Description
For advanced use only. A string to be inserted into ozone-conf/ranger-ozone-policymgr-ssl.xml for this role only.
Related Name
 
Default Value
 
API Name

ozone-conf/ranger-ozone-policymgr-ssl.xml_role_safety_valve

Required
false


Ozone Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ranger-ozone-security.xml

Description
For advanced use only. A string to be inserted into ozone-conf/ranger-ozone-security.xml for this role only.
Related Name
 
Default Value
 
API Name

ozone-conf/ranger-ozone-security.xml_role_safety_valve

Required
false


Ozone Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-client.xml

Description
For advanced use only. A string to be inserted into ozone-conf/ssl-client.xml for this role only.
Related Name
 
Default Value
 
API Name

ozone-conf/ssl-client.xml_role_safety_valve

Required
false


Ozone Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-server.xml

Description
For advanced use only. A string to be inserted into ozone-conf/ssl-server.xml for this role only.
Related Name
 
Default Value
 
API Name

ozone-conf/ssl-server.xml_role_safety_valve

Required
false


Ozone Manager Environment Advanced Configuration Snippet (Safety Valve)

Description
For advanced use only, key-value pairs (one on each line) to be inserted into a role's environment. Applies to configurations of this role except client configuration.
Related Name
 
Default Value
 
API Name

OZONE_MANAGER_role_env_safety_valve

Required
false


Automatically Restart Process

Description
When set, this role's process is automatically (and transparently) restarted in the event of an unexpected failure.  This configuration applies in the time after the Start Wait Timeout period.
Related Name
 
Default Value
false
API Name

process_auto_restart

Required
true


Enable Metric Collection

Description
Cloudera Manager agent monitors each service and each of its role by publishing metrics to the Cloudera Manager Service Monitor. Setting it to false will stop Cloudera Manager agent from publishing any metric for corresponding service/roles. This is usually helpful for services that generate large amount of metrics which Service Monitor is not able to process.
Related Name
 
Default Value
true
API Name

process_should_monitor

Required
true


Process Start Retry Attempts

Description
Number of times to try starting a role's process when the process exits before the Start Wait Timeout period.  After a process is running beyond the Start Wait Timeout, the retry count is reset.  Setting this configuration to zero will prevent restart of the process during the Start Wait Timeout period.
Related Name
 
Default Value
3
API Name

process_start_retries

Required
false


Process Start Wait Timeout

Description
The time in seconds to wait for a role's process to start successfully on a host.  Processes which exit/crash before this time will be restarted until reaching the limit specified by the Start Retry Attempts count parameter.  Setting this configuration to zero will turn off this feature.
Related Name
 
Default Value
20
API Name

process_start_secs

Required
false





Logs

Ozone Manager Log Directory

Description
The log directory for log files of the role Ozone Manager.
Related Name

log.dir

Default Value
/var/log/hadoop-ozone
API Name

log_dir

Required
false


Ozone Manager Logging Threshold

Description
The minimum log level for Ozone Manager logs
Related Name
 
Default Value
INFO
API Name

log_threshold

Required
false


Ozone Manager Maximum Log File Backups

Description
The maximum number of rolled log files to keep for Ozone Manager logs.  Typically used by log4j or logback.
Related Name
 
Default Value
10
API Name

max_log_backup_index

Required
false


Ozone Manager Max Log Size

Description
The maximum size, in megabytes, per log file for Ozone Manager logs.  Typically used by log4j or logback.
Related Name
 
Default Value
200 MiB
API Name

max_log_size

Required
false





Monitoring

Enable Health Alerts for this Role

Description
When set, Cloudera Manager will send alerts when the health of this role reaches the threshold specified by the EventServer setting eventserver_health_events_alert_threshold
Related Name
 
Default Value
true
API Name

enable_alerts

Required
false


Enable Configuration Change Alerts

Description
When set, Cloudera Manager will send alerts when this entity's configuration changes.
Related Name
 
Default Value
false
API Name

enable_config_alerts

Required
false


Log Directory Free Space Monitoring Absolute Thresholds

Description
The health test thresholds for monitoring of free space on the filesystem that contains this role's log directory.
Related Name
 
Default Value
Warning: 10 GiB,  Critical: 5 GiB
API Name

log_directory_free_space_absolute_thresholds

Required
false


Log Directory Free Space Monitoring Percentage Thresholds

Description
The health test thresholds for monitoring of free space on the filesystem that contains this role's log directory. Specified as a percentage of the capacity on that filesystem. This setting is not used if a Log Directory Free Space Monitoring Absolute Thresholds setting is configured.
Related Name
 
Default Value
Warning: Never,  Critical: Never
API Name

log_directory_free_space_percentage_thresholds

Required
false


Metric Filter

Description
Defines a Metric Filter for this role. Cloudera Manager Agents will not send filtered metrics to the Service Monitor. Define the following fields:Health Test Metric Set - Select this parameter to collect only metrics required for health tests.Default Dashboard Metric Set - Select this parameter to collect only metrics required for the default dashboards. For user-defined charts, you must add the metrics you require for the chart using the Custom Metrics parameter. Include/Exclude Custom Metrics  - Select Include to specify metrics that should be collected. Select Exclude to specify metrics that should not be collected. Enter the metric names to be included or excluded using the Metric Name parameter.Metric Name - The name of a metric that will be included or excluded during metric collection. If you do not select  Health Test Metric Set or Default Dashboard Metric Set, or specify metrics by name, metric filtering will be turned off (this is the default behavior).For example, the following configuration enables the collection of metrics required for Health Tests and the jvm_heap_used_mb metric:Include only Health Test Metric Set: Selected.Include/Exclude Custom Metrics: Set to Include.Metric Name: jvm_heap_used_mbYou can also view the JSON representation for this parameter by clicking View as JSON. In this example, the JSON looks like this:{
  "includeHealthTestMetricSet": true, 
  "filterType": "whitelist",
  "metrics": ["jvm_heap_used_mb"]
}
Related Name
 
Default Value
 
API Name

monitoring_metric_filter

Required
false


File Descriptor Monitoring Thresholds

Description
The health test thresholds of the number of file descriptors used. Specified as a percentage of file descriptor limit.
Related Name
 
Default Value
Warning: 50.0 %,  Critical: 70.0 %
API Name

ozone_manager_fd_thresholds

Required
false


Ozone Manager Host Health Test

Description
When computing the overall Ozone Manager health, consider the host's health.
Related Name
 
Default Value
true
API Name

ozone_manager_host_health_enabled

Required
false


Ozone Manager Process Health Test

Description
Enables the health test that the Ozone Manager's process state is consistent with the role configuration
Related Name
 
Default Value
true
API Name

ozone_manager_scm_health_enabled

Required
false


Swap Memory Usage Rate Thresholds

Description
The health test thresholds on the swap memory usage rate of the process. Specified as the change of the used swap memory during the predefined period.
Related Name
 
Default Value
Warning: Never,  Critical: Never
API Name

process_swap_memory_rate_thresholds

Required
false


Swap Memory Usage Rate Window

Description
The period to review when computing unexpected swap memory usage change of the process.
Related Name

common.process.swap_memory_rate_window

Default Value
5 minute(s)
API Name

process_swap_memory_rate_window

Required
false


Process Swap Memory Thresholds

Description
The health test thresholds on the swap memory usage of the process. This takes precedence over the host level threshold.
Related Name
 
Default Value
Warning: 200 B,  Critical: Never
API Name

process_swap_memory_thresholds

Required
false


Role Triggers

Description
The configured triggers for this role. This is a JSON-formatted list of triggers. These triggers are evaluated as part as the health system. Every trigger expression is parsed, and if the trigger condition is met, the list of actions provided in the trigger expression is executed. Each trigger has the following fields:triggerName (mandatory) - The name of the trigger. This value must be unique for the specific role. triggerExpression (mandatory) - A tsquery expression representing the trigger. streamThreshold (optional) - The maximum number of streams that can satisfy a condition of a trigger before the condition fires. By default set to 0, and any stream returned causes the condition to fire. enabled  (optional) - By default set to 'true'. If set to 'false', the trigger is not evaluated.expressionEditorConfig  (optional) - Metadata for the trigger editor. If present, the trigger should only be edited from the Edit Trigger page; editing the trigger here can lead to inconsistencies.For example, the following JSON formatted trigger configured for a DataNode fires if the DataNode has more than 1500 file descriptors opened:[{"triggerName": "sample-trigger",
  "triggerExpression": "IF (SELECT fd_open WHERE roleName=$ROLENAME and last(fd_open) > 1500) DO health:bad",
  "streamThreshold": 0, "enabled": "true"}]See the trigger rules documentation for more details on how to write triggers using tsquery.The JSON format is evolving and may change and, as a result, backward compatibility is not guaranteed between releases.
Related Name
 
Default Value
[]
API Name

role_triggers

Required
true


Unexpected Exits Thresholds

Description
The health test thresholds for unexpected exits encountered within a recent period specified by the unexpected_exits_window configuration for the role.
Related Name
 
Default Value
Warning: Never,  Critical: Any
API Name

unexpected_exits_thresholds

Required
false


Unexpected Exits Monitoring Period

Description
The period to review when computing unexpected exits.
Related Name
 
Default Value
5 minute(s)
API Name

unexpected_exits_window

Required
false





Other

Java Heap Size of Ozone Manager

Description
Maximum size for the Java process heap memory.
Related Name

om_max_heap_size

Default Value
4 GiB
API Name

om_max_heap_size

Required
false


Ozone Log Directory

Description
Directory where Ozone Manager logs will be written to
Related Name

ozone.log.dir

Default Value
/var/log/hadoop-ozone
API Name

ozone.log.dir

Required
false


Ozone Manager Metadata Directory

Description
Determines where on the local filesystem Ozone Manager security certificates will be stored.
Related Name

ozone.metadata.dirs

Default Value
/var/lib/hadoop-ozone/om/ozone-metadata
API Name

ozone.metadata.dirs

Required
true


Ozone Manager Data Directory

Description
Directory where the OzoneManager stores its metadata.
Related Name

ozone.om.db.dirs

Default Value
/var/lib/hadoop-ozone/om/data
API Name

ozone.om.db.dirs

Required
true


Ozone Manager HTTP Bind Hostname

Description
The actual address the OM web server will bind to. If this optional address is set, it overrides only the hostname portion of 'ozone.om.http-address'.
Related Name

ozone.om.http-bind-host

Default Value
0.0.0.0
API Name

ozone.om.http-bind-host

Required
false


Secure Ozone Manager HTTPS Bind Hostname

Description
The actual address the OM web server will bind to using HTTPS. If this optional address is set, it overrides only the hostname portion of 'ozone.om.https-address'.
Related Name

ozone.om.https-bind-host

Default Value
0.0.0.0
API Name

ozone.om.https-bind-host

Required
false


Ozone Manager Ratis Storage Directory

Description
This directory is used for storing Ozone Manager's Ratis metadata like logs. Ideally, this should be mapped to a fast disk like an SSD.
Related Name

ozone.om.ratis.storage.dir

Default Value
/var/lib/hadoop-ozone/om/ratis
API Name

ozone.om.ratis.storage.dir

Required
true


Ranger Ozone Plugin Conf Path

Description
Staging directory for Ranger Ozone Plugin Configuration. This should generally not be changed.
Related Name

ranger_ozone_plugin_conf_path

Default Value
/etc/ranger/ozone-plugin
API Name

ranger_ozone_plugin_conf_path

Required
true


Ranger Ozone Plugin Policy Cache Directory Path

Description
The directory where Ranger security policies are cached locally.
Related Name

ranger.plugin.ozone.policy.cache.dir

Default Value
/var/lib/ranger/ozone/policy-cache
API Name

ranger_ozone_plugin_policy_cache_directory

Required
true


Ranger Ozone Plugin Audit Solr Spool Directory Path

Description
Spool directory for Ranger audits being written to Solr.
Related Name

xasecure.audit.destination.solr.batch.filespool.dir

Default Value
/var/log/hadoop-ozone/ranger-audit/solr/spool
API Name

ranger_ozone_plugin_solr_audit_spool_directory

Required
true





Performance

Maximum Process File Descriptors

Description
If configured, overrides the process soft and hard rlimits (also called ulimits) for file descriptors to the configured value.
Related Name
 
Default Value
 
API Name

rlimit_fds

Required
false





Ports and Addresses

Ozone Manager HTTP Web UI Port

Description
The base port that the Ozone Manager HTTP web user interface listens on. The host name of the Ozone Manager is combined with this port to form the 'ozone.om.http-address'.
Related Name

ozone.om.http-port

Default Value
9874
API Name

ozone.om.http-port

Required
true


Secure Ozone Manager Web UI Port (TLS/SSL)

Description
The base port that the Ozone Manager HTTP web user interface listens on when using HTTPS. The host name of the Ozone Manager is combined with this port to form the 'ozone.om.https-address'.
Related Name

ozone.om.https-port

Default Value
9875
API Name

ozone.om.https-port

Required
false


Ozone Manager Ratis port

Description
The base port that Ozone Manager's Ratis Server listens on if multiple Ozone Manager's are configured.
Related Name

ozone.om.ratis-port

Default Value
9872
API Name

ozone.om.ratis-port

Required
false


Ozone Manager RPC port

Description
The base port that Ozone Manager listens on when serving RPCs. The host name of the Ozone Manager is combined with this port to form the 'ozone.om.address'.
Related Name

ozone.om.rpc-port

Default Value
9862
API Name

ozone.om.rpc-port

Required
false





Resource Management

Cgroup CPU Shares

Description
Number of CPU shares to assign to this role. The greater the number of shares, the larger the share of the host's CPUs that will be given to this role when the host experiences CPU contention. Must be between 2 and 262144. Defaults to 1024 for processes not managed by Cloudera Manager.
Related Name

cpu.shares

Default Value
1024
API Name

rm_cpu_shares

Required
true


Custom Control Group Resources (overrides Cgroup settings)

Description
Custom control group resources to assign to this role, which will be enforced by the Linux kernel. These resources should exist on the target hosts, otherwise an error will occur when the process starts. Use the same format as used for arguments to the cgexec command: resource1,resource2:path1 or resource3:path2 For example: 'cpu,memory:my/path blkio:my2/path2' ***These settings override other cgroup settings.***
Related Name

custom.cgroups

Default Value
 
API Name

rm_custom_resources

Required
false


Cgroup I/O Weight

Description
Weight for the read I/O requests issued by this role. The greater the weight, the higher the priority of the requests when the host experiences I/O contention. Must be between 100 and 1000. Defaults to 1000 for processes not managed by Cloudera Manager.
Related Name

blkio.weight

Default Value
500
API Name

rm_io_weight

Required
true


Cgroup Memory Hard Limit

Description
Hard memory limit to assign to this role, enforced by the Linux kernel. When the limit is reached, the kernel will reclaim pages charged to the process. If reclaiming fails, the kernel may kill the process. Both anonymous as well as page cache pages contribute to the limit. Use a value of -1 to specify no limit. By default processes not managed by Cloudera Manager will have no limit. If the value is -1, Cloudera Manager will not monitor Cgroup memory usage therefore some of the charts will show 'No Data'
Related Name

memory.limit_in_bytes

Default Value
-1 MiB
API Name

rm_memory_hard_limit

Required
true


Cgroup Memory Soft Limit

Description
Soft memory limit to assign to this role, enforced by the Linux kernel. When the limit is reached, the kernel will reclaim pages charged to the process if and only if the host is facing memory pressure. If reclaiming fails, the kernel may kill the process. Both anonymous as well as page cache pages contribute to the limit. Use a value of -1 to specify no limit. By default processes not managed by Cloudera Manager will have no limit. If the value is -1, Cloudera Manager will not monitor Cgroup memory usage therefore some of the charts will show 'No Data'
Related Name

memory.soft_limit_in_bytes

Default Value
-1 MiB
API Name

rm_memory_soft_limit

Required
true





Security

Ozone Manager TLS/SSL Trust Store File

Description
The location on disk of the trust store, in .jks format, used to confirm the authenticity of TLS/SSL servers that Ozone Manager might connect to. This trust store must contain the certificate(s) used to sign the service(s) connected to. If this parameter is not provided, the default list of well-known certificate authorities is used instead.
Related Name

ssl.client.truststore.location

Default Value
 
API Name

ssl_client_truststore_location

Required
false


Ozone Manager TLS/SSL Trust Store Password

Description
The password for the Ozone Manager TLS/SSL Trust Store File. This password is not required to access the trust store; this field can be left blank. This password provides optional integrity checking of the file. The contents of trust stores are certificates, and certificates are public information.
Related Name

ssl.client.truststore.password

Default Value
 
API Name

ssl_client_truststore_password

Required
false


Enable TLS/SSL for Ozone Manager

Description
Encrypt communication between clients and Ozone Manager using Transport Layer Security (TLS) (formerly known as Secure Socket Layer (SSL)).
Related Name

ozone.ssl.enabled

Default Value
false
API Name

ssl_enabled

Required
false


Ozone Manager TLS/SSL Server Keystore Key Password

Description
The password that protects the private key contained in the keystore used when Ozone Manager is acting as a TLS/SSL server.
Related Name

ssl.server.keystore.keypassword

Default Value
 
API Name

ssl_server_keystore_keypassword

Required
false


Ozone Manager TLS/SSL Server Keystore File Location

Description
The path to the TLS/SSL keystore file containing the server certificate and private key used for TLS/SSL. Used when Ozone Manager is acting as a TLS/SSL server. The keystore must be in the format specified in Administration > Settings > Java Keystore Type.
Related Name

ssl.server.keystore.location

Default Value
 
API Name

ssl_server_keystore_location

Required
false


Ozone Manager TLS/SSL Server Keystore File Password

Description
The password for the Ozone Manager keystore file.
Related Name

ssl.server.keystore.password

Default Value
 
API Name

ssl_server_keystore_password

Required
false





Stacks Collection

Stacks Collection Data Retention

Description
The amount of stacks data that is retained. After the retention limit is reached, the oldest data is deleted.
Related Name

stacks_collection_data_retention

Default Value
100 MiB
API Name

stacks_collection_data_retention

Required
false


Stacks Collection Directory

Description
The directory in which stacks logs are placed. If not set, stacks are logged into a stacks subdirectory of the role's log directory. If this directory already exists, it will be owned by the current role user with 755 permissions. Sharing the same directory among multiple roles will cause an ownership race.
Related Name

stacks_collection_directory

Default Value
 
API Name

stacks_collection_directory

Required
false


Stacks Collection Enabled

Description
Whether or not periodic stacks collection is enabled.
Related Name

stacks_collection_enabled

Default Value
false
API Name

stacks_collection_enabled

Required
true


Stacks Collection Frequency

Description
The frequency with which stacks are collected.
Related Name

stacks_collection_frequency

Default Value
5.0 second(s)
API Name

stacks_collection_frequency

Required
false


Stacks Collection Method

Description
The method used to collect stacks. The jstack option involves periodically running the jstack command against the role's daemon process. The servlet method is available for those roles that have an HTTP server endpoint exposing the current stacks traces of all threads. When the servlet method is selected, that HTTP endpoint is periodically scraped.
Related Name

stacks_collection_method

Default Value
jstack
API Name

stacks_collection_method

Required
false





Suppressions

Suppress Configuration Validator: CDH Version Validator

Description
Whether to suppress configuration warnings produced by the CDH Version Validator configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_cdh_version_validator

Required
true


Suppress Parameter Validation: Ozone Manager Logging Advanced Configuration Snippet (Safety Valve)

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Manager Logging Advanced Configuration Snippet (Safety Valve) parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_log4j_safety_valve

Required
true


Suppress Parameter Validation: Ozone Manager Log Directory

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Manager Log Directory parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_log_dir

Required
true


Suppress Parameter Validation: Java Heap Size of Ozone Manager

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Java Heap Size of Ozone Manager parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_om_max_heap_size

Required
true


Suppress Parameter Validation: Heap Dump Directory

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Heap Dump Directory parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_oom_heap_dump_dir

Required
true


Suppress Parameter Validation: Ozone Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/om-audit-log4j2.properties

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/om-audit-log4j2.properties parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone-conf/om-audit-log4j2.properties_role_safety_valve

Required
true


Suppress Parameter Validation: Ozone Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ozone-site.xml

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ozone-site.xml parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone-conf/ozone-site.xml_role_safety_valve

Required
true


Suppress Parameter Validation: Ozone Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ranger-ozone-audit.xml

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ranger-ozone-audit.xml parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone-conf/ranger-ozone-audit.xml_role_safety_valve

Required
true


Suppress Parameter Validation: Ozone Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ranger-ozone-policymgr-ssl.xml

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ranger-ozone-policymgr-ssl.xml parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone-conf/ranger-ozone-policymgr-ssl.xml_role_safety_valve

Required
true


Suppress Parameter Validation: Ozone Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ranger-ozone-security.xml

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ranger-ozone-security.xml parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone-conf/ranger-ozone-security.xml_role_safety_valve

Required
true


Suppress Parameter Validation: Ozone Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-client.xml

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-client.xml parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone-conf/ssl-client.xml_role_safety_valve

Required
true


Suppress Parameter Validation: Ozone Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-server.xml

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-server.xml parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone-conf/ssl-server.xml_role_safety_valve

Required
true


Suppress Parameter Validation: Ozone Log Directory

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Log Directory parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.log.dir

Required
true


Suppress Parameter Validation: Ozone Manager Metadata Directory

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Manager Metadata Directory parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.metadata.dirs

Required
true


Suppress Parameter Validation: Ozone Manager Data Directory

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Manager Data Directory parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.om.db.dirs

Required
true


Suppress Parameter Validation: Ozone Manager HTTP Bind Hostname

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Manager HTTP Bind Hostname parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.om.http-bind-host

Required
true


Suppress Parameter Validation: Ozone Manager HTTP Web UI Port

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Manager HTTP Web UI Port parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.om.http-port

Required
true


Suppress Parameter Validation: Secure Ozone Manager HTTPS Bind Hostname

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Secure Ozone Manager HTTPS Bind Hostname parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.om.https-bind-host

Required
true


Suppress Parameter Validation: Secure Ozone Manager Web UI Port (TLS/SSL)

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Secure Ozone Manager Web UI Port (TLS/SSL) parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.om.https-port

Required
true


Suppress Parameter Validation: Ozone Manager Ratis port

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Manager Ratis port parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.om.ratis-port

Required
true


Suppress Parameter Validation: Ozone Manager Ratis Storage Directory

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Manager Ratis Storage Directory parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.om.ratis.storage.dir

Required
true


Suppress Parameter Validation: Ozone Manager RPC port

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Manager RPC port parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.om.rpc-port

Required
true


Suppress Parameter Validation: Ozone Manager Environment Advanced Configuration Snippet (Safety Valve)

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Manager Environment Advanced Configuration Snippet (Safety Valve) parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone_manager_role_env_safety_valve

Required
true


Suppress Parameter Validation: Ranger Ozone Plugin Conf Path

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ranger Ozone Plugin Conf Path parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ranger_ozone_plugin_conf_path

Required
true


Suppress Parameter Validation: Ranger Ozone Plugin Policy Cache Directory Path

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ranger Ozone Plugin Policy Cache Directory Path parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ranger_ozone_plugin_policy_cache_directory

Required
true


Suppress Parameter Validation: Ranger Ozone Plugin Audit Solr Spool Directory Path

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ranger Ozone Plugin Audit Solr Spool Directory Path parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ranger_ozone_plugin_solr_audit_spool_directory

Required
true


Suppress Parameter Validation: Custom Control Group Resources (overrides Cgroup settings)

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Custom Control Group Resources (overrides Cgroup settings) parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_rm_custom_resources

Required
true


Suppress Parameter Validation: Role Triggers

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Role Triggers parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_role_triggers

Required
true


Suppress Parameter Validation: Ozone Manager TLS/SSL Trust Store File

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Manager TLS/SSL Trust Store File parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ssl_client_truststore_location

Required
true


Suppress Parameter Validation: Ozone Manager TLS/SSL Trust Store Password

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Manager TLS/SSL Trust Store Password parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ssl_client_truststore_password

Required
true


Suppress Parameter Validation: Ozone Manager TLS/SSL Server Keystore Key Password

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Manager TLS/SSL Server Keystore Key Password parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ssl_server_keystore_keypassword

Required
true


Suppress Parameter Validation: Ozone Manager TLS/SSL Server Keystore File Location

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Manager TLS/SSL Server Keystore File Location parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ssl_server_keystore_location

Required
true


Suppress Parameter Validation: Ozone Manager TLS/SSL Server Keystore File Password

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Manager TLS/SSL Server Keystore File Password parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ssl_server_keystore_password

Required
true


Suppress Parameter Validation: Stacks Collection Directory

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Stacks Collection Directory parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_stacks_collection_directory

Required
true


Suppress Health Test: Audit Pipeline Test

Description
Whether to suppress the results of the Audit Pipeline Test heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_ozone_manager_audit_health

Required
true


Suppress Health Test: File Descriptors

Description
Whether to suppress the results of the File Descriptors heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_ozone_manager_file_descriptor

Required
true


Suppress Health Test: Host Health

Description
Whether to suppress the results of the Host Health heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_ozone_manager_host_health

Required
true


Suppress Health Test: Log Directory Free Space

Description
Whether to suppress the results of the Log Directory Free Space heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_ozone_manager_log_directory_free_space

Required
true


Suppress Health Test: Process Status

Description
Whether to suppress the results of the Process Status heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_ozone_manager_scm_health

Required
true


Suppress Health Test: Swap Memory Usage

Description
Whether to suppress the results of the Swap Memory Usage heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_ozone_manager_swap_memory_usage

Required
true


Suppress Health Test: Swap Memory Usage Rate Beta

Description
Whether to suppress the results of the Swap Memory Usage Rate Beta heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_ozone_manager_swap_memory_usage_rate

Required
true


Suppress Health Test: Unexpected Exits

Description
Whether to suppress the results of the Unexpected Exits heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_ozone_manager_unexpected_exits

Required
true






Ozone Prometheus


Advanced

Enable auto refresh for metric configurations

Description
When true, Enable Metric Collection and Metric Filter parameters will be set automatically if they're changed. Otherwise, a refresh by hand is required.
Related Name
 
Default Value
false
API Name

metric_config_auto_refresh

Required
false


Ozone Prometheus Advanced Configuration Snippet (Safety Valve) for ozone-conf/ozone-prometheus.yml

Description
For advanced use only. A string to be inserted into ozone-conf/ozone-prometheus.yml for this role only.
Related Name
 
Default Value
 
API Name

ozone-conf/ozone-prometheus.yml_role_safety_valve

Required
false


Ozone Prometheus Advanced Configuration Snippet (Safety Valve) for ozone-conf/prometheus-token

Description
For advanced use only. A string to be inserted into ozone-conf/prometheus-token for this role only.
Related Name
 
Default Value
 
API Name

ozone-conf/prometheus-token_role_safety_valve

Required
false


Ozone Prometheus Environment Advanced Configuration Snippet (Safety Valve)

Description
For advanced use only, key-value pairs (one on each line) to be inserted into a role's environment. Applies to configurations of this role except client configuration.
Related Name
 
Default Value
 
API Name

OZONE_PROMETHEUS_role_env_safety_valve

Required
false


Automatically Restart Process

Description
When set, this role's process is automatically (and transparently) restarted in the event of an unexpected failure.  This configuration applies in the time after the Start Wait Timeout period.
Related Name
 
Default Value
false
API Name

process_auto_restart

Required
true


Enable Metric Collection

Description
Cloudera Manager agent monitors each service and each of its role by publishing metrics to the Cloudera Manager Service Monitor. Setting it to false will stop Cloudera Manager agent from publishing any metric for corresponding service/roles. This is usually helpful for services that generate large amount of metrics which Service Monitor is not able to process.
Related Name
 
Default Value
true
API Name

process_should_monitor

Required
true


Process Start Retry Attempts

Description
Number of times to try starting a role's process when the process exits before the Start Wait Timeout period.  After a process is running beyond the Start Wait Timeout, the retry count is reset.  Setting this configuration to zero will prevent restart of the process during the Start Wait Timeout period.
Related Name
 
Default Value
3
API Name

process_start_retries

Required
false


Process Start Wait Timeout

Description
The time in seconds to wait for a role's process to start successfully on a host.  Processes which exit/crash before this time will be restarted until reaching the limit specified by the Start Retry Attempts count parameter.  Setting this configuration to zero will turn off this feature.
Related Name
 
Default Value
20
API Name

process_start_secs

Required
false





Monitoring

Enable Health Alerts for this Role

Description
When set, Cloudera Manager will send alerts when the health of this role reaches the threshold specified by the EventServer setting eventserver_health_events_alert_threshold
Related Name
 
Default Value
true
API Name

enable_alerts

Required
false


Enable Configuration Change Alerts

Description
When set, Cloudera Manager will send alerts when this entity's configuration changes.
Related Name
 
Default Value
false
API Name

enable_config_alerts

Required
false


Metric Filter

Description
Defines a Metric Filter for this role. Cloudera Manager Agents will not send filtered metrics to the Service Monitor. Define the following fields:Health Test Metric Set - Select this parameter to collect only metrics required for health tests.Default Dashboard Metric Set - Select this parameter to collect only metrics required for the default dashboards. For user-defined charts, you must add the metrics you require for the chart using the Custom Metrics parameter. Include/Exclude Custom Metrics  - Select Include to specify metrics that should be collected. Select Exclude to specify metrics that should not be collected. Enter the metric names to be included or excluded using the Metric Name parameter.Metric Name - The name of a metric that will be included or excluded during metric collection. If you do not select  Health Test Metric Set or Default Dashboard Metric Set, or specify metrics by name, metric filtering will be turned off (this is the default behavior).For example, the following configuration enables the collection of metrics required for Health Tests and the jvm_heap_used_mb metric:Include only Health Test Metric Set: Selected.Include/Exclude Custom Metrics: Set to Include.Metric Name: jvm_heap_used_mbYou can also view the JSON representation for this parameter by clicking View as JSON. In this example, the JSON looks like this:{
  "includeHealthTestMetricSet": true, 
  "filterType": "whitelist",
  "metrics": ["jvm_heap_used_mb"]
}
Related Name
 
Default Value
 
API Name

monitoring_metric_filter

Required
false


File Descriptor Monitoring Thresholds

Description
The health test thresholds of the number of file descriptors used. Specified as a percentage of file descriptor limit.
Related Name
 
Default Value
Warning: 50.0 %,  Critical: 70.0 %
API Name

ozone_prometheus_fd_thresholds

Required
false


Ozone Prometheus Host Health Test

Description
When computing the overall Ozone Prometheus health, consider the host's health.
Related Name
 
Default Value
true
API Name

ozone_prometheus_host_health_enabled

Required
false


Ozone Prometheus Process Health Test

Description
Enables the health test that the Ozone Prometheus's process state is consistent with the role configuration
Related Name
 
Default Value
true
API Name

ozone_prometheus_scm_health_enabled

Required
false


Swap Memory Usage Rate Thresholds

Description
The health test thresholds on the swap memory usage rate of the process. Specified as the change of the used swap memory during the predefined period.
Related Name
 
Default Value
Warning: Never,  Critical: Never
API Name

process_swap_memory_rate_thresholds

Required
false


Swap Memory Usage Rate Window

Description
The period to review when computing unexpected swap memory usage change of the process.
Related Name

common.process.swap_memory_rate_window

Default Value
5 minute(s)
API Name

process_swap_memory_rate_window

Required
false


Process Swap Memory Thresholds

Description
The health test thresholds on the swap memory usage of the process. This takes precedence over the host level threshold.
Related Name
 
Default Value
Warning: 200 B,  Critical: Never
API Name

process_swap_memory_thresholds

Required
false


Role Triggers

Description
The configured triggers for this role. This is a JSON-formatted list of triggers. These triggers are evaluated as part as the health system. Every trigger expression is parsed, and if the trigger condition is met, the list of actions provided in the trigger expression is executed. Each trigger has the following fields:triggerName (mandatory) - The name of the trigger. This value must be unique for the specific role. triggerExpression (mandatory) - A tsquery expression representing the trigger. streamThreshold (optional) - The maximum number of streams that can satisfy a condition of a trigger before the condition fires. By default set to 0, and any stream returned causes the condition to fire. enabled  (optional) - By default set to 'true'. If set to 'false', the trigger is not evaluated.expressionEditorConfig  (optional) - Metadata for the trigger editor. If present, the trigger should only be edited from the Edit Trigger page; editing the trigger here can lead to inconsistencies.For example, the following JSON formatted trigger configured for a DataNode fires if the DataNode has more than 1500 file descriptors opened:[{"triggerName": "sample-trigger",
  "triggerExpression": "IF (SELECT fd_open WHERE roleName=$ROLENAME and last(fd_open) > 1500) DO health:bad",
  "streamThreshold": 0, "enabled": "true"}]See the trigger rules documentation for more details on how to write triggers using tsquery.The JSON format is evolving and may change and, as a result, backward compatibility is not guaranteed between releases.
Related Name
 
Default Value
[]
API Name

role_triggers

Required
true


Unexpected Exits Thresholds

Description
The health test thresholds for unexpected exits encountered within a recent period specified by the unexpected_exits_window configuration for the role.
Related Name
 
Default Value
Warning: Never,  Critical: Any
API Name

unexpected_exits_thresholds

Required
false


Unexpected Exits Monitoring Period

Description
The period to review when computing unexpected exits.
Related Name
 
Default Value
5 minute(s)
API Name

unexpected_exits_window

Required
false





Other

Ozone Log Directory

Description
Directory where Prometheus logs will be written to
Related Name

ozone.log.dir

Default Value
/var/log/hadoop-ozone
API Name

ozone.log.dir

Required
false


Prometheus Data Retention time.

Description
How long to retain samples in storage. Units Supported: y, w, d, h, m, s, ms.
Related Name

ozone.prometheus.data.retention.time

Default Value
15d
API Name

ozone.prometheus.data.retention.time

Required
false


Prometheus Data Directory

Description
Directory where the Prometheus Server stores its metadata.
Related Name

ozone.prometheus.db.dir

Default Value
/var/lib/hadoop-ozone/prometheus/data
API Name

ozone.prometheus.db.dir

Required
true


Prometheus server extra flags.

Description
Extra command line flags that can be used while starting up the server. For example, '--query.timeout=2m --query.max-samples=5000'
Related Name

ozone.prometheus.extra.flags

Default Value
 
API Name

ozone.prometheus.extra.flags

Required
false


Prometheus server log level.

Description
Only log messages with the given severity or above. One of: [debug, info, warn, error]
Related Name

ozone.prometheus.log.level

Default Value
info
API Name

ozone.prometheus.log.level

Required
false


Prometheus Binary Location

Description
Location of the unarchived Prometheus binary.
Related Name

prometheus.location

Default Value
 
API Name

prometheus.location

Required
false





Performance

Maximum Process File Descriptors

Description
If configured, overrides the process soft and hard rlimits (also called ulimits) for file descriptors to the configured value.
Related Name
 
Default Value
 
API Name

rlimit_fds

Required
false





Ports and Addresses

Prometheus HTTP Port

Description
The base port that the prometheus web user interface listens on.
Related Name

ozone.prometheus.http-port

Default Value
9090
API Name

ozone.prometheus.http-port

Required
true





Resource Management

Cgroup CPU Shares

Description
Number of CPU shares to assign to this role. The greater the number of shares, the larger the share of the host's CPUs that will be given to this role when the host experiences CPU contention. Must be between 2 and 262144. Defaults to 1024 for processes not managed by Cloudera Manager.
Related Name

cpu.shares

Default Value
1024
API Name

rm_cpu_shares

Required
true


Custom Control Group Resources (overrides Cgroup settings)

Description
Custom control group resources to assign to this role, which will be enforced by the Linux kernel. These resources should exist on the target hosts, otherwise an error will occur when the process starts. Use the same format as used for arguments to the cgexec command: resource1,resource2:path1 or resource3:path2 For example: 'cpu,memory:my/path blkio:my2/path2' ***These settings override other cgroup settings.***
Related Name

custom.cgroups

Default Value
 
API Name

rm_custom_resources

Required
false


Cgroup I/O Weight

Description
Weight for the read I/O requests issued by this role. The greater the weight, the higher the priority of the requests when the host experiences I/O contention. Must be between 100 and 1000. Defaults to 1000 for processes not managed by Cloudera Manager.
Related Name

blkio.weight

Default Value
500
API Name

rm_io_weight

Required
true


Cgroup Memory Hard Limit

Description
Hard memory limit to assign to this role, enforced by the Linux kernel. When the limit is reached, the kernel will reclaim pages charged to the process. If reclaiming fails, the kernel may kill the process. Both anonymous as well as page cache pages contribute to the limit. Use a value of -1 to specify no limit. By default processes not managed by Cloudera Manager will have no limit. If the value is -1, Cloudera Manager will not monitor Cgroup memory usage therefore some of the charts will show 'No Data'
Related Name

memory.limit_in_bytes

Default Value
-1 MiB
API Name

rm_memory_hard_limit

Required
true


Cgroup Memory Soft Limit

Description
Soft memory limit to assign to this role, enforced by the Linux kernel. When the limit is reached, the kernel will reclaim pages charged to the process if and only if the host is facing memory pressure. If reclaiming fails, the kernel may kill the process. Both anonymous as well as page cache pages contribute to the limit. Use a value of -1 to specify no limit. By default processes not managed by Cloudera Manager will have no limit. If the value is -1, Cloudera Manager will not monitor Cgroup memory usage therefore some of the charts will show 'No Data'
Related Name

memory.soft_limit_in_bytes

Default Value
-1 MiB
API Name

rm_memory_soft_limit

Required
true





Suppressions

Suppress Configuration Validator: CDH Version Validator

Description
Whether to suppress configuration warnings produced by the CDH Version Validator configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_cdh_version_validator

Required
true


Suppress Parameter Validation: Ozone Prometheus Advanced Configuration Snippet (Safety Valve) for ozone-conf/ozone-prometheus.yml

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Prometheus Advanced Configuration Snippet (Safety Valve) for ozone-conf/ozone-prometheus.yml parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone-conf/ozone-prometheus.yml_role_safety_valve

Required
true


Suppress Parameter Validation: Ozone Prometheus Advanced Configuration Snippet (Safety Valve) for ozone-conf/prometheus-token

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Prometheus Advanced Configuration Snippet (Safety Valve) for ozone-conf/prometheus-token parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone-conf/prometheus-token_role_safety_valve

Required
true


Suppress Parameter Validation: Ozone Log Directory

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Log Directory parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.log.dir

Required
true


Suppress Parameter Validation: Prometheus Data Retention time.

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Prometheus Data Retention time. parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.prometheus.data.retention.time

Required
true


Suppress Parameter Validation: Prometheus Data Directory

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Prometheus Data Directory parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.prometheus.db.dir

Required
true


Suppress Parameter Validation: Prometheus server extra flags.

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Prometheus server extra flags. parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.prometheus.extra.flags

Required
true


Suppress Parameter Validation: Prometheus HTTP Port

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Prometheus HTTP Port parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.prometheus.http-port

Required
true


Suppress Parameter Validation: Prometheus server log level.

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Prometheus server log level. parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.prometheus.log.level

Required
true


Suppress Parameter Validation: Ozone Prometheus Environment Advanced Configuration Snippet (Safety Valve)

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Prometheus Environment Advanced Configuration Snippet (Safety Valve) parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone_prometheus_role_env_safety_valve

Required
true


Suppress Parameter Validation: Prometheus Binary Location

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Prometheus Binary Location parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_prometheus.location

Required
true


Suppress Parameter Validation: Custom Control Group Resources (overrides Cgroup settings)

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Custom Control Group Resources (overrides Cgroup settings) parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_rm_custom_resources

Required
true


Suppress Parameter Validation: Role Triggers

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Role Triggers parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_role_triggers

Required
true


Suppress Health Test: Audit Pipeline Test

Description
Whether to suppress the results of the Audit Pipeline Test heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_ozone_prometheus_audit_health

Required
true


Suppress Health Test: File Descriptors

Description
Whether to suppress the results of the File Descriptors heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_ozone_prometheus_file_descriptor

Required
true


Suppress Health Test: Host Health

Description
Whether to suppress the results of the Host Health heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_ozone_prometheus_host_health

Required
true


Suppress Health Test: Process Status

Description
Whether to suppress the results of the Process Status heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_ozone_prometheus_scm_health

Required
true


Suppress Health Test: Swap Memory Usage

Description
Whether to suppress the results of the Swap Memory Usage heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_ozone_prometheus_swap_memory_usage

Required
true


Suppress Health Test: Swap Memory Usage Rate Beta

Description
Whether to suppress the results of the Swap Memory Usage Rate Beta heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_ozone_prometheus_swap_memory_usage_rate

Required
true


Suppress Health Test: Unexpected Exits

Description
Whether to suppress the results of the Unexpected Exits heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_ozone_prometheus_unexpected_exits

Required
true






Ozone Recon


Advanced

Ozone Recon Logging Advanced Configuration Snippet (Safety Valve)

Description
For advanced use only, a string to be inserted into log4j.properties for this role only.
Related Name
 
Default Value
 
API Name

log4j_safety_valve

Required
false


Enable auto refresh for metric configurations

Description
When true, Enable Metric Collection and Metric Filter parameters will be set automatically if they're changed. Otherwise, a refresh by hand is required.
Related Name
 
Default Value
false
API Name

metric_config_auto_refresh

Required
false


Heap Dump Directory

Description
Path to directory where heap dumps are generated when java.lang.OutOfMemoryError error is thrown. This directory is automatically created if it does not exist. If this directory already exists, it will be owned by the current role user with 1777 permissions. Sharing the same directory among multiple roles will cause an ownership race. The heap dump files are created with 600 permissions and are owned by the role user. The amount of free space in this directory should be greater than the maximum Java Process heap size configured for this role.
Related Name

oom_heap_dump_dir

Default Value
/tmp
API Name

oom_heap_dump_dir

Required
false


Dump Heap When Out of Memory

Description
When set, generates a heap dump file when when an out-of-memory error occurs.
Related Name
 
Default Value
true
API Name

oom_heap_dump_enabled

Required
true


Kill When Out of Memory

Description
When set, a SIGKILL signal is sent to the role process when java.lang.OutOfMemoryError is thrown.
Related Name
 
Default Value
true
API Name

oom_sigkill_enabled

Required
true


Ozone Recon Advanced Configuration Snippet (Safety Valve) for ozone-conf/ozone-site.xml

Description
For advanced use only. A string to be inserted into ozone-conf/ozone-site.xml for this role only.
Related Name
 
Default Value
 
API Name

ozone-conf/ozone-site.xml_role_safety_valve

Required
false


Ozone Recon Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-client.xml

Description
For advanced use only. A string to be inserted into ozone-conf/ssl-client.xml for this role only.
Related Name
 
Default Value
 
API Name

ozone-conf/ssl-client.xml_role_safety_valve

Required
false


Ozone Recon Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-server.xml

Description
For advanced use only. A string to be inserted into ozone-conf/ssl-server.xml for this role only.
Related Name
 
Default Value
 
API Name

ozone-conf/ssl-server.xml_role_safety_valve

Required
false


Ozone Recon Environment Advanced Configuration Snippet (Safety Valve)

Description
For advanced use only, key-value pairs (one on each line) to be inserted into a role's environment. Applies to configurations of this role except client configuration.
Related Name
 
Default Value
 
API Name

OZONE_RECON_role_env_safety_valve

Required
false


Automatically Restart Process

Description
When set, this role's process is automatically (and transparently) restarted in the event of an unexpected failure.  This configuration applies in the time after the Start Wait Timeout period.
Related Name
 
Default Value
false
API Name

process_auto_restart

Required
true


Enable Metric Collection

Description
Cloudera Manager agent monitors each service and each of its role by publishing metrics to the Cloudera Manager Service Monitor. Setting it to false will stop Cloudera Manager agent from publishing any metric for corresponding service/roles. This is usually helpful for services that generate large amount of metrics which Service Monitor is not able to process.
Related Name
 
Default Value
true
API Name

process_should_monitor

Required
true


Process Start Retry Attempts

Description
Number of times to try starting a role's process when the process exits before the Start Wait Timeout period.  After a process is running beyond the Start Wait Timeout, the retry count is reset.  Setting this configuration to zero will prevent restart of the process during the Start Wait Timeout period.
Related Name
 
Default Value
3
API Name

process_start_retries

Required
false


Process Start Wait Timeout

Description
The time in seconds to wait for a role's process to start successfully on a host.  Processes which exit/crash before this time will be restarted until reaching the limit specified by the Start Retry Attempts count parameter.  Setting this configuration to zero will turn off this feature.
Related Name
 
Default Value
20
API Name

process_start_secs

Required
false





Logs

Ozone Recon Log Directory

Description
The log directory for log files of the role Ozone Recon.
Related Name

log.dir

Default Value
/var/log/hadoop-ozone
API Name

log_dir

Required
false


Ozone Recon Logging Threshold

Description
The minimum log level for Ozone Recon logs
Related Name
 
Default Value
INFO
API Name

log_threshold

Required
false


Ozone Recon Maximum Log File Backups

Description
The maximum number of rolled log files to keep for Ozone Recon logs.  Typically used by log4j or logback.
Related Name
 
Default Value
10
API Name

max_log_backup_index

Required
false


Ozone Recon Max Log Size

Description
The maximum size, in megabytes, per log file for Ozone Recon logs.  Typically used by log4j or logback.
Related Name
 
Default Value
200 MiB
API Name

max_log_size

Required
false





Monitoring

Enable Health Alerts for this Role

Description
When set, Cloudera Manager will send alerts when the health of this role reaches the threshold specified by the EventServer setting eventserver_health_events_alert_threshold
Related Name
 
Default Value
true
API Name

enable_alerts

Required
false


Enable Configuration Change Alerts

Description
When set, Cloudera Manager will send alerts when this entity's configuration changes.
Related Name
 
Default Value
false
API Name

enable_config_alerts

Required
false


Log Directory Free Space Monitoring Absolute Thresholds

Description
The health test thresholds for monitoring of free space on the filesystem that contains this role's log directory.
Related Name
 
Default Value
Warning: 10 GiB,  Critical: 5 GiB
API Name

log_directory_free_space_absolute_thresholds

Required
false


Log Directory Free Space Monitoring Percentage Thresholds

Description
The health test thresholds for monitoring of free space on the filesystem that contains this role's log directory. Specified as a percentage of the capacity on that filesystem. This setting is not used if a Log Directory Free Space Monitoring Absolute Thresholds setting is configured.
Related Name
 
Default Value
Warning: Never,  Critical: Never
API Name

log_directory_free_space_percentage_thresholds

Required
false


Metric Filter

Description
Defines a Metric Filter for this role. Cloudera Manager Agents will not send filtered metrics to the Service Monitor. Define the following fields:Health Test Metric Set - Select this parameter to collect only metrics required for health tests.Default Dashboard Metric Set - Select this parameter to collect only metrics required for the default dashboards. For user-defined charts, you must add the metrics you require for the chart using the Custom Metrics parameter. Include/Exclude Custom Metrics  - Select Include to specify metrics that should be collected. Select Exclude to specify metrics that should not be collected. Enter the metric names to be included or excluded using the Metric Name parameter.Metric Name - The name of a metric that will be included or excluded during metric collection. If you do not select  Health Test Metric Set or Default Dashboard Metric Set, or specify metrics by name, metric filtering will be turned off (this is the default behavior).For example, the following configuration enables the collection of metrics required for Health Tests and the jvm_heap_used_mb metric:Include only Health Test Metric Set: Selected.Include/Exclude Custom Metrics: Set to Include.Metric Name: jvm_heap_used_mbYou can also view the JSON representation for this parameter by clicking View as JSON. In this example, the JSON looks like this:{
  "includeHealthTestMetricSet": true, 
  "filterType": "whitelist",
  "metrics": ["jvm_heap_used_mb"]
}
Related Name
 
Default Value
 
API Name

monitoring_metric_filter

Required
false


File Descriptor Monitoring Thresholds

Description
The health test thresholds of the number of file descriptors used. Specified as a percentage of file descriptor limit.
Related Name
 
Default Value
Warning: 50.0 %,  Critical: 70.0 %
API Name

ozone_recon_fd_thresholds

Required
false


Ozone Recon Host Health Test

Description
When computing the overall Ozone Recon health, consider the host's health.
Related Name
 
Default Value
true
API Name

ozone_recon_host_health_enabled

Required
false


Ozone Recon Process Health Test

Description
Enables the health test that the Ozone Recon's process state is consistent with the role configuration
Related Name
 
Default Value
true
API Name

ozone_recon_scm_health_enabled

Required
false


Swap Memory Usage Rate Thresholds

Description
The health test thresholds on the swap memory usage rate of the process. Specified as the change of the used swap memory during the predefined period.
Related Name
 
Default Value
Warning: Never,  Critical: Never
API Name

process_swap_memory_rate_thresholds

Required
false


Swap Memory Usage Rate Window

Description
The period to review when computing unexpected swap memory usage change of the process.
Related Name

common.process.swap_memory_rate_window

Default Value
5 minute(s)
API Name

process_swap_memory_rate_window

Required
false


Process Swap Memory Thresholds

Description
The health test thresholds on the swap memory usage of the process. This takes precedence over the host level threshold.
Related Name
 
Default Value
Warning: 200 B,  Critical: Never
API Name

process_swap_memory_thresholds

Required
false


Role Triggers

Description
The configured triggers for this role. This is a JSON-formatted list of triggers. These triggers are evaluated as part as the health system. Every trigger expression is parsed, and if the trigger condition is met, the list of actions provided in the trigger expression is executed. Each trigger has the following fields:triggerName (mandatory) - The name of the trigger. This value must be unique for the specific role. triggerExpression (mandatory) - A tsquery expression representing the trigger. streamThreshold (optional) - The maximum number of streams that can satisfy a condition of a trigger before the condition fires. By default set to 0, and any stream returned causes the condition to fire. enabled  (optional) - By default set to 'true'. If set to 'false', the trigger is not evaluated.expressionEditorConfig  (optional) - Metadata for the trigger editor. If present, the trigger should only be edited from the Edit Trigger page; editing the trigger here can lead to inconsistencies.For example, the following JSON formatted trigger configured for a DataNode fires if the DataNode has more than 1500 file descriptors opened:[{"triggerName": "sample-trigger",
  "triggerExpression": "IF (SELECT fd_open WHERE roleName=$ROLENAME and last(fd_open) > 1500) DO health:bad",
  "streamThreshold": 0, "enabled": "true"}]See the trigger rules documentation for more details on how to write triggers using tsquery.The JSON format is evolving and may change and, as a result, backward compatibility is not guaranteed between releases.
Related Name
 
Default Value
[]
API Name

role_triggers

Required
true


Unexpected Exits Thresholds

Description
The health test thresholds for unexpected exits encountered within a recent period specified by the unexpected_exits_window configuration for the role.
Related Name
 
Default Value
Warning: Never,  Critical: Any
API Name

unexpected_exits_thresholds

Required
false


Unexpected Exits Monitoring Period

Description
The period to review when computing unexpected exits.
Related Name
 
Default Value
5 minute(s)
API Name

unexpected_exits_window

Required
false





Other

Ozone Log Directory

Description
Directory where Recon logs will be written to
Related Name

ozone.log.dir

Default Value
/var/log/hadoop-ozone
API Name

ozone.log.dir

Required
false


Recon Metadata Directory

Description
Determines where on the local filesystem recon security certificates will be stored.
Related Name

ozone.metadata.dirs

Default Value
/var/lib/hadoop-ozone/recon/ozone-metadata
API Name

ozone.metadata.dirs

Required
true


Recon Data Directory

Description
Directory where the Recon Server stores its metadata.
Related Name

ozone.recon.db.dir

Default Value
/var/lib/hadoop-ozone/recon/data
API Name

ozone.recon.db.dir

Required
true


Recon HTTP Bind Hostname

Description
The actual address the Recon web server will bind to. If this optional address is set, it overrides only the hostname portion of 'ozone.recon.http-address'.
Related Name

ozone.recon.http-bind-host

Default Value
0.0.0.0
API Name

ozone.recon.http-bind-host

Required
false


Secure Recon HTTPS Bind Hostname

Description
The actual address the Recon web server will bind to using HTTPS. If this optional address is set, it overrides only the hostname portion of 'ozone.recon.https-address'.
Related Name

ozone.recon.https-bind-host

Default Value
0.0.0.0
API Name

ozone.recon.https-bind-host

Required
false


Recon OzoneManager Data Directory

Description
Directory where the Recon Server stores OzoneManager's metadata
Related Name

ozone.recon.om.db.dir

Default Value
/var/lib/hadoop-ozone/recon/om/data
API Name

ozone.recon.om.db.dir

Required
true


Recon StorageContainerManager Data Directory

Description
Directory where the Recon Server stores StorageContainerManager's metadata
Related Name

ozone.recon.scm.db.dirs

Default Value
/var/lib/hadoop-ozone/recon/scm/data
API Name

ozone.recon.scm.db.dirs

Required
true


Java Heap Size of Recon

Description
Maximum size for the Java process heap memory.
Related Name

ozone_recon_max_heap_size

Default Value
1 GiB
API Name

ozone_recon_max_heap_size

Required
false





Performance

Maximum Process File Descriptors

Description
If configured, overrides the process soft and hard rlimits (also called ulimits) for file descriptors to the configured value.
Related Name
 
Default Value
 
API Name

rlimit_fds

Required
false





Ports and Addresses

Recon HTTP Web UI Port

Description
The base port that the Recon web user interface listens on. The host name of the Recon web user interface is combined with this port to form the 'ozone.recon.http-address'.
Related Name

ozone.recon.http-port

Default Value
9888
API Name

ozone.recon.http-port

Required
true


Secure Recon Web UI Port (TLS/SSL)

Description
The base port that the Recon web user interface listens on when using HTTPS. The host name of the Recon web user interface is combined with this port to form the 'ozone.recon.https-address'.
Related Name

ozone.recon.https-port

Default Value
9889
API Name

ozone.recon.https-port

Required
false


Recon RPC Port

Description
The base port that Recon listens on when serving RPCs. The host name of Recon is combined with this port to form the 'ozone.recon.address'.
Related Name

ozone.recon.rpc-port

Default Value
9891
API Name

ozone.recon.rpc-port

Required
true





Resource Management

Cgroup CPU Shares

Description
Number of CPU shares to assign to this role. The greater the number of shares, the larger the share of the host's CPUs that will be given to this role when the host experiences CPU contention. Must be between 2 and 262144. Defaults to 1024 for processes not managed by Cloudera Manager.
Related Name

cpu.shares

Default Value
1024
API Name

rm_cpu_shares

Required
true


Custom Control Group Resources (overrides Cgroup settings)

Description
Custom control group resources to assign to this role, which will be enforced by the Linux kernel. These resources should exist on the target hosts, otherwise an error will occur when the process starts. Use the same format as used for arguments to the cgexec command: resource1,resource2:path1 or resource3:path2 For example: 'cpu,memory:my/path blkio:my2/path2' ***These settings override other cgroup settings.***
Related Name

custom.cgroups

Default Value
 
API Name

rm_custom_resources

Required
false


Cgroup I/O Weight

Description
Weight for the read I/O requests issued by this role. The greater the weight, the higher the priority of the requests when the host experiences I/O contention. Must be between 100 and 1000. Defaults to 1000 for processes not managed by Cloudera Manager.
Related Name

blkio.weight

Default Value
500
API Name

rm_io_weight

Required
true


Cgroup Memory Hard Limit

Description
Hard memory limit to assign to this role, enforced by the Linux kernel. When the limit is reached, the kernel will reclaim pages charged to the process. If reclaiming fails, the kernel may kill the process. Both anonymous as well as page cache pages contribute to the limit. Use a value of -1 to specify no limit. By default processes not managed by Cloudera Manager will have no limit. If the value is -1, Cloudera Manager will not monitor Cgroup memory usage therefore some of the charts will show 'No Data'
Related Name

memory.limit_in_bytes

Default Value
-1 MiB
API Name

rm_memory_hard_limit

Required
true


Cgroup Memory Soft Limit

Description
Soft memory limit to assign to this role, enforced by the Linux kernel. When the limit is reached, the kernel will reclaim pages charged to the process if and only if the host is facing memory pressure. If reclaiming fails, the kernel may kill the process. Both anonymous as well as page cache pages contribute to the limit. Use a value of -1 to specify no limit. By default processes not managed by Cloudera Manager will have no limit. If the value is -1, Cloudera Manager will not monitor Cgroup memory usage therefore some of the charts will show 'No Data'
Related Name

memory.soft_limit_in_bytes

Default Value
-1 MiB
API Name

rm_memory_soft_limit

Required
true





Security

Ozone Recon TLS/SSL Trust Store File

Description
The location on disk of the trust store, in .jks format, used to confirm the authenticity of TLS/SSL servers that Ozone Recon might connect to. This trust store must contain the certificate(s) used to sign the service(s) connected to. If this parameter is not provided, the default list of well-known certificate authorities is used instead.
Related Name

ssl.client.truststore.location

Default Value
 
API Name

ssl_client_truststore_location

Required
false


Ozone Recon TLS/SSL Trust Store Password

Description
The password for the Ozone Recon TLS/SSL Trust Store File. This password is not required to access the trust store; this field can be left blank. This password provides optional integrity checking of the file. The contents of trust stores are certificates, and certificates are public information.
Related Name

ssl.client.truststore.password

Default Value
 
API Name

ssl_client_truststore_password

Required
false


Enable TLS/SSL for Ozone Recon

Description
Encrypt communication between clients and Ozone Recon using Transport Layer Security (TLS) (formerly known as Secure Socket Layer (SSL)).
Related Name

ozone.ssl.enabled

Default Value
false
API Name

ssl_enabled

Required
false


Ozone Recon TLS/SSL Server Keystore Key Password

Description
The password that protects the private key contained in the keystore used when Ozone Recon is acting as a TLS/SSL server.
Related Name

ssl.server.keystore.keypassword

Default Value
 
API Name

ssl_server_keystore_keypassword

Required
false


Ozone Recon TLS/SSL Server Keystore File Location

Description
The path to the TLS/SSL keystore file containing the server certificate and private key used for TLS/SSL. Used when Ozone Recon is acting as a TLS/SSL server. The keystore must be in the format specified in Administration > Settings > Java Keystore Type.
Related Name

ssl.server.keystore.location

Default Value
 
API Name

ssl_server_keystore_location

Required
false


Ozone Recon TLS/SSL Server Keystore File Password

Description
The password for the Ozone Recon keystore file.
Related Name

ssl.server.keystore.password

Default Value
 
API Name

ssl_server_keystore_password

Required
false





Stacks Collection

Stacks Collection Data Retention

Description
The amount of stacks data that is retained. After the retention limit is reached, the oldest data is deleted.
Related Name

stacks_collection_data_retention

Default Value
100 MiB
API Name

stacks_collection_data_retention

Required
false


Stacks Collection Directory

Description
The directory in which stacks logs are placed. If not set, stacks are logged into a stacks subdirectory of the role's log directory. If this directory already exists, it will be owned by the current role user with 755 permissions. Sharing the same directory among multiple roles will cause an ownership race.
Related Name

stacks_collection_directory

Default Value
 
API Name

stacks_collection_directory

Required
false


Stacks Collection Enabled

Description
Whether or not periodic stacks collection is enabled.
Related Name

stacks_collection_enabled

Default Value
false
API Name

stacks_collection_enabled

Required
true


Stacks Collection Frequency

Description
The frequency with which stacks are collected.
Related Name

stacks_collection_frequency

Default Value
5.0 second(s)
API Name

stacks_collection_frequency

Required
false


Stacks Collection Method

Description
The method used to collect stacks. The jstack option involves periodically running the jstack command against the role's daemon process. The servlet method is available for those roles that have an HTTP server endpoint exposing the current stacks traces of all threads. When the servlet method is selected, that HTTP endpoint is periodically scraped.
Related Name

stacks_collection_method

Default Value
jstack
API Name

stacks_collection_method

Required
false





Suppressions

Suppress Configuration Validator: CDH Version Validator

Description
Whether to suppress configuration warnings produced by the CDH Version Validator configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_cdh_version_validator

Required
true


Suppress Parameter Validation: Ozone Recon Logging Advanced Configuration Snippet (Safety Valve)

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Recon Logging Advanced Configuration Snippet (Safety Valve) parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_log4j_safety_valve

Required
true


Suppress Parameter Validation: Ozone Recon Log Directory

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Recon Log Directory parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_log_dir

Required
true


Suppress Parameter Validation: Heap Dump Directory

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Heap Dump Directory parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_oom_heap_dump_dir

Required
true


Suppress Parameter Validation: Ozone Recon Advanced Configuration Snippet (Safety Valve) for ozone-conf/ozone-site.xml

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Recon Advanced Configuration Snippet (Safety Valve) for ozone-conf/ozone-site.xml parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone-conf/ozone-site.xml_role_safety_valve

Required
true


Suppress Parameter Validation: Ozone Recon Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-client.xml

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Recon Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-client.xml parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone-conf/ssl-client.xml_role_safety_valve

Required
true


Suppress Parameter Validation: Ozone Recon Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-server.xml

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Recon Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-server.xml parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone-conf/ssl-server.xml_role_safety_valve

Required
true


Suppress Parameter Validation: Ozone Log Directory

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Log Directory parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.log.dir

Required
true


Suppress Parameter Validation: Recon Metadata Directory

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Recon Metadata Directory parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.metadata.dirs

Required
true


Suppress Parameter Validation: Recon Data Directory

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Recon Data Directory parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.recon.db.dir

Required
true


Suppress Parameter Validation: Recon HTTP Bind Hostname

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Recon HTTP Bind Hostname parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.recon.http-bind-host

Required
true


Suppress Parameter Validation: Recon HTTP Web UI Port

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Recon HTTP Web UI Port parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.recon.http-port

Required
true


Suppress Parameter Validation: Secure Recon HTTPS Bind Hostname

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Secure Recon HTTPS Bind Hostname parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.recon.https-bind-host

Required
true


Suppress Parameter Validation: Secure Recon Web UI Port (TLS/SSL)

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Secure Recon Web UI Port (TLS/SSL) parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.recon.https-port

Required
true


Suppress Parameter Validation: Recon OzoneManager Data Directory

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Recon OzoneManager Data Directory parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.recon.om.db.dir

Required
true


Suppress Parameter Validation: Recon RPC Port

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Recon RPC Port parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.recon.rpc-port

Required
true


Suppress Parameter Validation: Recon StorageContainerManager Data Directory

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Recon StorageContainerManager Data Directory parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.recon.scm.db.dirs

Required
true


Suppress Parameter Validation: Java Heap Size of Recon

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Java Heap Size of Recon parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone_recon_max_heap_size

Required
true


Suppress Parameter Validation: Ozone Recon Environment Advanced Configuration Snippet (Safety Valve)

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Recon Environment Advanced Configuration Snippet (Safety Valve) parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone_recon_role_env_safety_valve

Required
true


Suppress Parameter Validation: Custom Control Group Resources (overrides Cgroup settings)

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Custom Control Group Resources (overrides Cgroup settings) parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_rm_custom_resources

Required
true


Suppress Parameter Validation: Role Triggers

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Role Triggers parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_role_triggers

Required
true


Suppress Parameter Validation: Ozone Recon TLS/SSL Trust Store File

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Recon TLS/SSL Trust Store File parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ssl_client_truststore_location

Required
true


Suppress Parameter Validation: Ozone Recon TLS/SSL Trust Store Password

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Recon TLS/SSL Trust Store Password parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ssl_client_truststore_password

Required
true


Suppress Parameter Validation: Ozone Recon TLS/SSL Server Keystore Key Password

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Recon TLS/SSL Server Keystore Key Password parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ssl_server_keystore_keypassword

Required
true


Suppress Parameter Validation: Ozone Recon TLS/SSL Server Keystore File Location

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Recon TLS/SSL Server Keystore File Location parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ssl_server_keystore_location

Required
true


Suppress Parameter Validation: Ozone Recon TLS/SSL Server Keystore File Password

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Recon TLS/SSL Server Keystore File Password parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ssl_server_keystore_password

Required
true


Suppress Parameter Validation: Stacks Collection Directory

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Stacks Collection Directory parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_stacks_collection_directory

Required
true


Suppress Health Test: Audit Pipeline Test

Description
Whether to suppress the results of the Audit Pipeline Test heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_ozone_recon_audit_health

Required
true


Suppress Health Test: File Descriptors

Description
Whether to suppress the results of the File Descriptors heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_ozone_recon_file_descriptor

Required
true


Suppress Health Test: Host Health

Description
Whether to suppress the results of the Host Health heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_ozone_recon_host_health

Required
true


Suppress Health Test: Log Directory Free Space

Description
Whether to suppress the results of the Log Directory Free Space heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_ozone_recon_log_directory_free_space

Required
true


Suppress Health Test: Process Status

Description
Whether to suppress the results of the Process Status heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_ozone_recon_scm_health

Required
true


Suppress Health Test: Swap Memory Usage

Description
Whether to suppress the results of the Swap Memory Usage heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_ozone_recon_swap_memory_usage

Required
true


Suppress Health Test: Swap Memory Usage Rate Beta

Description
Whether to suppress the results of the Swap Memory Usage Rate Beta heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_ozone_recon_swap_memory_usage_rate

Required
true


Suppress Health Test: Unexpected Exits

Description
Whether to suppress the results of the Unexpected Exits heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_ozone_recon_unexpected_exits

Required
true






S3 Gateway


Advanced

S3 Gateway Logging Advanced Configuration Snippet (Safety Valve)

Description
For advanced use only, a string to be inserted into log4j.properties for this role only.
Related Name
 
Default Value
 
API Name

log4j_safety_valve

Required
false


Enable auto refresh for metric configurations

Description
When true, Enable Metric Collection and Metric Filter parameters will be set automatically if they're changed. Otherwise, a refresh by hand is required.
Related Name
 
Default Value
false
API Name

metric_config_auto_refresh

Required
false


Heap Dump Directory

Description
Path to directory where heap dumps are generated when java.lang.OutOfMemoryError error is thrown. This directory is automatically created if it does not exist. If this directory already exists, it will be owned by the current role user with 1777 permissions. Sharing the same directory among multiple roles will cause an ownership race. The heap dump files are created with 600 permissions and are owned by the role user. The amount of free space in this directory should be greater than the maximum Java Process heap size configured for this role.
Related Name

oom_heap_dump_dir

Default Value
/tmp
API Name

oom_heap_dump_dir

Required
false


Dump Heap When Out of Memory

Description
When set, generates a heap dump file when when an out-of-memory error occurs.
Related Name
 
Default Value
true
API Name

oom_heap_dump_enabled

Required
true


Kill When Out of Memory

Description
When set, a SIGKILL signal is sent to the role process when java.lang.OutOfMemoryError is thrown.
Related Name
 
Default Value
true
API Name

oom_sigkill_enabled

Required
true


S3 Gateway Advanced Configuration Snippet (Safety Valve) for ozone-conf/ozone-site.xml

Description
For advanced use only. A string to be inserted into ozone-conf/ozone-site.xml for this role only.
Related Name
 
Default Value
 
API Name

ozone-conf/ozone-site.xml_role_safety_valve

Required
false


S3 Gateway Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-client.xml

Description
For advanced use only. A string to be inserted into ozone-conf/ssl-client.xml for this role only.
Related Name
 
Default Value
 
API Name

ozone-conf/ssl-client.xml_role_safety_valve

Required
false


S3 Gateway Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-server.xml

Description
For advanced use only. A string to be inserted into ozone-conf/ssl-server.xml for this role only.
Related Name
 
Default Value
 
API Name

ozone-conf/ssl-server.xml_role_safety_valve

Required
false


Automatically Restart Process

Description
When set, this role's process is automatically (and transparently) restarted in the event of an unexpected failure.  This configuration applies in the time after the Start Wait Timeout period.
Related Name
 
Default Value
false
API Name

process_auto_restart

Required
true


Enable Metric Collection

Description
Cloudera Manager agent monitors each service and each of its role by publishing metrics to the Cloudera Manager Service Monitor. Setting it to false will stop Cloudera Manager agent from publishing any metric for corresponding service/roles. This is usually helpful for services that generate large amount of metrics which Service Monitor is not able to process.
Related Name
 
Default Value
true
API Name

process_should_monitor

Required
true


Process Start Retry Attempts

Description
Number of times to try starting a role's process when the process exits before the Start Wait Timeout period.  After a process is running beyond the Start Wait Timeout, the retry count is reset.  Setting this configuration to zero will prevent restart of the process during the Start Wait Timeout period.
Related Name
 
Default Value
3
API Name

process_start_retries

Required
false


Process Start Wait Timeout

Description
The time in seconds to wait for a role's process to start successfully on a host.  Processes which exit/crash before this time will be restarted until reaching the limit specified by the Start Retry Attempts count parameter.  Setting this configuration to zero will turn off this feature.
Related Name
 
Default Value
20
API Name

process_start_secs

Required
false


S3 Gateway Environment Advanced Configuration Snippet (Safety Valve)

Description
For advanced use only, key-value pairs (one on each line) to be inserted into a role's environment. Applies to configurations of this role except client configuration.
Related Name
 
Default Value
 
API Name

S3_GATEWAY_role_env_safety_valve

Required
false





Logs

S3 Gateway Log Directory

Description
The log directory for log files of the role S3 Gateway.
Related Name

log.dir

Default Value
/var/log/hadoop-ozone
API Name

log_dir

Required
false


S3 Gateway Logging Threshold

Description
The minimum log level for S3 Gateway logs
Related Name
 
Default Value
INFO
API Name

log_threshold

Required
false


S3 Gateway Maximum Log File Backups

Description
The maximum number of rolled log files to keep for S3 Gateway logs.  Typically used by log4j or logback.
Related Name
 
Default Value
10
API Name

max_log_backup_index

Required
false


S3 Gateway Max Log Size

Description
The maximum size, in megabytes, per log file for S3 Gateway logs.  Typically used by log4j or logback.
Related Name
 
Default Value
200 MiB
API Name

max_log_size

Required
false





Monitoring

Enable Health Alerts for this Role

Description
When set, Cloudera Manager will send alerts when the health of this role reaches the threshold specified by the EventServer setting eventserver_health_events_alert_threshold
Related Name
 
Default Value
true
API Name

enable_alerts

Required
false


Enable Configuration Change Alerts

Description
When set, Cloudera Manager will send alerts when this entity's configuration changes.
Related Name
 
Default Value
false
API Name

enable_config_alerts

Required
false


Log Directory Free Space Monitoring Absolute Thresholds

Description
The health test thresholds for monitoring of free space on the filesystem that contains this role's log directory.
Related Name
 
Default Value
Warning: 10 GiB,  Critical: 5 GiB
API Name

log_directory_free_space_absolute_thresholds

Required
false


Log Directory Free Space Monitoring Percentage Thresholds

Description
The health test thresholds for monitoring of free space on the filesystem that contains this role's log directory. Specified as a percentage of the capacity on that filesystem. This setting is not used if a Log Directory Free Space Monitoring Absolute Thresholds setting is configured.
Related Name
 
Default Value
Warning: Never,  Critical: Never
API Name

log_directory_free_space_percentage_thresholds

Required
false


Metric Filter

Description
Defines a Metric Filter for this role. Cloudera Manager Agents will not send filtered metrics to the Service Monitor. Define the following fields:Health Test Metric Set - Select this parameter to collect only metrics required for health tests.Default Dashboard Metric Set - Select this parameter to collect only metrics required for the default dashboards. For user-defined charts, you must add the metrics you require for the chart using the Custom Metrics parameter. Include/Exclude Custom Metrics  - Select Include to specify metrics that should be collected. Select Exclude to specify metrics that should not be collected. Enter the metric names to be included or excluded using the Metric Name parameter.Metric Name - The name of a metric that will be included or excluded during metric collection. If you do not select  Health Test Metric Set or Default Dashboard Metric Set, or specify metrics by name, metric filtering will be turned off (this is the default behavior).For example, the following configuration enables the collection of metrics required for Health Tests and the jvm_heap_used_mb metric:Include only Health Test Metric Set: Selected.Include/Exclude Custom Metrics: Set to Include.Metric Name: jvm_heap_used_mbYou can also view the JSON representation for this parameter by clicking View as JSON. In this example, the JSON looks like this:{
  "includeHealthTestMetricSet": true, 
  "filterType": "whitelist",
  "metrics": ["jvm_heap_used_mb"]
}
Related Name
 
Default Value
 
API Name

monitoring_metric_filter

Required
false


Swap Memory Usage Rate Thresholds

Description
The health test thresholds on the swap memory usage rate of the process. Specified as the change of the used swap memory during the predefined period.
Related Name
 
Default Value
Warning: Never,  Critical: Never
API Name

process_swap_memory_rate_thresholds

Required
false


Swap Memory Usage Rate Window

Description
The period to review when computing unexpected swap memory usage change of the process.
Related Name

common.process.swap_memory_rate_window

Default Value
5 minute(s)
API Name

process_swap_memory_rate_window

Required
false


Process Swap Memory Thresholds

Description
The health test thresholds on the swap memory usage of the process. This takes precedence over the host level threshold.
Related Name
 
Default Value
Warning: 200 B,  Critical: Never
API Name

process_swap_memory_thresholds

Required
false


Role Triggers

Description
The configured triggers for this role. This is a JSON-formatted list of triggers. These triggers are evaluated as part as the health system. Every trigger expression is parsed, and if the trigger condition is met, the list of actions provided in the trigger expression is executed. Each trigger has the following fields:triggerName (mandatory) - The name of the trigger. This value must be unique for the specific role. triggerExpression (mandatory) - A tsquery expression representing the trigger. streamThreshold (optional) - The maximum number of streams that can satisfy a condition of a trigger before the condition fires. By default set to 0, and any stream returned causes the condition to fire. enabled  (optional) - By default set to 'true'. If set to 'false', the trigger is not evaluated.expressionEditorConfig  (optional) - Metadata for the trigger editor. If present, the trigger should only be edited from the Edit Trigger page; editing the trigger here can lead to inconsistencies.For example, the following JSON formatted trigger configured for a DataNode fires if the DataNode has more than 1500 file descriptors opened:[{"triggerName": "sample-trigger",
  "triggerExpression": "IF (SELECT fd_open WHERE roleName=$ROLENAME and last(fd_open) > 1500) DO health:bad",
  "streamThreshold": 0, "enabled": "true"}]See the trigger rules documentation for more details on how to write triggers using tsquery.The JSON format is evolving and may change and, as a result, backward compatibility is not guaranteed between releases.
Related Name
 
Default Value
[]
API Name

role_triggers

Required
true


File Descriptor Monitoring Thresholds

Description
The health test thresholds of the number of file descriptors used. Specified as a percentage of file descriptor limit.
Related Name
 
Default Value
Warning: 50.0 %,  Critical: 70.0 %
API Name

s3_gateway_fd_thresholds

Required
false


S3 Gateway Host Health Test

Description
When computing the overall S3 Gateway health, consider the host's health.
Related Name
 
Default Value
true
API Name

s3_gateway_host_health_enabled

Required
false


S3 Gateway Process Health Test

Description
Enables the health test that the S3 Gateway's process state is consistent with the role configuration
Related Name
 
Default Value
true
API Name

s3_gateway_scm_health_enabled

Required
false


Unexpected Exits Thresholds

Description
The health test thresholds for unexpected exits encountered within a recent period specified by the unexpected_exits_window configuration for the role.
Related Name
 
Default Value
Warning: Never,  Critical: Any
API Name

unexpected_exits_thresholds

Required
false


Unexpected Exits Monitoring Period

Description
The period to review when computing unexpected exits.
Related Name
 
Default Value
5 minute(s)
API Name

unexpected_exits_window

Required
false





Other

Ozone S3 Gateway HTTP Bind Hostname

Description
The actual address the S3 Gateway web server will bind to. If this optional address is set, it overrides only the hostname portion of 'ozone.s3g.http-address'.
Related Name

ozone.s3g.http-bind-host

Default Value
0.0.0.0
API Name

ozone.s3g.http-bind-host

Required
false


Secure Ozone S3 Gateway HTTPS Bind Hostname

Description
The actual address the S3 Gateway web server will bind to using HTTPS. If this optional address is set, it overrides only the hostname portion of 'ozone.s3g.https-address'.
Related Name

ozone.s3g.https-bind-host

Default Value
0.0.0.0
API Name

ozone.s3g.https-bind-host

Required
false


Java Heap Size of S3 Gateway

Description
Maximum size for the Java process heap memory.
Related Name

ozone_S3_gateway_max_heap_size

Default Value
1 GiB
API Name

ozone_S3_gateway_max_heap_size

Required
false





Performance

Maximum Process File Descriptors

Description
If configured, overrides the process soft and hard rlimits (also called ulimits) for file descriptors to the configured value.
Related Name
 
Default Value
 
API Name

rlimit_fds

Required
false





Ports and Addresses

Ozone S3 Gateway HTTP Web UI Port

Description
The base port that the S3 Gateway web user interface listens on. The host name of the S3 Gateway is combined with this port to form the 'ozone.s3g.http-address'.
Related Name

ozone.s3g.http-port

Default Value
9878
API Name

ozone.s3g.http-port

Required
true


Secure Ozone S3 Gateway Web UI Port (TLS/SSL)

Description
The base port that the S3 Gateway web user interface listens on when using HTTPS. The host name of the S3 Gateway is combined with this port to form the 'ozone.s3g.https-address'.
Related Name

ozone.s3g.https-port

Default Value
9879
API Name

ozone.s3g.https-port

Required
false





Resource Management

Cgroup CPU Shares

Description
Number of CPU shares to assign to this role. The greater the number of shares, the larger the share of the host's CPUs that will be given to this role when the host experiences CPU contention. Must be between 2 and 262144. Defaults to 1024 for processes not managed by Cloudera Manager.
Related Name

cpu.shares

Default Value
1024
API Name

rm_cpu_shares

Required
true


Custom Control Group Resources (overrides Cgroup settings)

Description
Custom control group resources to assign to this role, which will be enforced by the Linux kernel. These resources should exist on the target hosts, otherwise an error will occur when the process starts. Use the same format as used for arguments to the cgexec command: resource1,resource2:path1 or resource3:path2 For example: 'cpu,memory:my/path blkio:my2/path2' ***These settings override other cgroup settings.***
Related Name

custom.cgroups

Default Value
 
API Name

rm_custom_resources

Required
false


Cgroup I/O Weight

Description
Weight for the read I/O requests issued by this role. The greater the weight, the higher the priority of the requests when the host experiences I/O contention. Must be between 100 and 1000. Defaults to 1000 for processes not managed by Cloudera Manager.
Related Name

blkio.weight

Default Value
500
API Name

rm_io_weight

Required
true


Cgroup Memory Hard Limit

Description
Hard memory limit to assign to this role, enforced by the Linux kernel. When the limit is reached, the kernel will reclaim pages charged to the process. If reclaiming fails, the kernel may kill the process. Both anonymous as well as page cache pages contribute to the limit. Use a value of -1 to specify no limit. By default processes not managed by Cloudera Manager will have no limit. If the value is -1, Cloudera Manager will not monitor Cgroup memory usage therefore some of the charts will show 'No Data'
Related Name

memory.limit_in_bytes

Default Value
-1 MiB
API Name

rm_memory_hard_limit

Required
true


Cgroup Memory Soft Limit

Description
Soft memory limit to assign to this role, enforced by the Linux kernel. When the limit is reached, the kernel will reclaim pages charged to the process if and only if the host is facing memory pressure. If reclaiming fails, the kernel may kill the process. Both anonymous as well as page cache pages contribute to the limit. Use a value of -1 to specify no limit. By default processes not managed by Cloudera Manager will have no limit. If the value is -1, Cloudera Manager will not monitor Cgroup memory usage therefore some of the charts will show 'No Data'
Related Name

memory.soft_limit_in_bytes

Default Value
-1 MiB
API Name

rm_memory_soft_limit

Required
true





Security

S3 Gateway TLS/SSL Trust Store File

Description
The location on disk of the trust store, in .jks format, used to confirm the authenticity of TLS/SSL servers that S3 Gateway might connect to. This trust store must contain the certificate(s) used to sign the service(s) connected to. If this parameter is not provided, the default list of well-known certificate authorities is used instead.
Related Name

ssl.client.truststore.location

Default Value
 
API Name

ssl_client_truststore_location

Required
false


S3 Gateway TLS/SSL Trust Store Password

Description
The password for the S3 Gateway TLS/SSL Trust Store File. This password is not required to access the trust store; this field can be left blank. This password provides optional integrity checking of the file. The contents of trust stores are certificates, and certificates are public information.
Related Name

ssl.client.truststore.password

Default Value
 
API Name

ssl_client_truststore_password

Required
false


Enable TLS/SSL for S3 Gateway

Description
Encrypt communication between clients and S3 Gateway using Transport Layer Security (TLS) (formerly known as Secure Socket Layer (SSL)).
Related Name

ozone.ssl.enabled

Default Value
false
API Name

ssl_enabled

Required
false


S3 Gateway TLS/SSL Server Keystore Key Password

Description
The password that protects the private key contained in the keystore used when S3 Gateway is acting as a TLS/SSL server.
Related Name

ssl.server.keystore.keypassword

Default Value
 
API Name

ssl_server_keystore_keypassword

Required
false


S3 Gateway TLS/SSL Server Keystore File Location

Description
The path to the TLS/SSL keystore file containing the server certificate and private key used for TLS/SSL. Used when S3 Gateway is acting as a TLS/SSL server. The keystore must be in the format specified in Administration > Settings > Java Keystore Type.
Related Name

ssl.server.keystore.location

Default Value
 
API Name

ssl_server_keystore_location

Required
false


S3 Gateway TLS/SSL Server Keystore File Password

Description
The password for the S3 Gateway keystore file.
Related Name

ssl.server.keystore.password

Default Value
 
API Name

ssl_server_keystore_password

Required
false





Stacks Collection

Stacks Collection Data Retention

Description
The amount of stacks data that is retained. After the retention limit is reached, the oldest data is deleted.
Related Name

stacks_collection_data_retention

Default Value
100 MiB
API Name

stacks_collection_data_retention

Required
false


Stacks Collection Directory

Description
The directory in which stacks logs are placed. If not set, stacks are logged into a stacks subdirectory of the role's log directory. If this directory already exists, it will be owned by the current role user with 755 permissions. Sharing the same directory among multiple roles will cause an ownership race.
Related Name

stacks_collection_directory

Default Value
 
API Name

stacks_collection_directory

Required
false


Stacks Collection Enabled

Description
Whether or not periodic stacks collection is enabled.
Related Name

stacks_collection_enabled

Default Value
false
API Name

stacks_collection_enabled

Required
true


Stacks Collection Frequency

Description
The frequency with which stacks are collected.
Related Name

stacks_collection_frequency

Default Value
5.0 second(s)
API Name

stacks_collection_frequency

Required
false


Stacks Collection Method

Description
The method used to collect stacks. The jstack option involves periodically running the jstack command against the role's daemon process. The servlet method is available for those roles that have an HTTP server endpoint exposing the current stacks traces of all threads. When the servlet method is selected, that HTTP endpoint is periodically scraped.
Related Name

stacks_collection_method

Default Value
jstack
API Name

stacks_collection_method

Required
false





Suppressions

Suppress Configuration Validator: CDH Version Validator

Description
Whether to suppress configuration warnings produced by the CDH Version Validator configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_cdh_version_validator

Required
true


Suppress Parameter Validation: S3 Gateway Logging Advanced Configuration Snippet (Safety Valve)

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the S3 Gateway Logging Advanced Configuration Snippet (Safety Valve) parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_log4j_safety_valve

Required
true


Suppress Parameter Validation: S3 Gateway Log Directory

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the S3 Gateway Log Directory parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_log_dir

Required
true


Suppress Parameter Validation: Heap Dump Directory

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Heap Dump Directory parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_oom_heap_dump_dir

Required
true


Suppress Parameter Validation: S3 Gateway Advanced Configuration Snippet (Safety Valve) for ozone-conf/ozone-site.xml

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the S3 Gateway Advanced Configuration Snippet (Safety Valve) for ozone-conf/ozone-site.xml parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone-conf/ozone-site.xml_role_safety_valve

Required
true


Suppress Parameter Validation: S3 Gateway Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-client.xml

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the S3 Gateway Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-client.xml parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone-conf/ssl-client.xml_role_safety_valve

Required
true


Suppress Parameter Validation: S3 Gateway Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-server.xml

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the S3 Gateway Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-server.xml parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone-conf/ssl-server.xml_role_safety_valve

Required
true


Suppress Parameter Validation: Ozone S3 Gateway HTTP Bind Hostname

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone S3 Gateway HTTP Bind Hostname parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.s3g.http-bind-host

Required
true


Suppress Parameter Validation: Ozone S3 Gateway HTTP Web UI Port

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone S3 Gateway HTTP Web UI Port parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.s3g.http-port

Required
true


Suppress Parameter Validation: Secure Ozone S3 Gateway HTTPS Bind Hostname

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Secure Ozone S3 Gateway HTTPS Bind Hostname parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.s3g.https-bind-host

Required
true


Suppress Parameter Validation: Secure Ozone S3 Gateway Web UI Port (TLS/SSL)

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Secure Ozone S3 Gateway Web UI Port (TLS/SSL) parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.s3g.https-port

Required
true


Suppress Parameter Validation: Java Heap Size of S3 Gateway

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Java Heap Size of S3 Gateway parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone_s3_gateway_max_heap_size

Required
true


Suppress Parameter Validation: Custom Control Group Resources (overrides Cgroup settings)

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Custom Control Group Resources (overrides Cgroup settings) parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_rm_custom_resources

Required
true


Suppress Parameter Validation: Role Triggers

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Role Triggers parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_role_triggers

Required
true


Suppress Parameter Validation: S3 Gateway Environment Advanced Configuration Snippet (Safety Valve)

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the S3 Gateway Environment Advanced Configuration Snippet (Safety Valve) parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_s3_gateway_role_env_safety_valve

Required
true


Suppress Parameter Validation: S3 Gateway TLS/SSL Trust Store File

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the S3 Gateway TLS/SSL Trust Store File parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ssl_client_truststore_location

Required
true


Suppress Parameter Validation: S3 Gateway TLS/SSL Trust Store Password

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the S3 Gateway TLS/SSL Trust Store Password parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ssl_client_truststore_password

Required
true


Suppress Parameter Validation: S3 Gateway TLS/SSL Server Keystore Key Password

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the S3 Gateway TLS/SSL Server Keystore Key Password parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ssl_server_keystore_keypassword

Required
true


Suppress Parameter Validation: S3 Gateway TLS/SSL Server Keystore File Location

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the S3 Gateway TLS/SSL Server Keystore File Location parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ssl_server_keystore_location

Required
true


Suppress Parameter Validation: S3 Gateway TLS/SSL Server Keystore File Password

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the S3 Gateway TLS/SSL Server Keystore File Password parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ssl_server_keystore_password

Required
true


Suppress Parameter Validation: Stacks Collection Directory

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Stacks Collection Directory parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_stacks_collection_directory

Required
true


Suppress Health Test: Audit Pipeline Test

Description
Whether to suppress the results of the Audit Pipeline Test heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_s3_gateway_audit_health

Required
true


Suppress Health Test: File Descriptors

Description
Whether to suppress the results of the File Descriptors heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_s3_gateway_file_descriptor

Required
true


Suppress Health Test: Host Health

Description
Whether to suppress the results of the Host Health heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_s3_gateway_host_health

Required
true


Suppress Health Test: Log Directory Free Space

Description
Whether to suppress the results of the Log Directory Free Space heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_s3_gateway_log_directory_free_space

Required
true


Suppress Health Test: Process Status

Description
Whether to suppress the results of the Process Status heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_s3_gateway_scm_health

Required
true


Suppress Health Test: Swap Memory Usage

Description
Whether to suppress the results of the Swap Memory Usage heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_s3_gateway_swap_memory_usage

Required
true


Suppress Health Test: Swap Memory Usage Rate Beta

Description
Whether to suppress the results of the Swap Memory Usage Rate Beta heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_s3_gateway_swap_memory_usage_rate

Required
true


Suppress Health Test: Unexpected Exits

Description
Whether to suppress the results of the Unexpected Exits heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_s3_gateway_unexpected_exits

Required
true






Service-Wide


Advanced

Ozone Service Advanced Configuration Snippet (Safety Valve) for ozone-conf/ozone-site.xml

Description
For advanced use only, a string to be inserted into ozone-conf/ozone-site.xml. Applies to configurations of all roles in this service except client configuration.
Related Name
 
Default Value
 
API Name

ozone-conf/ozone-site.xml_service_safety_valve

Required
false


Ozone Service Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-client.xml

Description
For advanced use only, a string to be inserted into ozone-conf/ssl-client.xml. Applies to configurations of all roles in this service except client configuration.
Related Name
 
Default Value
 
API Name

ozone-conf/ssl-client.xml_service_safety_valve

Required
false


Ozone Service Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-server.xml

Description
For advanced use only, a string to be inserted into ozone-conf/ssl-server.xml. Applies to configurations of all roles in this service except client configuration.
Related Name
 
Default Value
 
API Name

ozone-conf/ssl-server.xml_service_safety_valve

Required
false


Ozone Service Environment Advanced Configuration Snippet (Safety Valve)

Description
For advanced use only, key-value pairs (one on each line) to be inserted into a role's environment. Applies to configurations of all roles in this service except client configuration.
Related Name
 
Default Value
 
API Name

OZONE_service_env_safety_valve

Required
false


System Group

Description
The group that this service's processes should run as.
Related Name
 
Default Value
hdfs
API Name

process_groupname

Required
true


System User

Description
The user that this service's processes should run as.
Related Name
 
Default Value
hdfs
API Name

process_username

Required
true





Monitoring

Enable Service Level Health Alerts

Description
When set, Cloudera Manager will send alerts when the health of this service reaches the threshold specified by the EventServer setting eventserver_health_events_alert_threshold
Related Name
 
Default Value
true
API Name

enable_alerts

Required
false


Enable Configuration Change Alerts

Description
When set, Cloudera Manager will send alerts when this entity's configuration changes.
Related Name
 
Default Value
false
API Name

enable_config_alerts

Required
false


Service Triggers

Description
The configured triggers for this service. This is a JSON-formatted list of triggers. These triggers are evaluated as part as the health system. Every trigger expression is parsed, and if the trigger condition is met, the list of actions provided in the trigger expression is executed. Each trigger has the following fields:triggerName (mandatory) - The name of the trigger. This value must be unique for the specific service. triggerExpression (mandatory) - A tsquery expression representing the trigger. streamThreshold (optional) - The maximum number of streams that can satisfy a condition of a trigger before the condition fires. By default set to 0, and any stream returned causes the condition to fire. enabled  (optional) - By default set to 'true'. If set to 'false', the trigger is not evaluated.expressionEditorConfig  (optional) - Metadata for the trigger editor. If present, the trigger should only be edited from the Edit Trigger page; editing the trigger here can lead to inconsistencies.For example, the following JSON formatted trigger fires if there are more than 10 DataNodes with more than 500 file descriptors opened:[{"triggerName": "sample-trigger",
  "triggerExpression": "IF (SELECT fd_open WHERE roleType = DataNode and last(fd_open) > 500) DO health:bad",
  "streamThreshold": 10, "enabled": "true"}]See the trigger rules documentation for more details on how to write triggers using tsquery.The JSON format is evolving and may change and, as a result, backward compatibility is not guaranteed between releases.
Related Name
 
Default Value
[]
API Name

service_triggers

Required
true


Service Monitor Derived Configs Advanced Configuration Snippet (Safety Valve)

Description
For advanced use only, a list of derived configuration properties that will be used by the Service Monitor instead of the default ones.
Related Name
 
Default Value
 
API Name

smon_derived_configs_safety_valve

Required
false





Other

Ozone Prometheus Endpoint Token

Description
Enables token based authentication for Prometheus servlet endpoints. This will disable SPNEGO based authentication on the endpoints.
Related Name

hdds.prometheus.endpoint.token

Default Value
 
API Name

hdds.prometheus.endpoint.token

Required
false


HDFS Service

Description
Name of the HDFS service that this Ozone service instance depends on
Related Name
 
Default Value
 
API Name

hdfs_service

Required
false


Ozone Replication Factor

Description
Default replication factor value for keys stored in Ozone. The actual number of replications can be specified when writing the key. The default is used if replication value is not specified. Supported values: 1 and 3.
Related Name

ozone.replication

Default Value
3
API Name

ozone.replication

Required
true


Enable Kerberos Authentication

Description
Enables Kerberos authentication for Ozone.
Related Name

ozone.security.enabled

Default Value
false
API Name

ozone.security.enabled

Required
false


Enable Kerberos Authentication for HTTP web consoles

Description
Enables Kerberos authentication for Ozone HTTP web consoles for all roles of this service using the SPNEGO protocol. Note: This is effective only if Kerberos is enabled for the Ozone service.
Related Name

ozone.security.http.kerberos.enabled

Default Value
false
API Name

ozone.security.http.kerberos.enabled

Required
false


Ozone Service ID

Description
A logical name for this Ozone service. Note: No special characters.
Related Name

ozone.service.id

Default Value
 
API Name

ozone.service.id

Required
true


Ozone Java Options

Description
These arguments will be passed as part of the Java command line. Commonly, garbage collection flags or extra debugging flags would be passed here.
Related Name

ozone_java_opts

Default Value
java_args
API Name

ozone_java_opts

Required
false


Ranger Ozone Plugin Hdfs Audit Directory

Description
The DFS path on which Ranger audits are written.
Related Name

ranger_ozone_plugin_hdfs_audit_directory

Default Value
$ranger_base_audit_url/ozone
API Name

ranger_ozone_plugin_hdfs_audit_directory

Required
false


RANGER Service

Description
Name of the RANGER service that this Ozone service instance depends on
Related Name
 
Default Value
 
API Name

ranger_service

Required
false





Suppressions

Suppress Configuration Validator: CDH Version Validator

Description
Whether to suppress configuration warnings produced by the CDH Version Validator configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_cdh_version_validator

Required
true


Suppress Configuration Validator: Deploy Directory

Description
Whether to suppress configuration warnings produced by the Deploy Directory configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_client_config_root_dir

Required
true


Suppress Configuration Validator: Datanode Ratis Metadata Directory

Description
Whether to suppress configuration warnings produced by the Datanode Ratis Metadata Directory configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_dfs.container.ratis.datanode.storage.dir

Required
true


Suppress Configuration Validator: Datanode Data Directory

Description
Whether to suppress configuration warnings produced by the Datanode Data Directory configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_hdds.datanode.dir

Required
true


Suppress Configuration Validator: Storage Container Manager Logging Advanced Configuration Snippet (Safety Valve)

Description
Whether to suppress configuration warnings produced by the Storage Container Manager Logging Advanced Configuration Snippet (Safety Valve) configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_log4j_safety_valve

Required
true


Suppress Configuration Validator: Storage Container Manager Log Directory

Description
Whether to suppress configuration warnings produced by the Storage Container Manager Log Directory configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_log_dir

Required
true


Suppress Configuration Validator: Topology Script File Name

Description
Whether to suppress configuration warnings produced by the Topology Script File Name configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_net.topology.script.file.name

Required
true


Suppress Configuration Validator: Java Heap Size of Ozone Manager

Description
Whether to suppress configuration warnings produced by the Java Heap Size of Ozone Manager configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_om_max_heap_size

Required
true


Suppress Configuration Validator: Heap Dump Directory

Description
Whether to suppress configuration warnings produced by the Heap Dump Directory configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_oom_heap_dump_dir

Required
true


Suppress Configuration Validator: Ozone DataNode Advanced Configuration Snippet (Safety Valve) for ozone-conf/dn-audit-log4j2.properties

Description
Whether to suppress configuration warnings produced by the Ozone DataNode Advanced Configuration Snippet (Safety Valve) for ozone-conf/dn-audit-log4j2.properties configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone-conf/dn-audit-log4j2.properties_role_safety_valve

Required
true


Suppress Configuration Validator: Ozone Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/om-audit-log4j2.properties

Description
Whether to suppress configuration warnings produced by the Ozone Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/om-audit-log4j2.properties configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone-conf/om-audit-log4j2.properties_role_safety_valve

Required
true


Suppress Configuration Validator: Ozone Prometheus Advanced Configuration Snippet (Safety Valve) for ozone-conf/ozone-prometheus.yml

Description
Whether to suppress configuration warnings produced by the Ozone Prometheus Advanced Configuration Snippet (Safety Valve) for ozone-conf/ozone-prometheus.yml configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone-conf/ozone-prometheus.yml_role_safety_valve

Required
true


Suppress Configuration Validator: Ozone Client Advanced Configuration Snippet (Safety Valve) for ozone-conf/ozone-site.xml

Description
Whether to suppress configuration warnings produced by the Ozone Client Advanced Configuration Snippet (Safety Valve) for ozone-conf/ozone-site.xml configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone-conf/ozone-site.xml_client_config_safety_valve

Required
true


Suppress Configuration Validator: Storage Container Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ozone-site.xml

Description
Whether to suppress configuration warnings produced by the Storage Container Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ozone-site.xml configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone-conf/ozone-site.xml_role_safety_valve

Required
true


Suppress Configuration Validator: Ozone Prometheus Advanced Configuration Snippet (Safety Valve) for ozone-conf/prometheus-token

Description
Whether to suppress configuration warnings produced by the Ozone Prometheus Advanced Configuration Snippet (Safety Valve) for ozone-conf/prometheus-token configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone-conf/prometheus-token_role_safety_valve

Required
true


Suppress Configuration Validator: Ozone Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ranger-ozone-audit.xml

Description
Whether to suppress configuration warnings produced by the Ozone Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ranger-ozone-audit.xml configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone-conf/ranger-ozone-audit.xml_role_safety_valve

Required
true


Suppress Configuration Validator: Ozone Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ranger-ozone-policymgr-ssl.xml

Description
Whether to suppress configuration warnings produced by the Ozone Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ranger-ozone-policymgr-ssl.xml configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone-conf/ranger-ozone-policymgr-ssl.xml_role_safety_valve

Required
true


Suppress Configuration Validator: Ozone Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ranger-ozone-security.xml

Description
Whether to suppress configuration warnings produced by the Ozone Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ranger-ozone-security.xml configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone-conf/ranger-ozone-security.xml_role_safety_valve

Required
true


Suppress Configuration Validator: Storage Container Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/scm-audit-log4j2.properties

Description
Whether to suppress configuration warnings produced by the Storage Container Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/scm-audit-log4j2.properties configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone-conf/scm-audit-log4j2.properties_role_safety_valve

Required
true


Suppress Configuration Validator: Ozone Client Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-client.xml

Description
Whether to suppress configuration warnings produced by the Ozone Client Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-client.xml configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone-conf/ssl-client.xml_client_config_safety_valve

Required
true


Suppress Configuration Validator: Storage Container Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-client.xml

Description
Whether to suppress configuration warnings produced by the Storage Container Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-client.xml configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone-conf/ssl-client.xml_role_safety_valve

Required
true


Suppress Configuration Validator: Storage Container Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-server.xml

Description
Whether to suppress configuration warnings produced by the Storage Container Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-server.xml configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone-conf/ssl-server.xml_role_safety_valve

Required
true


Suppress Configuration Validator: Ozone Datanode HTTP Web UI Port

Description
Whether to suppress configuration warnings produced by the Ozone Datanode HTTP Web UI Port configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.datanode.http-port

Required
true


Suppress Configuration Validator: Ozone Datanode Port (TLS/SSL)

Description
Whether to suppress configuration warnings produced by the Ozone Datanode Port (TLS/SSL) configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.datanode.https-port

Required
true


Suppress Configuration Validator: Ozone Log Directory

Description
Whether to suppress configuration warnings produced by the Ozone Log Directory configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.log.dir

Required
true


Suppress Configuration Validator: Storage Container Manager Metadata Directory

Description
Whether to suppress configuration warnings produced by the Storage Container Manager Metadata Directory configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.metadata.dirs

Required
true


Suppress Configuration Validator: Ozone Manager Data Directory

Description
Whether to suppress configuration warnings produced by the Ozone Manager Data Directory configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.om.db.dirs

Required
true


Suppress Configuration Validator: Ozone Manager HTTP Bind Hostname

Description
Whether to suppress configuration warnings produced by the Ozone Manager HTTP Bind Hostname configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.om.http-bind-host

Required
true


Suppress Configuration Validator: Ozone Manager HTTP Web UI Port

Description
Whether to suppress configuration warnings produced by the Ozone Manager HTTP Web UI Port configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.om.http-port

Required
true


Suppress Configuration Validator: Secure Ozone Manager HTTPS Bind Hostname

Description
Whether to suppress configuration warnings produced by the Secure Ozone Manager HTTPS Bind Hostname configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.om.https-bind-host

Required
true


Suppress Configuration Validator: Secure Ozone Manager Web UI Port (TLS/SSL)

Description
Whether to suppress configuration warnings produced by the Secure Ozone Manager Web UI Port (TLS/SSL) configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.om.https-port

Required
true


Suppress Configuration Validator: Ozone Manager Ratis port

Description
Whether to suppress configuration warnings produced by the Ozone Manager Ratis port configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.om.ratis-port

Required
true


Suppress Configuration Validator: Ozone Manager Ratis Storage Directory

Description
Whether to suppress configuration warnings produced by the Ozone Manager Ratis Storage Directory configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.om.ratis.storage.dir

Required
true


Suppress Configuration Validator: Ozone Manager RPC port

Description
Whether to suppress configuration warnings produced by the Ozone Manager RPC port configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.om.rpc-port

Required
true


Suppress Configuration Validator: Prometheus Data Retention time.

Description
Whether to suppress configuration warnings produced by the Prometheus Data Retention time. configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.prometheus.data.retention.time

Required
true


Suppress Configuration Validator: Prometheus Data Directory

Description
Whether to suppress configuration warnings produced by the Prometheus Data Directory configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.prometheus.db.dir

Required
true


Suppress Configuration Validator: Prometheus server extra flags.

Description
Whether to suppress configuration warnings produced by the Prometheus server extra flags. configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.prometheus.extra.flags

Required
true


Suppress Configuration Validator: Prometheus HTTP Port

Description
Whether to suppress configuration warnings produced by the Prometheus HTTP Port configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.prometheus.http-port

Required
true


Suppress Configuration Validator: Prometheus server log level.

Description
Whether to suppress configuration warnings produced by the Prometheus server log level. configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.prometheus.log.level

Required
true


Suppress Configuration Validator: Recon Data Directory

Description
Whether to suppress configuration warnings produced by the Recon Data Directory configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.recon.db.dir

Required
true


Suppress Configuration Validator: Recon HTTP Bind Hostname

Description
Whether to suppress configuration warnings produced by the Recon HTTP Bind Hostname configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.recon.http-bind-host

Required
true


Suppress Configuration Validator: Recon HTTP Web UI Port

Description
Whether to suppress configuration warnings produced by the Recon HTTP Web UI Port configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.recon.http-port

Required
true


Suppress Configuration Validator: Secure Recon HTTPS Bind Hostname

Description
Whether to suppress configuration warnings produced by the Secure Recon HTTPS Bind Hostname configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.recon.https-bind-host

Required
true


Suppress Configuration Validator: Secure Recon Web UI Port (TLS/SSL)

Description
Whether to suppress configuration warnings produced by the Secure Recon Web UI Port (TLS/SSL) configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.recon.https-port

Required
true


Suppress Configuration Validator: Recon OzoneManager Data Directory

Description
Whether to suppress configuration warnings produced by the Recon OzoneManager Data Directory configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.recon.om.db.dir

Required
true


Suppress Configuration Validator: Recon RPC Port

Description
Whether to suppress configuration warnings produced by the Recon RPC Port configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.recon.rpc-port

Required
true


Suppress Configuration Validator: Recon StorageContainerManager Data Directory

Description
Whether to suppress configuration warnings produced by the Recon StorageContainerManager Data Directory configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.recon.scm.db.dirs

Required
true


Suppress Configuration Validator: Ozone S3 Gateway HTTP Bind Hostname

Description
Whether to suppress configuration warnings produced by the Ozone S3 Gateway HTTP Bind Hostname configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.s3g.http-bind-host

Required
true


Suppress Configuration Validator: Ozone S3 Gateway HTTP Web UI Port

Description
Whether to suppress configuration warnings produced by the Ozone S3 Gateway HTTP Web UI Port configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.s3g.http-port

Required
true


Suppress Configuration Validator: Secure Ozone S3 Gateway HTTPS Bind Hostname

Description
Whether to suppress configuration warnings produced by the Secure Ozone S3 Gateway HTTPS Bind Hostname configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.s3g.https-bind-host

Required
true


Suppress Configuration Validator: Secure Ozone S3 Gateway Web UI Port (TLS/SSL)

Description
Whether to suppress configuration warnings produced by the Secure Ozone S3 Gateway Web UI Port (TLS/SSL) configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.s3g.https-port

Required
true


Suppress Configuration Validator: Datanode ID Directory

Description
Whether to suppress configuration warnings produced by the Datanode ID Directory configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.scm.datanode.id.dir

Required
true


Suppress Configuration Validator: Storage Container Manager Data Directory

Description
Whether to suppress configuration warnings produced by the Storage Container Manager Data Directory configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.scm.db.dirs

Required
true


Suppress Configuration Validator: Storage Container Manager HTTP Bind Hostname

Description
Whether to suppress configuration warnings produced by the Storage Container Manager HTTP Bind Hostname configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.scm.http-bind-host

Required
true


Suppress Configuration Validator: Storage Container Manager HTTP Web UI Port

Description
Whether to suppress configuration warnings produced by the Storage Container Manager HTTP Web UI Port configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.scm.http-port

Required
true


Suppress Configuration Validator: Secure Storage Container Manager HTTPS Bind Hostname

Description
Whether to suppress configuration warnings produced by the Secure Storage Container Manager HTTPS Bind Hostname configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.scm.https-bind-host

Required
true


Suppress Configuration Validator: Secure Storage Container Manager Web UI Port (TLS/SSL)

Description
Whether to suppress configuration warnings produced by the Secure Storage Container Manager Web UI Port (TLS/SSL) configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.scm.https-port

Required
true


Suppress Configuration Validator: Java Heap Size of DataNode

Description
Whether to suppress configuration warnings produced by the Java Heap Size of DataNode configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone_datanode_heap_size

Required
true


Suppress Configuration Validator: Ozone DataNode Environment Advanced Configuration Snippet (Safety Valve)

Description
Whether to suppress configuration warnings produced by the Ozone DataNode Environment Advanced Configuration Snippet (Safety Valve) configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone_datanode_role_env_safety_valve

Required
true


Suppress Configuration Validator: Ozone Manager Environment Advanced Configuration Snippet (Safety Valve)

Description
Whether to suppress configuration warnings produced by the Ozone Manager Environment Advanced Configuration Snippet (Safety Valve) configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone_manager_role_env_safety_valve

Required
true


Suppress Configuration Validator: Ozone Prometheus Environment Advanced Configuration Snippet (Safety Valve)

Description
Whether to suppress configuration warnings produced by the Ozone Prometheus Environment Advanced Configuration Snippet (Safety Valve) configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone_prometheus_role_env_safety_valve

Required
true


Suppress Configuration Validator: Java Heap Size of Recon

Description
Whether to suppress configuration warnings produced by the Java Heap Size of Recon configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone_recon_max_heap_size

Required
true


Suppress Configuration Validator: Ozone Recon Environment Advanced Configuration Snippet (Safety Valve)

Description
Whether to suppress configuration warnings produced by the Ozone Recon Environment Advanced Configuration Snippet (Safety Valve) configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone_recon_role_env_safety_valve

Required
true


Suppress Configuration Validator: Java Heap Size of S3 Gateway

Description
Whether to suppress configuration warnings produced by the Java Heap Size of S3 Gateway configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone_s3_gateway_max_heap_size

Required
true


Suppress Configuration Validator: Prometheus Binary Location

Description
Whether to suppress configuration warnings produced by the Prometheus Binary Location configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_prometheus.location

Required
true


Suppress Configuration Validator: Ranger Ozone Plugin Conf Path

Description
Whether to suppress configuration warnings produced by the Ranger Ozone Plugin Conf Path configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ranger_ozone_plugin_conf_path

Required
true


Suppress Configuration Validator: Ranger Ozone Plugin Policy Cache Directory Path

Description
Whether to suppress configuration warnings produced by the Ranger Ozone Plugin Policy Cache Directory Path configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ranger_ozone_plugin_policy_cache_directory

Required
true


Suppress Configuration Validator: Ranger Ozone Plugin Audit Solr Spool Directory Path

Description
Whether to suppress configuration warnings produced by the Ranger Ozone Plugin Audit Solr Spool Directory Path configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ranger_ozone_plugin_solr_audit_spool_directory

Required
true


Suppress Configuration Validator: Custom Control Group Resources (overrides Cgroup settings)

Description
Whether to suppress configuration warnings produced by the Custom Control Group Resources (overrides Cgroup settings) configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_rm_custom_resources

Required
true


Suppress Configuration Validator: Role Triggers

Description
Whether to suppress configuration warnings produced by the Role Triggers configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_role_triggers

Required
true


Suppress Configuration Validator: S3 Gateway Environment Advanced Configuration Snippet (Safety Valve)

Description
Whether to suppress configuration warnings produced by the S3 Gateway Environment Advanced Configuration Snippet (Safety Valve) configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_s3_gateway_role_env_safety_valve

Required
true


Suppress Configuration Validator: Java Heap Size of Storage Container Manager

Description
Whether to suppress configuration warnings produced by the Java Heap Size of Storage Container Manager configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_scm_max_heap_size

Required
true


Suppress Configuration Validator: Storage Container Manager TLS/SSL Trust Store File

Description
Whether to suppress configuration warnings produced by the Storage Container Manager TLS/SSL Trust Store File configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ssl_client_truststore_location

Required
true


Suppress Configuration Validator: Storage Container Manager TLS/SSL Trust Store Password

Description
Whether to suppress configuration warnings produced by the Storage Container Manager TLS/SSL Trust Store Password configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ssl_client_truststore_password

Required
true


Suppress Configuration Validator: Storage Container Manager TLS/SSL Server Keystore Key Password

Description
Whether to suppress configuration warnings produced by the Storage Container Manager TLS/SSL Server Keystore Key Password configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ssl_server_keystore_keypassword

Required
true


Suppress Configuration Validator: Storage Container Manager TLS/SSL Server Keystore File Location

Description
Whether to suppress configuration warnings produced by the Storage Container Manager TLS/SSL Server Keystore File Location configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ssl_server_keystore_location

Required
true


Suppress Configuration Validator: Storage Container Manager TLS/SSL Server Keystore File Password

Description
Whether to suppress configuration warnings produced by the Storage Container Manager TLS/SSL Server Keystore File Password configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_ssl_server_keystore_password

Required
true


Suppress Configuration Validator: Stacks Collection Directory

Description
Whether to suppress configuration warnings produced by the Stacks Collection Directory configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_stacks_collection_directory

Required
true


Suppress Configuration Validator: Storage Container Manager Environment Advanced Configuration Snippet (Safety Valve)

Description
Whether to suppress configuration warnings produced by the Storage Container Manager Environment Advanced Configuration Snippet (Safety Valve) configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_storage_container_manager_role_env_safety_valve

Required
true


Suppress Configuration Validator: Gateway Count Validator

Description
Whether to suppress configuration warnings produced by the Gateway Count Validator configuration validator.
Related Name
 
Default Value
false
API Name

service_config_suppression_gateway_count_validator

Required
true


Suppress Parameter Validation: Ozone Prometheus Endpoint Token

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Prometheus Endpoint Token parameter.
Related Name
 
Default Value
false
API Name

service_config_suppression_hdds.prometheus.endpoint.token

Required
true


Suppress Parameter Validation: Ozone Service Advanced Configuration Snippet (Safety Valve) for ozone-conf/ozone-site.xml

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Service Advanced Configuration Snippet (Safety Valve) for ozone-conf/ozone-site.xml parameter.
Related Name
 
Default Value
false
API Name

service_config_suppression_ozone-conf/ozone-site.xml_service_safety_valve

Required
true


Suppress Parameter Validation: Ozone Service Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-client.xml

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Service Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-client.xml parameter.
Related Name
 
Default Value
false
API Name

service_config_suppression_ozone-conf/ssl-client.xml_service_safety_valve

Required
true


Suppress Parameter Validation: Ozone Service Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-server.xml

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Service Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-server.xml parameter.
Related Name
 
Default Value
false
API Name

service_config_suppression_ozone-conf/ssl-server.xml_service_safety_valve

Required
true


Suppress Parameter Validation: Ozone Service ID

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Service ID parameter.
Related Name
 
Default Value
false
API Name

service_config_suppression_ozone.service.id

Required
true


Suppress Configuration Validator: Ozone DataNode Count Validator

Description
Whether to suppress configuration warnings produced by the Ozone DataNode Count Validator configuration validator.
Related Name
 
Default Value
false
API Name

service_config_suppression_ozone_datanode_count_validator

Required
true


Suppress Parameter Validation: Ozone Java Options

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Java Options parameter.
Related Name
 
Default Value
false
API Name

service_config_suppression_ozone_java_opts

Required
true


Suppress Configuration Validator: Ozone Manager Count Validator

Description
Whether to suppress configuration warnings produced by the Ozone Manager Count Validator configuration validator.
Related Name
 
Default Value
false
API Name

service_config_suppression_ozone_manager_count_validator

Required
true


Suppress Configuration Validator: Ozone Prometheus Count Validator

Description
Whether to suppress configuration warnings produced by the Ozone Prometheus Count Validator configuration validator.
Related Name
 
Default Value
false
API Name

service_config_suppression_ozone_prometheus_count_validator

Required
true


Suppress Configuration Validator: Ozone Recon Count Validator

Description
Whether to suppress configuration warnings produced by the Ozone Recon Count Validator configuration validator.
Related Name
 
Default Value
false
API Name

service_config_suppression_ozone_recon_count_validator

Required
true


Suppress Parameter Validation: Ozone Service Environment Advanced Configuration Snippet (Safety Valve)

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Service Environment Advanced Configuration Snippet (Safety Valve) parameter.
Related Name
 
Default Value
false
API Name

service_config_suppression_ozone_service_env_safety_valve

Required
true


Suppress Parameter Validation: System Group

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the System Group parameter.
Related Name
 
Default Value
false
API Name

service_config_suppression_process_groupname

Required
true


Suppress Parameter Validation: System User

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the System User parameter.
Related Name
 
Default Value
false
API Name

service_config_suppression_process_username

Required
true


Suppress Parameter Validation: Ranger Ozone Plugin Hdfs Audit Directory

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ranger Ozone Plugin Hdfs Audit Directory parameter.
Related Name
 
Default Value
false
API Name

service_config_suppression_ranger_ozone_plugin_hdfs_audit_directory

Required
true


Suppress Configuration Validator: S3 Gateway Count Validator

Description
Whether to suppress configuration warnings produced by the S3 Gateway Count Validator configuration validator.
Related Name
 
Default Value
false
API Name

service_config_suppression_s3_gateway_count_validator

Required
true


Suppress Parameter Validation: Service Triggers

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Service Triggers parameter.
Related Name
 
Default Value
false
API Name

service_config_suppression_service_triggers

Required
true


Suppress Parameter Validation: Service Monitor Derived Configs Advanced Configuration Snippet (Safety Valve)

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Service Monitor Derived Configs Advanced Configuration Snippet (Safety Valve) parameter.
Related Name
 
Default Value
false
API Name

service_config_suppression_smon_derived_configs_safety_valve

Required
true


Suppress Configuration Validator: Storage Container Manager Count Validator

Description
Whether to suppress configuration warnings produced by the Storage Container Manager Count Validator configuration validator.
Related Name
 
Default Value
false
API Name

service_config_suppression_storage_container_manager_count_validator

Required
true






Storage Container Manager


Advanced

Storage Container Manager Logging Advanced Configuration Snippet (Safety Valve)

Description
For advanced use only, a string to be inserted into log4j.properties for this role only.
Related Name
 
Default Value
 
API Name

log4j_safety_valve

Required
false


Enable auto refresh for metric configurations

Description
When true, Enable Metric Collection and Metric Filter parameters will be set automatically if they're changed. Otherwise, a refresh by hand is required.
Related Name
 
Default Value
false
API Name

metric_config_auto_refresh

Required
false


Heap Dump Directory

Description
Path to directory where heap dumps are generated when java.lang.OutOfMemoryError error is thrown. This directory is automatically created if it does not exist. If this directory already exists, it will be owned by the current role user with 1777 permissions. Sharing the same directory among multiple roles will cause an ownership race. The heap dump files are created with 600 permissions and are owned by the role user. The amount of free space in this directory should be greater than the maximum Java Process heap size configured for this role.
Related Name

oom_heap_dump_dir

Default Value
/tmp
API Name

oom_heap_dump_dir

Required
false


Dump Heap When Out of Memory

Description
When set, generates a heap dump file when when an out-of-memory error occurs.
Related Name
 
Default Value
true
API Name

oom_heap_dump_enabled

Required
true


Kill When Out of Memory

Description
When set, a SIGKILL signal is sent to the role process when java.lang.OutOfMemoryError is thrown.
Related Name
 
Default Value
true
API Name

oom_sigkill_enabled

Required
true


Storage Container Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ozone-site.xml

Description
For advanced use only. A string to be inserted into ozone-conf/ozone-site.xml for this role only.
Related Name
 
Default Value
 
API Name

ozone-conf/ozone-site.xml_role_safety_valve

Required
false


Storage Container Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/scm-audit-log4j2.properties

Description
For advanced use only. A string to be inserted into ozone-conf/scm-audit-log4j2.properties for this role only.
Related Name
 
Default Value
 
API Name

ozone-conf/scm-audit-log4j2.properties_role_safety_valve

Required
false


Storage Container Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-client.xml

Description
For advanced use only. A string to be inserted into ozone-conf/ssl-client.xml for this role only.
Related Name
 
Default Value
 
API Name

ozone-conf/ssl-client.xml_role_safety_valve

Required
false


Storage Container Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-server.xml

Description
For advanced use only. A string to be inserted into ozone-conf/ssl-server.xml for this role only.
Related Name
 
Default Value
 
API Name

ozone-conf/ssl-server.xml_role_safety_valve

Required
false


Automatically Restart Process

Description
When set, this role's process is automatically (and transparently) restarted in the event of an unexpected failure.  This configuration applies in the time after the Start Wait Timeout period.
Related Name
 
Default Value
false
API Name

process_auto_restart

Required
true


Enable Metric Collection

Description
Cloudera Manager agent monitors each service and each of its role by publishing metrics to the Cloudera Manager Service Monitor. Setting it to false will stop Cloudera Manager agent from publishing any metric for corresponding service/roles. This is usually helpful for services that generate large amount of metrics which Service Monitor is not able to process.
Related Name
 
Default Value
true
API Name

process_should_monitor

Required
true


Process Start Retry Attempts

Description
Number of times to try starting a role's process when the process exits before the Start Wait Timeout period.  After a process is running beyond the Start Wait Timeout, the retry count is reset.  Setting this configuration to zero will prevent restart of the process during the Start Wait Timeout period.
Related Name
 
Default Value
3
API Name

process_start_retries

Required
false


Process Start Wait Timeout

Description
The time in seconds to wait for a role's process to start successfully on a host.  Processes which exit/crash before this time will be restarted until reaching the limit specified by the Start Retry Attempts count parameter.  Setting this configuration to zero will turn off this feature.
Related Name
 
Default Value
20
API Name

process_start_secs

Required
false


Storage Container Manager Environment Advanced Configuration Snippet (Safety Valve)

Description
For advanced use only, key-value pairs (one on each line) to be inserted into a role's environment. Applies to configurations of this role except client configuration.
Related Name
 
Default Value
 
API Name

STORAGE_CONTAINER_MANAGER_role_env_safety_valve

Required
false





Logs

Storage Container Manager Log Directory

Description
The log directory for log files of the role Storage Container Manager.
Related Name

log.dir

Default Value
/var/log/hadoop-ozone
API Name

log_dir

Required
false


Storage Container Manager Logging Threshold

Description
The minimum log level for Storage Container Manager logs
Related Name
 
Default Value
INFO
API Name

log_threshold

Required
false


Storage Container Manager Maximum Log File Backups

Description
The maximum number of rolled log files to keep for Storage Container Manager logs.  Typically used by log4j or logback.
Related Name
 
Default Value
10
API Name

max_log_backup_index

Required
false


Storage Container Manager Max Log Size

Description
The maximum size, in megabytes, per log file for Storage Container Manager logs.  Typically used by log4j or logback.
Related Name
 
Default Value
200 MiB
API Name

max_log_size

Required
false





Monitoring

Enable Health Alerts for this Role

Description
When set, Cloudera Manager will send alerts when the health of this role reaches the threshold specified by the EventServer setting eventserver_health_events_alert_threshold
Related Name
 
Default Value
true
API Name

enable_alerts

Required
false


Enable Configuration Change Alerts

Description
When set, Cloudera Manager will send alerts when this entity's configuration changes.
Related Name
 
Default Value
false
API Name

enable_config_alerts

Required
false


Log Directory Free Space Monitoring Absolute Thresholds

Description
The health test thresholds for monitoring of free space on the filesystem that contains this role's log directory.
Related Name
 
Default Value
Warning: 10 GiB,  Critical: 5 GiB
API Name

log_directory_free_space_absolute_thresholds

Required
false


Log Directory Free Space Monitoring Percentage Thresholds

Description
The health test thresholds for monitoring of free space on the filesystem that contains this role's log directory. Specified as a percentage of the capacity on that filesystem. This setting is not used if a Log Directory Free Space Monitoring Absolute Thresholds setting is configured.
Related Name
 
Default Value
Warning: Never,  Critical: Never
API Name

log_directory_free_space_percentage_thresholds

Required
false


Metric Filter

Description
Defines a Metric Filter for this role. Cloudera Manager Agents will not send filtered metrics to the Service Monitor. Define the following fields:Health Test Metric Set - Select this parameter to collect only metrics required for health tests.Default Dashboard Metric Set - Select this parameter to collect only metrics required for the default dashboards. For user-defined charts, you must add the metrics you require for the chart using the Custom Metrics parameter. Include/Exclude Custom Metrics  - Select Include to specify metrics that should be collected. Select Exclude to specify metrics that should not be collected. Enter the metric names to be included or excluded using the Metric Name parameter.Metric Name - The name of a metric that will be included or excluded during metric collection. If you do not select  Health Test Metric Set or Default Dashboard Metric Set, or specify metrics by name, metric filtering will be turned off (this is the default behavior).For example, the following configuration enables the collection of metrics required for Health Tests and the jvm_heap_used_mb metric:Include only Health Test Metric Set: Selected.Include/Exclude Custom Metrics: Set to Include.Metric Name: jvm_heap_used_mbYou can also view the JSON representation for this parameter by clicking View as JSON. In this example, the JSON looks like this:{
  "includeHealthTestMetricSet": true, 
  "filterType": "whitelist",
  "metrics": ["jvm_heap_used_mb"]
}
Related Name
 
Default Value
 
API Name

monitoring_metric_filter

Required
false


Swap Memory Usage Rate Thresholds

Description
The health test thresholds on the swap memory usage rate of the process. Specified as the change of the used swap memory during the predefined period.
Related Name
 
Default Value
Warning: Never,  Critical: Never
API Name

process_swap_memory_rate_thresholds

Required
false


Swap Memory Usage Rate Window

Description
The period to review when computing unexpected swap memory usage change of the process.
Related Name

common.process.swap_memory_rate_window

Default Value
5 minute(s)
API Name

process_swap_memory_rate_window

Required
false


Process Swap Memory Thresholds

Description
The health test thresholds on the swap memory usage of the process. This takes precedence over the host level threshold.
Related Name
 
Default Value
Warning: 200 B,  Critical: Never
API Name

process_swap_memory_thresholds

Required
false


Role Triggers

Description
The configured triggers for this role. This is a JSON-formatted list of triggers. These triggers are evaluated as part as the health system. Every trigger expression is parsed, and if the trigger condition is met, the list of actions provided in the trigger expression is executed. Each trigger has the following fields:triggerName (mandatory) - The name of the trigger. This value must be unique for the specific role. triggerExpression (mandatory) - A tsquery expression representing the trigger. streamThreshold (optional) - The maximum number of streams that can satisfy a condition of a trigger before the condition fires. By default set to 0, and any stream returned causes the condition to fire. enabled  (optional) - By default set to 'true'. If set to 'false', the trigger is not evaluated.expressionEditorConfig  (optional) - Metadata for the trigger editor. If present, the trigger should only be edited from the Edit Trigger page; editing the trigger here can lead to inconsistencies.For example, the following JSON formatted trigger configured for a DataNode fires if the DataNode has more than 1500 file descriptors opened:[{"triggerName": "sample-trigger",
  "triggerExpression": "IF (SELECT fd_open WHERE roleName=$ROLENAME and last(fd_open) > 1500) DO health:bad",
  "streamThreshold": 0, "enabled": "true"}]See the trigger rules documentation for more details on how to write triggers using tsquery.The JSON format is evolving and may change and, as a result, backward compatibility is not guaranteed between releases.
Related Name
 
Default Value
[]
API Name

role_triggers

Required
true


File Descriptor Monitoring Thresholds

Description
The health test thresholds of the number of file descriptors used. Specified as a percentage of file descriptor limit.
Related Name
 
Default Value
Warning: 50.0 %,  Critical: 70.0 %
API Name

storage_container_manager_fd_thresholds

Required
false


Storage Container Manager Host Health Test

Description
When computing the overall Storage Container Manager health, consider the host's health.
Related Name
 
Default Value
true
API Name

storage_container_manager_host_health_enabled

Required
false


Storage Container Manager Process Health Test

Description
Enables the health test that the Storage Container Manager's process state is consistent with the role configuration
Related Name
 
Default Value
true
API Name

storage_container_manager_scm_health_enabled

Required
false


Unexpected Exits Thresholds

Description
The health test thresholds for unexpected exits encountered within a recent period specified by the unexpected_exits_window configuration for the role.
Related Name
 
Default Value
Warning: Never,  Critical: Any
API Name

unexpected_exits_thresholds

Required
false


Unexpected Exits Monitoring Period

Description
The period to review when computing unexpected exits.
Related Name
 
Default Value
5 minute(s)
API Name

unexpected_exits_window

Required
false





Other

Topology Script File Name

Description
Full path to a custom topology script on the host file system. The topology script is used to determine the rack location of nodes. If left with "{{DEFAULT_TOPOLOGY_SCRIPT}}", a topology script will be provided that uses your hosts' rack information, visible in the "Hosts" page.
Related Name

net.topology.script.file.name

Default Value
DEFAULT_TOPOLOGY_SCRIPT
API Name

net.topology.script.file.name

Required
false


Ozone Log Directory

Description
Directory where Storage Container Manager logs will be written to
Related Name

ozone.log.dir

Default Value
/var/log/hadoop-ozone
API Name

ozone.log.dir

Required
false


Storage Container Manager Metadata Directory

Description
Determines where on the local filesystem SCM security certificates will be stored.
Related Name

ozone.metadata.dirs

Default Value
/var/lib/hadoop-ozone/scm/ozone-metadata
API Name

ozone.metadata.dirs

Required
true


Storage Container Manager Data Directory

Description
Directory where the StorageContainerManager stores its metadata
Related Name

ozone.scm.db.dirs

Default Value
/var/lib/hadoop-ozone/scm/data
API Name

ozone.scm.db.dirs

Required
true


Storage Container Manager HTTP Bind Hostname

Description
The actual address the SCM web server will bind to. If this optional address is set, it overrides only the hostname portion of 'ozone.scm.http-address'.
Related Name

ozone.scm.http-bind-host

Default Value
0.0.0.0
API Name

ozone.scm.http-bind-host

Required
false


Secure Storage Container Manager HTTPS Bind Hostname

Description
The actual address the SCM web server will bind to using HTTPS. If this optional address is set, it overrides only the hostname portion of 'ozone.scm.https-address'.
Related Name

ozone.scm.https-bind-host

Default Value
0.0.0.0
API Name

ozone.scm.https-bind-host

Required
false


Java Heap Size of Storage Container Manager

Description
Maximum size for the Java process heap memory.
Related Name

scm_max_heap_size

Default Value
4 GiB
API Name

scm_max_heap_size

Required
false





Performance

Maximum Process File Descriptors

Description
If configured, overrides the process soft and hard rlimits (also called ulimits) for file descriptors to the configured value.
Related Name
 
Default Value
 
API Name

rlimit_fds

Required
false





Ports and Addresses

Storage Container Manager HTTP Web UI Port

Description
The base port that the Storage Container Manager web user interface listens on. The host name of the Storage Container Manager is combined with this port to form the 'ozone.scm.http-address'.
Related Name

ozone.scm.http-port

Default Value
9876
API Name

ozone.scm.http-port

Required
true


Secure Storage Container Manager Web UI Port (TLS/SSL)

Description
The base port that the Storage Container Manager web user interface listens on when using HTTPS. The host name of the Storage Container Manager is combined with this port to form the 'ozone.scm.https-address'.
Related Name

ozone.scm.https-port

Default Value
9877
API Name

ozone.scm.https-port

Required
false





Resource Management

Cgroup CPU Shares

Description
Number of CPU shares to assign to this role. The greater the number of shares, the larger the share of the host's CPUs that will be given to this role when the host experiences CPU contention. Must be between 2 and 262144. Defaults to 1024 for processes not managed by Cloudera Manager.
Related Name

cpu.shares

Default Value
1024
API Name

rm_cpu_shares

Required
true


Custom Control Group Resources (overrides Cgroup settings)

Description
Custom control group resources to assign to this role, which will be enforced by the Linux kernel. These resources should exist on the target hosts, otherwise an error will occur when the process starts. Use the same format as used for arguments to the cgexec command: resource1,resource2:path1 or resource3:path2 For example: 'cpu,memory:my/path blkio:my2/path2' ***These settings override other cgroup settings.***
Related Name

custom.cgroups

Default Value
 
API Name

rm_custom_resources

Required
false


Cgroup I/O Weight

Description
Weight for the read I/O requests issued by this role. The greater the weight, the higher the priority of the requests when the host experiences I/O contention. Must be between 100 and 1000. Defaults to 1000 for processes not managed by Cloudera Manager.
Related Name

blkio.weight

Default Value
500
API Name

rm_io_weight

Required
true


Cgroup Memory Hard Limit

Description
Hard memory limit to assign to this role, enforced by the Linux kernel. When the limit is reached, the kernel will reclaim pages charged to the process. If reclaiming fails, the kernel may kill the process. Both anonymous as well as page cache pages contribute to the limit. Use a value of -1 to specify no limit. By default processes not managed by Cloudera Manager will have no limit. If the value is -1, Cloudera Manager will not monitor Cgroup memory usage therefore some of the charts will show 'No Data'
Related Name

memory.limit_in_bytes

Default Value
-1 MiB
API Name

rm_memory_hard_limit

Required
true


Cgroup Memory Soft Limit

Description
Soft memory limit to assign to this role, enforced by the Linux kernel. When the limit is reached, the kernel will reclaim pages charged to the process if and only if the host is facing memory pressure. If reclaiming fails, the kernel may kill the process. Both anonymous as well as page cache pages contribute to the limit. Use a value of -1 to specify no limit. By default processes not managed by Cloudera Manager will have no limit. If the value is -1, Cloudera Manager will not monitor Cgroup memory usage therefore some of the charts will show 'No Data'
Related Name

memory.soft_limit_in_bytes

Default Value
-1 MiB
API Name

rm_memory_soft_limit

Required
true





Security

Storage Container Manager TLS/SSL Trust Store File

Description
The location on disk of the trust store, in .jks format, used to confirm the authenticity of TLS/SSL servers that Storage Container Manager might connect to. This trust store must contain the certificate(s) used to sign the service(s) connected to. If this parameter is not provided, the default list of well-known certificate authorities is used instead.
Related Name

ssl.client.truststore.location

Default Value
 
API Name

ssl_client_truststore_location

Required
false


Storage Container Manager TLS/SSL Trust Store Password

Description
The password for the Storage Container Manager TLS/SSL Trust Store File. This password is not required to access the trust store; this field can be left blank. This password provides optional integrity checking of the file. The contents of trust stores are certificates, and certificates are public information.
Related Name

ssl.client.truststore.password

Default Value
 
API Name

ssl_client_truststore_password

Required
false


Enable TLS/SSL for Storage Container Manager

Description
Encrypt communication between clients and Storage Container Manager using Transport Layer Security (TLS) (formerly known as Secure Socket Layer (SSL)).
Related Name

ozone.ssl.enabled

Default Value
false
API Name

ssl_enabled

Required
false


Storage Container Manager TLS/SSL Server Keystore Key Password

Description
The password that protects the private key contained in the keystore used when Storage Container Manager is acting as a TLS/SSL server.
Related Name

ssl.server.keystore.keypassword

Default Value
 
API Name

ssl_server_keystore_keypassword

Required
false


Storage Container Manager TLS/SSL Server Keystore File Location

Description
The path to the TLS/SSL keystore file containing the server certificate and private key used for TLS/SSL. Used when Storage Container Manager is acting as a TLS/SSL server. The keystore must be in the format specified in Administration > Settings > Java Keystore Type.
Related Name

ssl.server.keystore.location

Default Value
 
API Name

ssl_server_keystore_location

Required
false


Storage Container Manager TLS/SSL Server Keystore File Password

Description
The password for the Storage Container Manager keystore file.
Related Name

ssl.server.keystore.password

Default Value
 
API Name

ssl_server_keystore_password

Required
false





Stacks Collection

Stacks Collection Data Retention

Description
The amount of stacks data that is retained. After the retention limit is reached, the oldest data is deleted.
Related Name

stacks_collection_data_retention

Default Value
100 MiB
API Name

stacks_collection_data_retention

Required
false


Stacks Collection Directory

Description
The directory in which stacks logs are placed. If not set, stacks are logged into a stacks subdirectory of the role's log directory. If this directory already exists, it will be owned by the current role user with 755 permissions. Sharing the same directory among multiple roles will cause an ownership race.
Related Name

stacks_collection_directory

Default Value
 
API Name

stacks_collection_directory

Required
false


Stacks Collection Enabled

Description
Whether or not periodic stacks collection is enabled.
Related Name

stacks_collection_enabled

Default Value
false
API Name

stacks_collection_enabled

Required
true


Stacks Collection Frequency

Description
The frequency with which stacks are collected.
Related Name

stacks_collection_frequency

Default Value
5.0 second(s)
API Name

stacks_collection_frequency

Required
false


Stacks Collection Method

Description
The method used to collect stacks. The jstack option involves periodically running the jstack command against the role's daemon process. The servlet method is available for those roles that have an HTTP server endpoint exposing the current stacks traces of all threads. When the servlet method is selected, that HTTP endpoint is periodically scraped.
Related Name

stacks_collection_method

Default Value
jstack
API Name

stacks_collection_method

Required
false





Suppressions

Suppress Configuration Validator: CDH Version Validator

Description
Whether to suppress configuration warnings produced by the CDH Version Validator configuration validator.
Related Name
 
Default Value
false
API Name

role_config_suppression_cdh_version_validator

Required
true


Suppress Parameter Validation: Storage Container Manager Logging Advanced Configuration Snippet (Safety Valve)

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Storage Container Manager Logging Advanced Configuration Snippet (Safety Valve) parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_log4j_safety_valve

Required
true


Suppress Parameter Validation: Storage Container Manager Log Directory

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Storage Container Manager Log Directory parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_log_dir

Required
true


Suppress Parameter Validation: Topology Script File Name

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Topology Script File Name parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_net.topology.script.file.name

Required
true


Suppress Parameter Validation: Heap Dump Directory

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Heap Dump Directory parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_oom_heap_dump_dir

Required
true


Suppress Parameter Validation: Storage Container Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ozone-site.xml

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Storage Container Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ozone-site.xml parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone-conf/ozone-site.xml_role_safety_valve

Required
true


Suppress Parameter Validation: Storage Container Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/scm-audit-log4j2.properties

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Storage Container Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/scm-audit-log4j2.properties parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone-conf/scm-audit-log4j2.properties_role_safety_valve

Required
true


Suppress Parameter Validation: Storage Container Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-client.xml

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Storage Container Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-client.xml parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone-conf/ssl-client.xml_role_safety_valve

Required
true


Suppress Parameter Validation: Storage Container Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-server.xml

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Storage Container Manager Advanced Configuration Snippet (Safety Valve) for ozone-conf/ssl-server.xml parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone-conf/ssl-server.xml_role_safety_valve

Required
true


Suppress Parameter Validation: Ozone Log Directory

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Ozone Log Directory parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.log.dir

Required
true


Suppress Parameter Validation: Storage Container Manager Metadata Directory

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Storage Container Manager Metadata Directory parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.metadata.dirs

Required
true


Suppress Parameter Validation: Storage Container Manager Data Directory

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Storage Container Manager Data Directory parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.scm.db.dirs

Required
true


Suppress Parameter Validation: Storage Container Manager HTTP Bind Hostname

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Storage Container Manager HTTP Bind Hostname parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.scm.http-bind-host

Required
true


Suppress Parameter Validation: Storage Container Manager HTTP Web UI Port

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Storage Container Manager HTTP Web UI Port parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.scm.http-port

Required
true


Suppress Parameter Validation: Secure Storage Container Manager HTTPS Bind Hostname

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Secure Storage Container Manager HTTPS Bind Hostname parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.scm.https-bind-host

Required
true


Suppress Parameter Validation: Secure Storage Container Manager Web UI Port (TLS/SSL)

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Secure Storage Container Manager Web UI Port (TLS/SSL) parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ozone.scm.https-port

Required
true


Suppress Parameter Validation: Custom Control Group Resources (overrides Cgroup settings)

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Custom Control Group Resources (overrides Cgroup settings) parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_rm_custom_resources

Required
true


Suppress Parameter Validation: Role Triggers

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Role Triggers parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_role_triggers

Required
true


Suppress Parameter Validation: Java Heap Size of Storage Container Manager

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Java Heap Size of Storage Container Manager parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_scm_max_heap_size

Required
true


Suppress Parameter Validation: Storage Container Manager TLS/SSL Trust Store File

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Storage Container Manager TLS/SSL Trust Store File parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ssl_client_truststore_location

Required
true


Suppress Parameter Validation: Storage Container Manager TLS/SSL Trust Store Password

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Storage Container Manager TLS/SSL Trust Store Password parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ssl_client_truststore_password

Required
true


Suppress Parameter Validation: Storage Container Manager TLS/SSL Server Keystore Key Password

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Storage Container Manager TLS/SSL Server Keystore Key Password parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ssl_server_keystore_keypassword

Required
true


Suppress Parameter Validation: Storage Container Manager TLS/SSL Server Keystore File Location

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Storage Container Manager TLS/SSL Server Keystore File Location parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ssl_server_keystore_location

Required
true


Suppress Parameter Validation: Storage Container Manager TLS/SSL Server Keystore File Password

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Storage Container Manager TLS/SSL Server Keystore File Password parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_ssl_server_keystore_password

Required
true


Suppress Parameter Validation: Stacks Collection Directory

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Stacks Collection Directory parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_stacks_collection_directory

Required
true


Suppress Parameter Validation: Storage Container Manager Environment Advanced Configuration Snippet (Safety Valve)

Description
Whether to suppress configuration warnings produced by the built-in parameter validation for the Storage Container Manager Environment Advanced Configuration Snippet (Safety Valve) parameter.
Related Name
 
Default Value
false
API Name

role_config_suppression_storage_container_manager_role_env_safety_valve

Required
true


Suppress Health Test: Audit Pipeline Test

Description
Whether to suppress the results of the Audit Pipeline Test heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_storage_container_manager_audit_health

Required
true


Suppress Health Test: File Descriptors

Description
Whether to suppress the results of the File Descriptors heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_storage_container_manager_file_descriptor

Required
true


Suppress Health Test: Host Health

Description
Whether to suppress the results of the Host Health heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_storage_container_manager_host_health

Required
true


Suppress Health Test: Log Directory Free Space

Description
Whether to suppress the results of the Log Directory Free Space heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_storage_container_manager_log_directory_free_space

Required
true


Suppress Health Test: Process Status

Description
Whether to suppress the results of the Process Status heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_storage_container_manager_scm_health

Required
true


Suppress Health Test: Swap Memory Usage

Description
Whether to suppress the results of the Swap Memory Usage heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_storage_container_manager_swap_memory_usage

Required
true


Suppress Health Test: Swap Memory Usage Rate Beta

Description
Whether to suppress the results of the Swap Memory Usage Rate Beta heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_storage_container_manager_swap_memory_usage_rate

Required
true


Suppress Health Test: Unexpected Exits

Description
Whether to suppress the results of the Unexpected Exits heath test. The results of suppressed health tests are ignored when computing the overall health of the associated host, role or service, so suppressed health tests will not generate alerts.
Related Name
 
Default Value
false
API Name

role_health_suppression_ozone_storage_container_manager_unexpected_exits

Required
true





