Security Zones AdministrationCloudera Docs
Security Zones Administration
 A Security Zone enables a Ranger administrator to separate resource policies into
        different administrative zones.
What is a Security Zone?
Security Zones help simplify security policy administration, and allow a limited
                amount of policies to be checked when doing authorization against certain resources.
                Only policies under a particular zone that contains the requested resource are
                loaded and checked by Ranger.
For example, let us consider two security zones: finance and
                sales: 


Security zone finance includes all content in a Hive
                        database named finance.
Security zone sales includes all content in a
                        sales database.
Policies defined in a security zone apply only to resources of that
                        zone.
 A zone can be extended to include resources from multiple services such as
                        HDFS, Hive, HBase, Kafka, etc. Extending a zone across multiple services
                        allows zone administrators to set up policies for resources owned by their
                        organization across multiple services. 


For example:

Zone: finance
    service: prod_hdfs; path=/finance/*, /taxes/*
    service: prod_hive; database=finance
    service: prod_kafka; topic=FIN_*
    service: test_hadoop; path=/finance/*, /taxes/*
Zone: sales
    service: prod_hadoop; path=/sales/*
    service: prod_hive; database=sales
    service: prod_kafka; topic=SALES_*



As shown above, resources can be specified using wildcards (FIN_*, SALES_*). 
Sets of users and groups are designated as administrators in each security
                        zone.
Users are allowed to set up policies only in security zones in which they
                        are administrators. 
A resource cannot map to more than one security zone. Ranger does not allow
                        creating security zones that specify resources that match resources in
                        another zone. For example, an attempt to update the
                        finance zone in the above example with the HDFS
                        path /sales/finance/* is not permitted, because this
                        conflicts with the HDFS path /sales/* specified in the
                        sales zone. 
A set of users and groups can be designated as administrators of a security
                        zone. Administrators can create, update, and delete security policies for
                        the resources in that security zone. 
A set of users and groups can be authorized to view audit logs for that
                        security zone’s resources. Other users are not allowed to view access-audit
                        logs for that security zone’s resources.
The security zone name appears in the zonename column of the access-audit
                        log. 



Security Zone Administration


Security zones can only be created, updated, or deleted by a user with the
                        ROLE_SYS_ADMIN role in Ranger.
Users can view, retrieve, and update policies only in security zones in
                        which they have administrator privileges.
Users can view/retrieve and cannot update zone policies for which they have
                        zone auditor permission. 



How are Security Zones Used in Authorization? 
When a Ranger authorization plugin authorizes a resource access request, it first
                determines the zone in which the accessed resource resides. If the resource matches
                a security zone, only the policies of that security zone are used to authorize the
                access. If resource does not match any security zone, the policies in the default
                (unnamed) security zone are used to authorize the access. 
Tag-based Policies in Security Zones
In a given service, each security zone can be configured to use tag-based policies
                from a specific security zone in a tag-service. This enables different tag-based
                authorization policies to be used, based on the security zone of the resource. 
Audit Logs

Audit logs generated by Ranger include the name of the security zone in which the
                accessed resource resides. Only users who have been assigned as an Admin or Auditor
                for the security zone are allowed to view the audit logs.


Parent topic: Ranger Security Zones