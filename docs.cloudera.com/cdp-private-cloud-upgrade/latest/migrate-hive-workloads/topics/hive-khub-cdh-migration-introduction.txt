Migrating Hive workloads from CDHCloudera Docs
Migrating Hive workloads from CDH
You upgraded from CDH 5.13 - 5.16, or CDH 6, to CDP Private Cloud Base. The upgrade
  moved the Hive data and schema to CDP Private Cloud Base. As the Hive Administrator, you need to
  make Hive tables available to your users. You need to configure your Hive-related services for
  CDP, and secure access to Hive data.
Assumptions

You are familiar with Apache Hive 3.1 key features and supported interfaces.
You acquired basic information about the CDP platform before you upgraded from CDH.The
       configuration changes you need to make are described in the subtopics "Configuration
       changes". The security tasks you need to perform to secure access to Hive data are described
       in the subtopics "Security tasks".



Related informationApache Hive 3 Key FeaturesApache Hive 3 Architectural OverviewChanges to CDH Hive TablesAs a Data Scientist, Architect, Analyst, or other Hive user you need to locate and use   your Apache Hive 3 tables after an upgrade. You also need to understand the changes that occur   during the upgrade process. The location of existing tables after a CDH to CDP upgrade does   not change. Upgrading CDH to CDP Private Cloud Base converts Hive managed   tables to external tables in Hive 3. Configuration changesSecurity tasksAfter an in-place upgrade to CDP, as Administrator, you might need to perform a few   security tasks, depending on the type of security you set up, Ranger or HDFS Access Control Lists   (ACLs), as well as your data encryption requirements and use of clients to access   Hive.Key syntax changesYou need to modify queries affected by changes to Hive syntax after upgrading to CDP.   Hive has changed the syntax related to `db.table` references, such as CREATE TABLE    `mydb.mytable` â€¦ . Other syntax changes involve the LOCATION clause in CREATE TABLE.   Hive in CDP supports the enhancement to CREATE TABLE that adds the MANAGEDLOCATION   clause.Key semantic changes and workarounds As SQL Developer, Analyst, or other Hive user, you need to know potential problems         with queries due to semantic changes. Some of the operations that changed were not widely         used, so you might not encounter any of the problems associated with the changes. Other syntax and semantic changesIn addition to the key Hive syntax and semantic changes, there are a number of     other Hive changes in CDP you need to know about after migrating to CDP from CDH. The other     changes are covered release by release. Migrating Spark AppsDisabling Partition Type CheckingAn enhancement in Hive 3 checks the types of partitions. This feature can be disabled by   setting a property. For more information, see the ASF Apache Hive Language Manual.Converting Hive CLI scripts to BeelineIf you have legacy scripts that run Hive queries from edge nodes using the Hive CLI,         you must solve potential incompatibilities with variable substitution in these scripts. CDP         supports Beeline instead of Hive CLI. You can use Beeline to run legacy scripts with a few         caveats.Hive unsupported interfaces and featuresYou need to know the interfaces available in HDP or CDH platforms that are not     supported.