Use the fs2cs conversion utilityCloudera Docs
Use the fs2cs conversion utility
You can use the fs2cs conversion utility to automatically convert certain Fair Scheduler
    configuration to Capacity Scheduler configuration as part of the Upgrade Cluster Wizard in
    Cloudera Manager.

From the CDP Private Cloud Base 7.1 release, Cloudera provides a
    conversion tool, called fs2cs conversion utility. This utility is a CLI
    application that is part of the yarn CLI command. It generates
     capacity-scheduler.xml and yarn-site.xml as output files.
importantThe features of Capacity Scheduler are not exactly the same as the
    features of Fair Scheduler. Hence, the fs2cs conversion utility cannot convert
    every Fair Scheduler configuration into a Capacity Scheduler configuration. After the automatic
    conversion and once the upgrade is completed, you must manually tune the scheduler
    configurations to ensure that the resulting scheduling configuration fits your organizationâ€™s
    internal goals and SLAs after conversion.



Be aware of the Fair Scheduler properties that are auto-converted, those that require
          manual configuration, and those that do not have an equivalent feature in Capacity
          Scheduler.
You must have downloaded and distributed parcels for the target version of CDP.
In VPC, to use your current Compute Cluster queue configurations in your new installation
          after the upgrade, you must have manually saved them before starting the update process
          and then added the configurations to your new installation. Else, your Compute Cluster
          queue configurations will be lost because the Upgrade Wizard transitions only the queues
          from your Base Cluster. 
In Cloudera Manager, navigate to Host > All Hosts. 
Find the host with the ResourceManager role and click the YARN
                ResourceManager role.
Click the Processes tab.
Find and save the fair-scheduler.xml and
                yarn-site.xml configuration files for future reference.

Ensure that the configuration is not stale, there is no unsaved changes. Ensure that
          there is no unsaved changes on the Dynamic Resource Pools view, meaning that the
            Refresh Dynamic Resource Pools button is inactive.
Reach the Copy Scheduler Settings part of the upgrade process using the Upgrade Cluster
          Wizard in Cloudera Manager. That is the first step when you add YARN Queue Manager
            service:





Download the Fair Scheduler configuration files from the Cloudera Manager data
          store:


In the Copy Scheduler Settings window during the upgrade process, click
                Download fair-scheduler.xml and Download
                yarn-site.xml to download the fair-scheduler.xml and
                yarn-site.xml files.


Copy the downloaded configuration files to any host in your cluster.



Use the fs2cs conversion utility:


Log in to the host machine where you downloaded the
                fair-scheduler.xml and yarn-site.xml files using
                ssh.


Create a new directory to save the capacity-scheduler.xml file
              that is generated by the fs2cs conversion utility:

$ mkdir -p output



Use the fs2cs conversion utility to auto-convert the structure of
              resource pools. Options listed between braces [] are optional:

$ yarn fs2cs [--cluster-resource ***VCORES/MEMORY***][--no-terminal-rule-check] --yarnsiteconfig ***FULL PATH TO yarn-site.xml***> [--fsconfig ***FULL PATH TO fair-scheduler.xml***] --output-directory ***OUTPUT PATH*** [--print] [--skip-verification]  




importantYou have to provide absolute path for the
              yarn-site.xml and the fair-scheduler.xml
            configuration file. If only the file names are provided the command fails.

For example:
          yarn fs2cs --yarnsiteconfig /home/hadoop/yarn-site.xml --fsconfig /home/hadoop/fair-scheduler.xml --output-directory /tmp


Upload the generated Capacity Scheduler configuration files to save the configuration
          in Cloudera Manager:
Click Choose File and select the generated
            capacity-scheduler.xml file to save the configuration.
noteThe configurations in the generated yarn-site.xml output file
            have to be manually configured using Cloudera Manager Advanced configuration snippet
            (Safety Valves) once the upgrade is completed.

If the fs2cs conversion utility
      command fails, check if you provided the correct full path for the
        yarn-site.xml and the fair-scheduler.xml configuration
      file.
Proceed with the CDP upgrade. After the upgrade is completed,
        manually add the yarn-site.xml configurations using Cloudera Manager
        Advanced configuration snippet (Safety Valves), and tune the configuration generated by the
            fs2cs conversion utility using Queue Manager UI and Cloudera Manager
        Advanced configuration snippet (Safety Valves).

CLI options of the fs2cs conversion toolBefore generating the scheduler output files, you must understand the CLI options available for the fs2cs conversion tool. These options help you to complete the scheduler conversion.Parent topic: Fair Scheduler to Capacity Scheduler transition