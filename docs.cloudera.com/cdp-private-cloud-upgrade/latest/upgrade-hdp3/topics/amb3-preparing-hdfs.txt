Preparing HDFSCloudera Docs
Preparing HDFS
Make sure HDFS is healthy. 

To ensure HDFS is healthy
Save the Namespace
Ensure that the under-replicated blocks do not exist

Ensure that the Exclude hosts list is empty. Before upgrading, remove the
          decommissioned datanodes from HDFS.

Parent topic: HDFS