Upgrading HDP to Cloudera Runtime 7.1.xCloudera Docs
Upgrading HDP to Cloudera Runtime 7.1.x
To complete the first stage of upgrading from HDP 3.1.5.x to CDP Private Cloud Base,
        you must upgrade to Cloudera Runtime 7.1.x.
HDP PrerequisitesBefore upgrading from HDP 3.1.5.x to the Cloudera Runtime 7.1.x, you must review and         complete the prerequisites.Backup HDP ClusterCloudera recommends that you back up the HDP 3.1.5.x services managed by Ambari         2.7.5.x. Backup databasesTo continue upgrading to Cloudera Runtime 7.1.x, you must have completed the HDP         prerequisites tasks. Ensure you backup your databases before beginning the upgrade. Pre-upgrade stepsYou must complete the pre-upgrade steps for the components and services that you are   going to upgrade.Register software repositoriesBefore you use Ambari to perform the stack upgrade, you must register the software repositories for the new target version with Ambari and then install the software on all hosts in the cluster.Install software on the hostsIf you have successfully registered the software repositories for the new target                 version with Ambari, you can now install the software on all hosts in the                 cluster.Perform the HDP upgradeAfter you have performed the required pre-upgrade steps and backed up all the         relevant data, you can proceed with the process to upgrade your cluster to HDP intermediate         bits.Post-HDP-upgrade tasksAfter the HDP cluster is upgraded to CDP Private Cloud Base, ensure that you check the cluster         settings, migration, and restore settings are correct.Troubleshooting the HDP upgradeIn the event of a problem, contacting Cloudera Support is highly recommended.         Alternatively, you can perform these troubleshooting procedures.Rollback Ambari 7.1.x to Ambari 2.7.5You must use the backup of Ambari 2.7.5 to perform the following steps. Rollback HDP Services from CDP 7.1.x After Ambari rollback, you must rollback the HDP services in the following order to         restore to HDP 3.1.5.