Rollback HDP Services from CDP 7.1.xCloudera Docs
Rollback HDP Services from CDP 7.1.x
 After Ambari rollback, you must rollback the HDP services in the following order to
        restore to HDP 3.1.5.
In 7.1.x, x represents greater than or equal to 6. For example, 7.1.6, 7.1.7, and so
            on.

OverviewYou can roll back an upgrade from HDP 3.1.5.x to CDP Private Cloud Base 7.1.x. The         rollback restores your HDP cluster to the state it was in before the upgrade, including         Kerberos and TLS/SSL configurations. ZooKeeperUse the following step to restore the backed-up data for ZooKeeper. For zookeeper,         the default folder is /hadoop/zookeeper.Ambari-Metrics To restore the backed-up Ambari-Metrics data, downgrade the ambari-metrics packages         on all hosts and restore the backed-up-ambari-metrics data. Ambari Infra SolrUse the following steps to restore backed-up ambari infras solr data. RangerRollback procedure of Ranger includes restoring Ranger admin database and Ranger KMS         database. HDFSBefore starting the rollback procedure, make sure that all the HDFS service roles are         stopped.YARNBefore starting the rollback procedure, make sure that HDFS and Zookeeper are rolled         back. HBaseIf you have performed Zookeeper and HDFS rollback already, there are no additional         rollback steps required for HBase.KafkaTo roll back Kafka, perform the following steps. AtlasPerform the following steps to restore HBase tables and ATLAS_ENTITY_AUDIT_EVENTS         table. HiveBefore starting the rollback procedure, make sure that HDFS and Zookeeper have         already rolled back.SparkKnow more about the Spark roll back. Oozie To roll back the Oozie service, you must restore the Oozie database. KnoxWith the backup and rollback of Ambari, Knox is also backed up and rolled back by         default.ZeppelinWith the backup and rollback of HDFS, Zeppelin is also backed up and rolled back by         default.Log SearchParent topic: Upgrading HDP to Cloudera Runtime 7.1.x