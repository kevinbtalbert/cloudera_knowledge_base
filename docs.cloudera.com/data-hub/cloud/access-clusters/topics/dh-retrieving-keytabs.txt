Retrieving keytabs for workload usersCloudera Docs
Retrieving keytabs for workload users
A keytab file stores long-term keys for a principal in Kerberos. You can generate a
    keytab either through the Management Console user interface or the CDP CLI.
Required roles: All users can retrieve their keytabs
        from the account management page. All users can retrieve their keytabs from CDP CLI, but
        this action requires an API access key, which can only be generated by users with the
          IAMUser role. As a CDP administrator or PowerUser, you can retrieve the
        keytab for all user accounts.You may need to generate a keytab for a workload user in
      certain Data Hub use cases, for example long-running Spark streaming jobs, which require a
      keytab as a long-lived credential; or NiFi flows requiring a keytab to write data into HBase. 
noteKeytabs are scoped to an environment, whereas workload passwords are the same for
          every environment. A keytab is, however, tied to the workload password. If you change the
          workload password, you must retrieve a new keytab. When you change a workload password,
          retrieve the keytab only after the user sync operation is complete. For more information
          on user sync, see Assigning resources to users.

You can retrieve a keytab either in the Management Console or in the CDP CLI:
Management Console:
Click User
                    Management > Users and then search
                for and select the Name of the user that you want to get a
                keytab for.
Click Actions > Get
                  Keytab.
Select the environment in which the Data Hub cluster is running and then click
                  Download.
Save the keytab file in a location of your choice.Once you have downloaded the
                  keytab file, you can copy it to the machine on which the cluster runs and use the
                  keytab to authenticate as the workload user principal, or point to the keytab file
                  when running a Spark job or other job that requires a keytab. 

CDP CLI:
Keytab retrieval (get-keytab) is within the environments module.
                Run cdp environments get-keytab help for more information. You will
                need to pass the environment name and an actor
                CRN:cdp environments get-keytab \
--environment-name=EnvironmentName \
--actor-crn=ActorCrn
The output of the command is a base64-encoded representation of a keytab. The
                contents of the output must be base64 decoded and saved to a file for it to work as
                a keytab.


noteThere are ways to generate keytabs with utilities outside of CDP, such as
              ipa-getkeytab or ktutil. Cloudera recommends against
            using these methods as they may not work as expected. For example,
              ipa-getkeytab creates a keytab that may work but only
            temporarily.


Related informationAssigning resources to usersCLI client setup