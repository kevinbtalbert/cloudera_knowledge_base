



Issues Fixed in CDH 5.12.x | 5.x | Cloudera Documentation

























































 Documentation


Products
Services & Support
Solutions









Cloudera Enterprise 5.x Release Notes





CDH 5
Release NotesIssues Fixed in CDH 5








View All Categories

Cloudera Enterprise 5.x Release Notes
Requirements and Supported Versions
Hardware Requirements Guide
Version and Download Information

Updating an existing CDH/Cloudera Manager deployment to access downloads with authentication
Cloudera Manager Version and Download Information
CDH Version and Packaging Information

CDH Download Information

CDH 5.16.x Download Information
CDH 5.15.x Download Information
CDH 5.14.x Download Information
CDH 5.13.x Download Information
CDH 5.12.x Download Information
CDH 5.11.x Download Information
CDH 5.10.x Download Information
CDH 5.9.x Download Information
CDH 5.8.x Download Information
CDH 5.7.x Download Information
CDH 5.6.x Download Information
CDH 5.5.x Download Information
CDH 5.4.x Download Information
CDH 5.3.x Download Information
CDH 5.2.x Download Information
CDH 5.1.x Download Information
CDH 5.0.x Download Information


CDH 5 Packaging and Tarball Information

CDH 5.16.x Packaging and Tarball Information
CDH 5.15.x Packaging and Tarball Information
CDH 5.14.x Packaging and Tarball Information
CDH 5.13.x Packaging and Tarball Information
CDH 5.12.x Packaging and Tarball Information
CDH 5.11.x Packaging and Tarball Information
CDH 5.10.x Packaging and Tarball Information
CDH 5.9.x Packaging and Tarball Information
CDH 5.8.x Packaging and Tarball Information
CDH 5.7.x Packaging and Tarball Information
CDH 5.6.x Packaging and Tarball Information
CDH 5.5.x Packaging and Tarball Information
CDH 5.4.x Packaging and Tarball Information
CDH 5.3.x Packaging and Tarball Information
CDH 5.2.x Packaging and Tarball Information
CDH 5.1.x Packaging and Tarball Information
CDH 5.0.x Packaging and Tarball Information


Using the CDH 5 Maven Repository

Managing Hadoop API Dependencies in CDH 5
Maven Artifacts for CDH 5.16.x Releases
Maven Artifacts for CDH 5.15.x Releases
Maven Artifacts for CDH 5.14.x Releases
Maven Artifacts for CDH 5.13.x Releases
Maven Artifacts for CDH 5.12.x Releases
Maven Artifacts for CDH 5.11.x Releases
Maven Artifacts for CDH 5.10.x Releases
Maven Artifacts for CDH 5.9.x Releases
Maven Artifacts for CDH 5.8.x Releases
Maven Artifacts for CDH 5.7.x Releases
Maven Artifacts for CDH 5.6.x Releases
Maven Artifacts for CDH 5.5.x Releases
Maven Artifacts for CDH 5.4.x Releases
Maven Artifacts for CDH 5.3.x Releases
Maven Artifacts for CDH 5.2.x Releases
Maven Artifacts for CDH 5.1.x Releases
Maven Artifacts for CDH 5.0.x Releases




Cloudera Navigator Key Trustee Server Version and Download Information
Cloudera Navigator Key HSM Version and Download Information
Key Trustee KMS Version and Download Information
HSM KMS Version and Download Information
Cloudera Navigator Encrypt Version and Download Information
Impala Version and Download Information


What's New in Cloudera Documentation
CDH 5 Release Notes

New Features and Changes in CDH 5

What's New in CDH 5.16.x
What's New in CDH 5.15.x
What's New in CDH 5.14.x
What's New in CDH 5.13.x
What's New in CDH 5.12.x
What's New in CDH 5.11.x
What's New in CDH 5.10.x
What's New In CDH 5.9.x
What's New In CDH 5.8.x
What's New In CDH 5.7.x
What's New In CDH 5.6.x
What's New In CDH 5.5.x
What's New In CDH 5.4.x
What's New In CDH 5.3.x
What's New In CDH 5.2.x
What's New in CDH 5.1.x
What's New in CDH 5.0.x
What's New In CDH 5 Beta Releases
What's New in Apache Impala
What's New in Apache Kudu


Incompatible Changes and Limitations

Apache Avro Incompatible Changes and Limitations
Apache Crunch Incompatible Changes and Limitations
Apache DataFu Incompatible Changes and Limitations
Apache Flume Incompatible Changes and Limitations
Apache Hadoop Incompatible Changes and Limitations
Apache HBase Incompatible Changes and Limitations
Apache Hive Incompatible Changes and Limitations
Hue Incompatible Changes and Limitations
Apache Impala Incompatible Changes and Limitations
Cloudera Distribution of Apache Kafka Incompatible Changes and Limitations
Kite Incompatible Changes and Limitations
Apache Kudu Incompatible Changes and Limitations
Llama Incompatible Changes and Limitations
Apache Mahout Incompatible Changes and Limitations
Apache Oozie Incompatible Changes and Limitations
Apache Pig Incompatible Changes and Limitations
Cloudera Search Incompatible Changes and Limitations
Apache Sentry Incompatible Changes
Apache Spark Incompatible Changes and Limitations
Apache Sqoop Incompatible Changes and Limitations
Apache Whirr Incompatible Changes and Limitations
Apache ZooKeeper Incompatible Changes and Limitations


Known Issues in CDH 5

Operating System Known Issues
Performance Known Issues
Install and Upgrade Known Issues
Apache Avro Known Issues
Apache Flume Known Issues
Apache Hadoop Known Issues
Apache HBase Known Issues
Apache Hive Known Issues
Hue Known Issues
Apache Impala Known Issues
Cloudera Distribution of Apache Kafka Known Issues
Apache Kudu Known Issues
Apache Mahout Known Issues
Apache Oozie Known Issues
Apache Parquet Known Issues
Apache Pig Known Issues
Cloudera Search Known Issues
Apache Sentry Known Issues
Apache Spark Known Issues
Apache Sqoop Known Issues
Apache Phoenix Known Issues
Apache ZooKeeper Known Issues


Issues Fixed in CDH 5

Issues Fixed in CDH 5.16.x
Issues Fixed in CDH 5.15.x
Issues Fixed in CDH 5.14.x
Issues Fixed in CDH 5.13.x
Issues Fixed in CDH 5.12.x
Issues Fixed in CDH 5.11.x
Issues Fixed in CDH 5.10.x
Issues Fixed in CDH 5.9.x
Issues Fixed in CDH 5.8.x
Issues Fixed in CDH 5.7.x
Issues Fixed in CDH 5.6.x
Issues Fixed in CDH 5.5.x
Issues Fixed in CDH 5.4.x
Issues Fixed in CDH 5.3.x
Issues Fixed in CDH 5.2.x
Issues Fixed in CDH 5.1.x
Issues Fixed in CDH 5.0.x
Issues Fixed in CDH 5 Beta Releases
Fixed Issues in Apache Impala
Issues Fixed in Apache Kudu




Cloudera Manager 5 Release Notes

New Features and Changes in Cloudera Manager 5
Known Issues and Workarounds in Cloudera Manager 5
Issues Fixed in Cloudera Manager 5


Cloudera Navigator Data Management Release Notes

New Features and Changes in Cloudera Navigator Data Management
Known Issues and Workarounds in Cloudera Navigator Data Management
Issues Fixed in Cloudera Navigator Data Management


Cloudera Navigator Key Trustee Server Release Notes

New Features and Changes in Cloudera Navigator Key Trustee Server
Known Issues and Workarounds in Cloudera Navigator Key Trustee Server
Issues Fixed in Cloudera Navigator Key Trustee Server


Cloudera Navigator Key HSM Release Notes

New Features and Changes in Cloudera Navigator Key HSM
Known Issues and Workarounds in Cloudera Navigator Key HSM
Issues Fixed in Cloudera Navigator Key HSM


Key Trustee KMS Release Notes

New Features in Key Trustee KMS
Known Issues and Workarounds in Key Trustee KMS
Issues Fixed in Key Trustee KMS


Cloudera Navigator HSM KMS Release Notes

New Features and Changes in Cloudera Navigator HSM KMS
Known Issues and Workarounds in Cloudera Navigator HSM KMS
Issues Fixed in Cloudera Navigator HSM KMS


Cloudera Navigator Encrypt Release Notes

New Features and Changes in Cloudera Navigator Encrypt
Known Issues and Workarounds in Cloudera Navigator Encrypt
Issues Fixed in Cloudera Navigator Encrypt


Deprecated Items





To read this documentation, you must turn JavaScript on.




Issues Fixed in CDH 5.12.x


The following topics describe issues fixed in CDH 5.12.x, from newest to oldest release. You can also review What's New in
CDH 5.12.x or Known Issues in CDH 5.

Issues Fixed in CDH 5.12.2
Issues Fixed in CDH 5.12.1
Issues Fixed in CDH 5.12.0




Issues Fixed in CDH 5.12.2

Upstream Issues Fixed

The following upstream issues are fixed in CDH 5.12.2:

FLUME-3046 - Kafka Sink and Source Configuration Improvements
FLUME-3100 - Support arbitrary header substitution for topic of Kafka Sink
FLUME-3144 - Improve Log4jAppender's performance by allowing logging collection of
messages
FLUME-3186 - Make asyncHbaseClient configuration parameters available from Flume
configuration
HADOOP-13017 - Implementations of InputStream.read(buffer, offset, bytes) to exit 0 if
bytes==0
HADOOP-14687 - AuthenticatedURL will reuse bad/expired session cookies
HDFS-6763 - Initialize file system-wide quota once on transitioning to active
HDFS-7582 - Enforce maximum number of ACL entries separately per access and default.
HDFS-8540 - Mover should exit with NO_MOVE_BLOCK if no block can be moved
HDFS-8541 - Mover should exit with NO_MOVE_PROGRESS if there is no move progress
HDFS-8818 - Allow Balancer to run faster.
HDFS-8865 - Improve quota initialization performance
HDFS-9003 - ForkJoin thread pool leaks
HDFS-9396 - Total files and directories on jmx and web UI on standby is uninitialized
HDFS-11384 - Balancer disperses getBlocks calls to avoid NameNode's rpc queue saturation
HDFS-11738 - Hedged pread takes more time when block moved from initial locations
HDFS-11742 - Improve balancer usability after HDFS-8818
HDFS-11755 - Underconstruction blocks can be considered missing
HDFS-11851 - getGlobalJNIEnv() may deadlock if exception is thrown
HDFS-12052 - Set SWEBHDFS delegation token kind when ssl is enabled in HttpFS
HDFS-12117 - HttpFS does not seem to support SNAPSHOT related methods for WebHDFS REST
Interface
HDFS-12191 - Provide option to not capture the accessTime change of a file to snapshot if no
other modification has been done to this file
HDFS-12357 - Let NameNode to bypass external attribute provider for configured users
HDFS-12363 - Possible NPE in BlockManager$StorageInfoDefragmenter#scanAndCompactStorages
HDFS-12369 - Edit log corruption due to hard lease recovery of not-closed file which has
snapshots.
HDFS-12424 - Datatable sorting on the Datanode Information page in the Namenode UI is
broken
HDFS-12494 - libhdfs SIGSEGV in setTLSExceptionStrings
HDFS-12642 - Log block and datanode details in BlockRecoveryWorker.
YARN-6757 - Refactor the usage of
yarn.nodemanager.linux-container-executor.cgroups.mount-path
YARN-7099 - ResourceHandlerModule.parseConfiguredCGroupPath only works for privileged yarn
users.
YARN-7261 - Add debug message for better download latency monitoring.
HBASE-15548 - SyncTable: sourceHashDir is supposed to be optional but won't work
without
HBASE-15691 - ConcurrentModificationException in BucketAllocator
HBASE-16351 - Improve error reporting for license failures
HBASE-17287 - Master becomes a zombie if filesystem object closes
HBASE-17352 - Fix hbase-assembly build with bash 4
HBASE-17534 - Avoid re-wrapping IOExceptions as IOExceptions
HBASE-17648 - HBase Table-level synchronization fails between two secured(kerberized)
cluster
HBASE-17698 - ReplicationEndpoint choosing sinks
HBASE-18025 - CatalogJanitor should collect outdated RegionStates from the AM
HBASE-18030 - Per Cell TTL tags may get duplicated with increments/Append causing tags
length overflow.
HBASE-18036 - Data locality is not maintained after cluster restart or SSH
HBASE-18066 - Get with closest_row_before on hbase:meta can return empty Cell during region
merge/split
HBASE-18077 - Update JUnit licensing to use EPL
HBASE-18081 - The way we process connection preamble in SimpleRpcServer is broken
HBASE-18122 - Scanner id should include ServerName of region server
HBASE-18390 - Sleep too long when finding region location failed
HBASE-18487 - Minor fixes in row lock implementation
HBASE-18577 - Shaded client includes several non-relocated third party dependencies
HBASE-18665 - ReversedScannerCallable invokes getRegionLocations incorrectly
HBASE-18675 - Making {max,min}SessionTimeout configurable for MiniZooKeeperCluster
HBASE-18924 - Backport HBASE-18568 (Correct metric of numRegions) to branch-1.2 and
branch-1.3
HBASE-19215 - Incorrect exception handling on the client causes incorrect call timeouts and
byte buffer allocations on the server
HIVE-6727 - Table level stats for external tables are set incorrectly
HIVE-9447 - Metastore: inefficient Oracle query for removing unused column descriptors when
add/drop table/partition
HIVE-15233 - UDF UUID() should be non-deterministic
HIVE-15519 - BitSet not computed properly for ColumnBuffer subset
HIVE-16758 - Better Select Number of Replications
HIVE-16784 - Missing lineage information when hive.blobstore.optimizations.enabled is
true
HIVE-16949 - Leak of threads from Get-Input-Paths and Get-Input-Summary thread pool
HIVE-17022 - Add mode in lock debug statements
HIVE-17218 - Canonical-ize hostnames for Hive metastore, and HS2 servers.
HIVE-17274 - RowContainer spills for timestamp column throws exception
HIVE-17640 - Comparison of date return null if time part is provided in string.
HIVE-17805 - SchemaTool validate locations should not return exit 1
HIVE-17969 - Metastore to alter table in batches of partitions when renaming table
HIVE-18009 - Multiple lateral view query is slow on hive on spark
HUE-6045 - [Pig] Update LOG_END_PATTERN to identify completed jobs
HUE-6851 - [metastore] Don't show the database while loading a table
HUE-6901 - [oozie] Editor is missing regular ssh action
HUE-7106 - [oozie] New oozie doc url doesn't update after saving the page
HUE-7127 - [backend] Fix for Python requests Kerberos/GSSAPI authentication library fails to
authenticate kerberos requests to the same destination host.
HUE-7141 - [dashboard] Menu shows an incomplete dropdown
HUE-7155 - [backend] Hue needs to support TLSv1_1 and TLSv1_2 via Thrift connections
HUE-7179 - [core] Avoid issue with searching documents on assist or global search box
HUE-7182 - [editor] Accented characters not inserted correctly
HUE-7192 - [desktop] Hue Search is failing with DatabaseError field_cast_sql deprecated after
Django 1.8
HUE-7223 - [autocomplete] Fix issue where the old autocompleter inserts extra characters on
exception
HUE-7225 - [autocomplete] Prevent new line on enter when a suggestion equals the typed text
HUE-7264 - [core] Fix cx_Oracle removed numbersAsStrings in 6.0
HUE-7283 - [editor] Fix issue where analytic functions aren't found in the context popover
HUE-7335 - [editor] Make it possible to close the editor sessions panel form within the panel
HUE-7390 - [autocomplete] Fall back to only autocomplete the active statement in case there are
surrounding errors
HUE-7402 - [core] Truncate SEARCH Column in Document2 for Oracle database
HUE-7412 - [editor] Fix indexes for chart limit array slice
HUE-7446 - [core] RM HA gets called by mistake on each navopt call
HUE-7456 - [core] Do not retry Thrift call on read operation timed out from ssl.SSLError
HUE-7470 - [editor] Only check for risks when a snippet has focus
HUE-7476 - [core] Add Hue shell command to set CM environment
HUE-7489 - [editor] CloseOperation when GetOperationStatus is in an ERROR_STATE
HUE-7519 - [assist] Fix JS error when the sample tab can't load samples
HUE-7521 - [security] Prevent JS error on printAcl not defined
HUE-7525 - [home] Prevent js error when dragging to select documents
HUE-7526 - [frontend] Avoid XSS in the wysiwyg5 editor and fix the binding in Hue 4
HUE-7530 - [editor] Avoid red error popup on close of expired query
HUE-7533 - [fb] Wrong error message in UI with 500 error when user tries to edit read_only file in
File browser
HUE-7536 - [frontend] Avoid XSS in the table row display modal, HueDatatable and
TableExtender2
HUE-7538 - [frontend] Override default knockout html binding to prevent XSS
HUE-7552 - [fb] Copy Folder Into Itself Causes Endless Loop
HUE-7564 - Remove one of the get_connection(ldap_config) function in ldap_access.py.
HUE-7567 - [all] Add default timeout to REST calls
HUE-7592 - [jb] Hide older browser if the new ones is enabled
HUE-7622 - [jb] Reruning a wokflow redirects to a json result
IMPALA-4682 - Remove Preconditions check from
analyzeAggregation().
IMPALA-4737 - Prevent SIGUSR1 from killing daemons when minidumps are disabled
IMPALA-4826 - Fix error during a scan on repeated root schema in Parquet.
IMPALA-4951 - Fix database visibility for user with only column privilege
IMPALA-5327 - Handle return of JNI GetStringUTFChar
IMPALA-5336 - Fix partition pruning when column is cast
IMPALA-5446 - dropped Sorter::Reset() status
IMPALA-5495 - Improve error message if no impalad role is configured
IMPALA-5504 - Fix TupleIsNullPredicate evaluation.
IMPALA-5531 - Fix correctness issue in correlated aggregate subqueries
IMPALA-5595 - Only set KuduScanner timestamp feature flag if necessary
IMPALA-5597 - Try casting targetExpr when building runtime filter plan
IMPALA-5598 - Fix excessive dumping in MemLimitExceeded
IMPALA-5689 - Avoid inverting non-equi left joins
IMPALA-5750 - Catch exceptions from boost thread creation
IMPALA-5776 - Write partial tuple to the correct mempool
IMPALA-5784 - Separate planner and user set query options in profile
IMPALA-5796 - CTAS for Kudu fails with expr rewrite
IMPALA-5815 - right outer join returns invalid memory
IMPALA-5819 - DCHECK in HdfsTextScanner::Close()
IMPALA-5820 - Fix string format() syntax in test_scanners_fuzz.py
IMPALA-5840 - Don't write page-level statistics in Parquet files.
IMPALA-5850 - Cast sender partition exprs under unions.
IMPALA-5856 - Fix outer join predicate assignment.
IMPALA-5871 - KuduPartitionExpr incorrectly handles its child types
IMPALA-5885 - free runtime filter allocations in Parquet
IMPALA-5892 - Allow reporting status independent of fragment instance
IMPALA-5923 - Print binary ID as hex in ChildQuery::Cancel()
IMPALA-5954 - Set DO_NOT_UPDATE_STATS in alterTable() RPCs to HMS.
IMPALA-5983 - Fix crash in to/from_utc_timestamp
IMPALA-5994 - Lower case struct-field names
IMPALA-6060 - Check the return value of JNI exception
handling functions
KITE-762 - Multiple URIs in hive.metastore.uris configuration may be problematic for
Crunch+Kite
OOZIE-1401 - PurgeCommand should purge the workflow jobs w/o end_time
OOZIE-3103 - Improve log message regarding max concurrency for coordinators
SENTRY-1768 - Avoid detaching object on transaction exit when it isn't needed
SENTRY-1770 - Avoid more detaches on commit
SENTRY-1892 - Reduce memory consumption of HMSPath$Entry and TPathEntry
SENTRY-1966 - Improve logging of HMS sync data (paths and permissions) flowing from Sentry
to NameNode
SENTRY-1993 - StringIndexOutOfBoundsException in HMSPathsDumper.java
SENTRY-2027 - backportCreate mechanism of delivering commands via WebUI
SENTRY-2066 - DB name is not set for AlterTable
SPARK-17460 - [SQL] Make sure sizeInBytes in Statistics will not overflow
SPARK-17511 - Yarn Dynamic Allocation: Avoid marking released container as Failed
SPARK-17531 - Fix the "hive.metastore.uris" value that was changed by the backport ofto 1.6
branches.
SQOOP-3014 - Sqoop with HCatalog import loose precision for large numbers that does not fit
into double
SQOOP-3139 - sqoop tries to re execute select query during import in case of a connection
reset error and this is causing lots of duplicate records from source
SQOOP-3243 - Importing BLOB data causes 'Stream closed' error on encrypted HDFS
ZOOKEEPER-2347 - Deadlock shutting down zookeeper
ZOOKEEPER-2678 - Discovery and Sync can take a very long time on large DB
ZOOKEEPER-2726 - backportPatch for ZOOKEEPER-2693 introduces potential race
condition





Issues Fixed in CDH 5.12.1

Upstream Issues Fixed

The following upstream issues are fixed in CDH 5.12.1:

FLUME-2752 - Fix AvroSource startup resource leaks
FLUME-2905 - Fix NetcatSource file descriptor leak if startup fails
HADOOP-13588 - ConfServlet should respect Accept request header
HADOOP-13628 - Support to retrieve specific property from configuration via REST API
HADOOP-14260 - Configuration. dumpConfiguration should redact sensitive information
HADOOP-14511 - WritableRpcEngine.Invocation#toString NPE on null parameters
HADOOP-14542 - Add IOUtils. cleanupWithLogger that accepts slf4j logger API
HDFS-8856 - Make LeaseManager#countPath O(1).
HDFS-10468 - HDFS read ends up ignoring an interrupt
HDFS-10506 - OIV's ReverseXML processor cannot reconstruct some snapshot details
HDFS-11303 - Hedged read might hang infinitely if read data from all DN failed
HDFS-11708 - Positional read will fail if replicas moved to different DNs after stream is
opened
HDFS-11741 - Long running balancer may fail due to expired DataEncryptionKey
HDFS-11861 - ipc.Client. Connection#sendRpcRequest should log request name
HDFS-11881 - NameNode consumes a lot of memory for snapshot diff report generation
HDFS-11960 - Successfully closed files can stay under-replicated
HDFS-12042 - Lazy initialize AbstractINodeDiffList#diffs for snapshots to reduce memory
consumption
HDFS-12139 - HTTPFS liststatus returns incorrect pathSuffix for path of file
HDFS-12278 - LeaseManager operations are inefficient in 2.8
MAPREDUCE-6870 - Add configuration for MR job to finish when all reducers are
complete.
YARN-2780 - Log aggregated resource allocation in rm-appsummary.log
HBASE-15720 - Print row locks at the debug dump page
HBASE-16033 - Add more details in logging of responseTooSlow/TooLarge
HBASE-17131 - Avoid livelock caused by HRegion#processRowsWithLocks
HBASE-17587 - Do not Rethrow DoNotRetryIOException as UnknownScannerException
HBASE-18247 - Hbck to fix the case that replica region shows as key in the meta table
HBASE-18362 - hbck should not report split replica parent region from meta as errors
HIVE-9567 - JSON SerDe not escaping special chars when writing char/varchar data
HIVE-10209 - FetchTask with VC may fail because ExecMapper.done is true
HIVE-11240 - Change value type from int to long for
HiveConf.ConfVars.METASTORESERVERMAXMESSAGESIZE
HIVE-11462 - GenericUDFStruct should constant fold at compile time.
HIVE-11592 - ORC metadata section can sometimes exceed protobuf message size limit
HIVE-12274 - Increase width of columns used for general configuration in the metastore.
HIVE-12551 - Fix several kryo exceptions in branch-1
HIVE-12762 - Common join on parquet tables returns incorrect result when hive.optimize.index.
filter set to true
HIVE-13330 - ORC vectorized string dictionary reader does not differentiate null vs empty
string dictionary
HIVE-13588 - NPE is thrown from MapredLocalTask.executeInChildVM
HIVE-13947 - HoS prints wrong number for hash table size in map join scenario
HIVE-14178 - Hive::needsToCopy should reuse FileUtils::equalsFileSystem
HIVE-15122 - Hive: Upcasting types should not obscure stats (min/max/ndv)
HIVE-15792 - Hive should raise SemanticException when LPAD/RPAD pad character's length is
0
HIVE-16183 - Fix potential thread safety issues with static variables
HIVE-16291 - Hive fails when unions a parquet table with itself
HIVE-16559 - Parquet schema evolution for partitioned tables may break if table and partition
serdes differ
HIVE-16729 - Improve location validator to check for blank paths
HIVE-16845 - INSERT OVERWRITE a table with dynamic partitions on S3 fails with NPE
HIVE-16869 - Hive returns wrong result when predicates on non-existing columns are pushed
down to Parquet reader
HIVE-16875 - Query against view with partitioned child on HoS fails with privilege
exception.
HIVE-16930 - HoS should verify the value of Kerberos principal and keytab file before adding
them to spark-submit command parameters
HIVE-16935 - Hive should strip comments from input before choosing which CommandProcessor to
run.
HIVE-16974 - Change the sort key for the schema tool validator to be <ID>
HIVE-17050 - Multiline queries that have comment in middle fail when executed via "beeline
-e"
HIVE-17052 - Remove logging of predicate filters
HIVE-17149 - Hdfs directory is not cleared if partition creation failed on HMS
HUE-5217 - [backend] Resolve LGPL copyleft issue - Paramiko in boto 2.46.1
HUE-5504 - [oozie] Only use JDBC URL from hive2 action when hardcoded
HUE-6684 - [editor] The horizontal scrollbar of the ace editor isn't updated when the right assist
is resized.
HUE-6701 - [editor] The right panel resize bar gets hidden in Hue 3 on window resize.
HUE-6702 - [about] About page is accessible without authentication
HUE-6704 - [fb] Handle empty page error on filebrowser filter requests
HUE-6705 - [fb] Opening directory after opening editor does not load at first click
HUE-6709 - [editor] Column list can jump back and forth depending on its size
HUE-6710 - [notebook] Application reachable directly by users without granted access
HUE-6711 - [frontend] Render 403 page properly on Hue 4
HUE-6714 - [jb] No tasks found for job when refreshing MapReduce job page
HUE-6724 - [jb] Job progress can have too many decimals
HUE-6730 - [fb] Use SkipFile instead of StopUpload in case of exception during file upload
HUE-6735 - [jb] A suspended workflow should also be killable
HUE-6738 - [jb] Kill button of workflow enabled when clicking on re-run
HUE-6742 - [editor] Incorrect Sorting With TIMESTAMP Column Type
HUE-6745 - [frontend] The title of the browser is Filebrowser even if I’m in editor
HUE-6748 - [editor] Select and copy the query from the query history
HUE-6749 - [editor] From metastore to editor with past query ran and scrolled can garble grid
HUE-6758 - [jb] Open a workflow workspace breaks the history
HUE-6760 - [jb] Filtering running jobs and batch killing them do not update their status
HUE-6767 - [jb] Submit a workflow sometimes generates a JS error
HUE-6768 - [frontend] Remove shown tooltips on app change in Hue 4
HUE-6772 - [metadata] Cache Navigator password reads from scripts
HUE-6776 - [search] Js error when clicking on the first two layout of a new dashboard
HUE-6777 - [fb] Drag & drop upload not enabled if editor was loaded before
HUE-6779 - [jb] Disable click around checkbox in list of jobs
HUE-6780 - [s3] Correctly infer and display region when connected to S3 by endpoint
HUE-6781 - [jb] Workflow duration time is not humanized
HUE-6786 - [metastore] Fix ko editable binding after applying toggle overflow to the db
description
HUE-6789 - [beeswax] Fix alignment of the assist headers
HUE-6791 - [search] Protect against pivot facets conflicting with nested facets
HUE-6792 - [core] Middle/right click is not working as a link on main blue action button
HUE-6795 - [fb] Fix minor logic error in trash directory creation
HUE-6797 - [dashboard] Grid widget operation icons are not grayed much
HUE-6800 - [frontend] Re-word the welcome tour
HUE-6802 - [editor] Don't check for column existence in the location handler when a column is
prefixed with a table name or alias
HUE-6810 - [assist] Improve positioning and visibility of side panel toggles
HUE-6813 - [metastore] Fix database comment last character truncation
HUE-6814 - [search] Only return distinct usernames in security impersonate dropdown
HUE-6819 - [oozie] Set generic widget for generic actions in oozie graph
HUE-6820 - [frontend] Catch all the JS errors and send them to the backend
HUE-6825 - [autocomplete] Prevent exception when there's no identifierChain given for a table
HUE-6833 - [editor] Disable query builder tab for non-sql editors
HUE-6840 - [notebook] Workaround lack of status flag in Impala profile page
HUE-6842 - [core] Correctly append the list of custom apps
HUE-6843 - [metastore] Show partition icon on table browser sends to Hue 3
HUE-6844 - [frontend] Make all custom apps embeddable
HUE-6845 - [frontend] Fix custom app mako generation
HUE-6846 - [frontend] Make all proxy apps embeddable
HUE-6847 - [metastore] Do not display if table is compressed as Hive information is incorrect
HUE-6856 - [search] Protect against reflected XSS in search query parameters
HUE-6863 - [jb] Kill buttons are enabled even when the user is not allowed
HUE-6864 - [jb] Check for permission before killing a job
HUE-6870 - [jb] Improve end user UX with bubbling up of common actions and properties.
HUE-6883 - [metastore] Allow deletion of table comments
HUE-6885 - [frontend] Catch all http 502 and show an HTML stripped version of the message
HUE-6886 - [oozie] SLA variable in workflow action are not getting retrieved
HUE-6888 - [oozie] Fix link page on SLA with Hue 4
HUE-6894 - [core] Remove cluster config call on login page
HUE-6896 - [frontend] Errorcatcher should not log jQuery triggered events
HUE-6897 - [oozie] Ensure that examples_dir exists before installing examples
HUE-6898 - [oozie] Editor doesn't update job status to "finished" for finished Pig jobs
HUE-6899 - [core] Allow 403 to be accessed by regular users
HUE-6900 - [useradmin] Do not link app title to list of users if user not a super user
HUE-6901 - [oozie] Editor is missing certain regular actions
HUE-6903 - [dataeng] Fix for s3 context popover
HUE-6905 - [frontend] Minor UI bugs in old Pig Editor and Job Designer.
HUE-6939 - [editor] Improve interactions with the risk indicator
HUE-6940 - [editor] Cancel risk requests if editing while risk check is running
HUE-6941 - [editor] Don't show a pointer cursor for the risk check spinner
HUE-6950 - [saml] Create home directory for new user login
HUE-6955 - [metadata] Extend query suggest caching to 1 week
HUE-6960 - [frontend] Only suggest facet values and no results when autocompleting facets in the
top search
HUE-6995 - [oozie] Set minimum width of a workflow node
HUE-7000 - [assist] HBase assist does not load the table the second time
HUE-7001 - [assist] Remember the last selected HBase cluster
HUE-7002 - [core] Welcome to Hue 4 tour could be also skipped by clicking on the white
background
HUE-7004 - [notebook] Loading query with empty session param shows several JS errors
HUE-7005 - [oozie] sharing coordinator or bundle immediately after creating fails
HUE-7006 - [core] Ability in HUE to change Cookie name from default "sessionid"
HUE-7040 - [oozie] Pressing Esc on share popup throws JS error in Hue4
HUE-7045 - [hive] Avoid use database call for SET queries
HUE-7048 - [oozie] User prompting doesn't work in share document popup in hue4
HUE-7052 - [desktop] Retain last_modified when sharing sample docs in sync_documents
HUE-7069 - [editor] Remove the spinner for risk checking
HUE-7080 - [oozie] Oozie HiveServer2 action is prompting for and 'Impalad hostname'
HUE-7082 - [aws] Create S3 bucket fails with error Bad request
HUE-7084 - [useradmin] Remove @domain part of username when creating home directory for LDAP
user
HUE-7090 - [security] Protect from missing groupName in the list_sentry_roles_by_group API
HUE-7104 - [core] Hue and Isilon issue - UnsupportedOperationException: Unknown op
'GETTRASHROOT'
HUE-7107 - [core] Hue 4 group access doesn't reflect on Interface
IMPALA-4276 - Profile displays non-default query options
set by planner
IMPALA-4866 - Hash join node does not apply limits correctly
IMPALA-5354 - INSERT hints for Kudu tables
IMPALA-5427 - Fix race between CRS::UpdateQueryStatus() and beeswax RPCs
IMPALA-5500 - Reduce catalog update topic size
IMPALA-5524 - Fixes NPE during planning with DISABLE_UNSAFE_SPILLS=1
IMPALA-5539 - Fix Kudu timestamp with -use_local_tz_for_unix_ts
IMPALA-5554 - sorter DCHECK on null column
IMPALA-5567 - race in fragment instance teardown
IMPALA-5579 - Fix IndexOutOfBoundsException in GetTables metadata request
IMPALA-5580 - fix Java UDFs that return NULL strings
IMPALA-5582 - Store sentry privileges in lower case
IMPALA-5586 - Null-aware anti-join can take a long time to cancel
IMPALA-5588 - Reduce the frequency of fault injection
IMPALA-5611 - KuduPartitionExpr holds onto memory unnecessarily
IMPALA-5615 - Fix compute incremental stats for general partition exprs
IMPALA-5616 - Add --enable_minidumps startup flag
IMPALA-5623 - Fix lag() on STRING cols to release UDF mem
IMPALA-5627 - fix dropped statuses in HDFS writers
IMPALA-5638 - Fix Kudu table set tblproperties inconsistencies
IMPALA-5657 - Fix a couple of bugs with FunctionCallExpr and IGNORE NULLS
IMPALA-5686 - Update a mini cluster Sentry property
IMPALA-5691 - recalibrate mem limit for Q18
KITE-1155 - Deleting an already deleted empty path should not fail the job
OOZIE-2816 - Strip out the first command word from Sqoop action if its "sqoop"
OOZIE-2984 - Parse spark-defaults.conf values with spaces without needing the quotes
PIG-3567 - LogicalPlanPrinter throws OOM for large scripts
PIG-3655 - BinStorage and InterStorage approach to record markers is broken
SENTRY-1646 - Unable to truncate table <database>.<tablename>; from "default"
databases
SENTRY-1811 - Optimize data structures used in HDFS sync
SENTRY-1827 - Minimize TPathsDump thrift message used in HDFS sync
SOLR-6673 - MDC based logging of collection, shard, etc.
SOLR-10889 - Stale zookeeper information is used during failover check.
SPARK-13278 - [CORE] Launcher fails to start with JDK 9 EA
SPARK-13669 - [SPARK-20898] [CORE] Improve the blacklist mechanism to handle external
shuffle service unavailable situation
SPARK-15067 - [YARN] YARN executors are launched with fixed perm gen size
SPARK-16845 - [SQL][BRANCH-1.6] GeneratedClass$SpecificOrdering` grows beyond 64 KB
SPARK-19019 - [PYTHON] Fix hijacked `collections.namedtuple` and port cloudpickle changes
for PySpark to work with Python 3.6.0
SPARK-19688 - [STREAMING] Not to read `spark.yarn.credentials.file` from checkpoint.
SPARK-20393 - [WEBU UI] Strengthen Spark to prevent XSS vulnerabilities
SPARK-20904 - [CORE] Don't report task failures to driver during shutdown.
ZOOKEEPER-1653 - zookeeper fails to start because of inconsistent epoch
ZOOKEEPER-2040 - Server to log underlying cause of SASL connection problems.





Issues Fixed in CDH 5.12.0

Upstream Issues Fixed

The following upstream issues are fixed in CDH 5.12.0:

CRUNCH-636 - Make replication factor for temporary files configurable
FLUME-3092 - Extend the FileChannel's monitoring metrics
HADOOP-11379 - Fix new findbugs warnings in hadoop-auth*
HADOOP-11385 - Prevent cross site scripting attack on JMXJSONServlet
HADOOP-11628 - SPNEGO auth does not work with CNAMEs in JDK8.
HADOOP-11709 - Time.NANOSECONDS_PER_MILLISECOND - use class-level final constant instead of
method variable
HADOOP-11794 - Enable distcp to copy blocks in parallel
HADOOP-11812 - Implement listLocatedStatus for ViewFileSystem to speed up split
calculation
HADOOP-11962 - Sasl message with MD5 challenge text shouldn't be LOG out even in debug
level
HADOOP-12054 - RPC client should not retry for InvalidToken exceptions.
HADOOP-12469 - distcp should not ignore the ignoreFailures option
HADOOP-12622 - Improve the loggings in RetryPolicies and RetryInvocationHandler
HADOOP-12751 - While using kerberos Hadoop incorrectly assumes names with '@' to be
non-simple.
HADOOP-12906 - AuthenticatedURL should convert a 404/Not Found into an
FileNotFoundException.
HADOOP-13138 - Unable to append to a SequenceFile with Compression.NONE
HADOOP-13163 - Reuse pre-computed filestatus in Distcp-CopyMapper
HADOOP-13169 - Randomize file list in SimpleCopyListing
HADOOP-13174 - Add more debug logs for delegation tokens and authentication.
HADOOP-13441 - Document LdapGroupsMapping keystore password properties
HADOOP-13453 - S3Guard: Instrument new functionality with Hadoop metrics
HADOOP-13552 - RetryInvocationHandler logs all remote exceptions
HADOOP-13626 - Remove distcp dependency on FileStatus serialization
HADOOP-13720 - Add more info to the msgs printed in
AbstractDelegationTokenSecretManager
HADOOP-13760 - S3Guard: add delete tracking
HADOOP-13854 - KMS should log error details in KMSExceptionsProvider.
HADOOP-14036 - S3Guard: intermittent duplicate item keys failure
HADOOP-14081 - S3A: Consider avoiding array copy in S3ABlockOutputStream
(ByteArrayBlock)
HADOOP-14100 - Upgrade Jsch jar to latest version to fix vulnerability in old versions
HADOOP-14120 - needless S3AFileSystem.setOptionalPutRequestParameters in
S3ABlockOutputStream putObject()
HADOOP-14123 - Remove misplaced ADL service provider config file for FileSystem
HADOOP-14135 - Remove URI parameter in AWSCredentialProvider constructors
HADOOP-14138 - Remove S3A ref from META-INF service discovery, rely on existing
core-default entry
HADOOP-14141 - Store KMS SSL keystore password in catalina.properties
HADOOP-14153 - ADL module has messed doc structure
HADOOP-14173 - Remove unused AdlConfKeys#ADL_EVENTS_TRACKING_SOURCE
HADOOP-14196 - Azure Data Lake doc is missing required config entry
HADOOP-14197 - Fix ADLS doc for credential provider
HADOOP-14214 - DomainSocketWatcher::add()/delete() should not self interrupt while looping
await()
HADOOP-14241 - Add ADLS sensitive config keys to default list
HADOOP-14242 - Make KMS Tomcat SSL property sslEnabledProtocols and clientAuth
configurable
HADOOP-14246 - Authentication Tokens should use SecureRandom instead of Random and 256 bit
secrets
HADOOP-14266 - S3Guard: S3AFileSystem::listFiles() to employ MetadataStore
HADOOP-14369 - NetworkTopology calls expensive toString() when logging
HDFS-2219 - Change fsck to support fully qualified paths so that a particular namenode in a
federated cluster with multiple namenodes can be specified in the path parameter.
HDFS-6757 - Simplify lease manager with INodeID
HDFS-7433 - Optimize performance of DatanodeManager's node map
HDFS-7939 - Two fsimage_rollback_* files are created which are not deleted after
rollback.
HDFS-7959 - WebHdfs logging is missing on Datanode
HDFS-8498 - Blocks can be committed with wrong size
HDFS-9670 - DistCp throws NPE when source is root.
HDFS-10220 - A large number of expired leases can make namenode unresponsive and cause
failover
HDFS-10301 - Remove FBR tracking state to fix false zombie storage detection for interleaving
block reports
HDFS-10987 - Make Decommission less expensive when lot of blocks present
HDFS-11198 - NN UI should link DN web address using hostnames
HDFS-11340 - DataNode reconfigure for disks doesn't remove the failed volumes.
HDFS-11373 - Backport HDFS-11258 and HDFS-11272(File mtime change could not save to
editlog).
HDFS-11383 - Intern strings in BlockLocation and ExtendedBlock
HDFS-11391 - Numeric usernames do no work with WebHDFS FS write access.
HDFS-11402 - HDFS Snapshots should capture point-in-time copies of OPEN files.
HDFS-11421 - Make WebHDFS' ACLs RegEx configurable
HDFS-11529 - Add libHDFS API to return last exception
HDFS-11531 - Expose hedged read metrics via libHDFS API
HDFS-11579 - Make HttpFS Tomcat SSL property sslEnabledProtocols and clientAuth
configurable
HDFS-11609 - Some blocks can be permanently lost if nodes are decommissioned while dead
HDFS-11687 - Add new public encryption APIs required by Hive.
HDFS-11702 - Remove indefinite caching of key provider uri in DFSClient
HDFS-11709 - StandbyCheckpointer should handle an non-existing legacyOivImageDir
gracefully
HDFS-11710 - hadoop-hdfs-native-client build fails in trunk in Windows after HDFS-11529
HDFS-11714 - Newly added NN storage directory won't get initialized and cause space
exhaustion
HDFS-11724 - libhdfs compilation is broken on OS X
HDFS-11914 - Add more diagnosis info for fsimage transfer failure
MAPREDUCE-5485 - Allow repeating job commit by extending OutputCommitter API
MAPREDUCE-5653 - DistCp does not honour config-overrides for
mapreduce.[map,reduce].memory.mb
MAPREDUCE-6478 - Add an option to skip cleanupJob stage or ignore cleanup failure during
commitJob.
MAPREDUCE-6595 - Fix findbugs warnings in OutputCommitter and FileOutputCommitter
MAPREDUCE-6762 - ControlledJob#toString failed with NPE when job status is not
successfully updated
MAPREDUCE-6825 - YARNRunner#createApplicationSubmissionContext method is longer than 150
lines
MAPREDUCE-6850 - Shuffle Handler keep-alive connections are closed from the server
side
MAPREDUCE-6852 - Job#updateStatus() failed with NPE due to race condition
MAPREDUCE-6871 - Allow users to specify racks and nodes for strict locality for AMs
YARN-3078 - LogCLIHelpers lacks of a blank space before string 'does not exist'
YARN-3742 - YARN RM will shut down if ZKClient creation times out.
YARN-4593 - Deadlock in AbstractService.getConfig()
YARN-6050 - AMs can't be scheduled on racks or nodes
YARN-6368 - Decommissioning an NM results in a -1 exit code
YARN-6380 - FSAppAttempt keeps redundant copy of the queue
YARN-6381 - FSAppAttempt has several variables that should be final
YARN-6510 - Fix profs stat file warning caused by process names that includes
parenthesis.
YARN-6615 - AmIpFilter drops query parameters on redirect
HBASE-14983 - Create metrics for per block type hit/miss ratios
HBASE-15353 - Add metric for number of CallQueueTooBigException's
HBASE-15376 - ScanNext metric is size-based while every other per-operation metric is time
based
HBASE-15377 - Per-RS Get metric is time based, per-region metric is size-based
HBASE-15464 - Flush / Compaction metrics revisited
HBASE-15780 - Make AuthUtil public and rely on it for talking to secure HBase.
HBASE-15837 - Memstore size accounting is wrong if postBatchMutate() throws exception
HBASE-15941 - HBCK repair should not unsplit healthy splitted region
HBASE-16052 - Improve HBaseFsck Scalability
HBASE-16350 - Undo server abort from HBASE-14968
HBASE-16561 - Add metrics about read/write/scan queue length and active read/write/scan
handler count
HBASE-16630 - Fragmentation in long running Bucket Cache
HBASE-16739 - Timed out exception message should include encoded region name
HBASE-16977 - VerifyReplication should log a printable representation of the row keys
HBASE-17460 - enable_table_replication can not perform cyclic replication of a table
HBASE-17501 - guard against NPE while reading FileTrailer and HFileBlock
HBASE-17673 - Monitored RPC Handler not shown in the WebUI
HBASE-17682 - Region stuck in merging_new state indefinitely
HBASE-17688 - MultiRowRangeFilter not working correctly if given same start and stop
RowKey
HBASE-17710 - HBase in standalone mode creates directories with 777 permission
HBASE-17712 - Remove/Simplify the logic of RegionScannerImpl.handleFileNotFound
HBASE-17717 - Incorrect ZK ACL set for HBase superuser
HBASE-17722 - Metrics subsystem stop/start messages add a lot of useless bulk to operational
logging
HBASE-17729 - Missing shortcuts for some useful HCD options
HBASE-17731 - Fractional latency reporting in MultiThreadedAction
HBASE-17736 - Some options can't be configured by the shell
HBASE-17779 - disable_table_replication returns misleading message and does not turn off
replication
HBASE-17780 - BoundedByteBufferPool "At capacity" messages are not actionable
HBASE-17798 - RpcServer.Listener.Reader can abort due to CancelledKeyException
HBASE-17803 - PE always re-creates table when we specify the split policy
HBASE-17877 - Improve HBase's byte[] comparator.
HBASE-17970 - Set yarn.app.mapreduce.am.staging-dir when starting MiniMRCluster
HBASE-18096 - Limit HFileUtil visibility and add missing annotations
HIVE-1575 - get_json_object does not support JSON array at the root level
HIVE-9679 - Remove redundant null-checks from DbNotificationListener
HIVE-9954 - UDFJson uses the == operator to compare Strings
HIVE-11418 - Dropping a database in an encryption zone with CASCADE and trash enabled
fails
HIVE-11487 - Add getNumPartitionsByFilter api in metastore api
HIVE-11878 - ClassNotFoundException can possibly occur if multiple jars are registered one at
a time in Hive
HIVE-12065 - FS stats collection may generate incorrect stats for multi-insert query
HIVE-13183 - Adds MapredLocalTasks logs in operation log
HIVE-13780 - Allow user to update AVRO table schema via command even if table's definition
was defined through schema file
HIVE-13782 - Compile async query asynchronously
HIVE-14080 - hive.metastore.schema.verification should check for schema compatiblity
HIVE-14340 - Add a new hook triggers before query compilation and after query execution
HIVE-14559 - Remove setting hive.execution.engine in qfiles
HIVE-14564 - Column Pruning generates out of order columns in SelectOperator which cause
ArrayIndexOutOfBoundsException.
HIVE-14774 - Canceling query using Ctrl-C in beeline might lead to stale locks
HIVE-14943 - Partial Backport of HIVE-14943 - Base Implementation (of HIVE-10924)
HIVE-15483 - Database and table name is case sensitive when used in show grant
HIVE-15761 - ObjectStore.getNextNotification could return an empty NotificationEventResponse
causing TProtocolException
HIVE-15879 - Fix HiveMetaStoreChecker.checkPartitionDirs method
HIVE-15882 - HS2 generating high memory pressure with many partitions and concurrent
queries.
HIVE-16004 - OutOfMemory in SparkReduceRecordHandler with vectorization mode
HIVE-16057 - SchemaTool ignores --passWord argument if
hadoop.security.credential.provider.path is configured
HIVE-16060 - GenericUDTFJSONTuple's json cache could overgrow beyond its limit
HIVE-16079 - HS2: high memory pressure due to duplicate Properties objects
HIVE-16119 - HiveMetaStoreChecker: remove singleThread logic duplication
HIVE-16164 - Provide mechanism for passing HMS notification ID between transactional and
non-transactional listeners.
HIVE-16166 - HS2 may still waste up to 15% of memory on duplicate strings.
HIVE-16196 - UDFJson having thread-safety issues
HIVE-16286 - Log canceled query id
HIVE-16308 - PreExecutePrinter and PostExecutePrinter should log to INFO level instead of
ERROR
HIVE-16315 - Describe table doesn't show num of partitions
HIVE-16334 - Query lock contains the query string, which can cause OOM on ZooKeeper
HIVE-16363 - QueryLifeTimeHooks should catch parse exceptions
HIVE-16389 - Allow HookContext to access SQLOperationDisplay
HIVE-16413 - Create table as select does not check ownership of the location
HIVE-16422 - Should kill running Spark Jobs when a query is cancelled
HIVE-16426 - Query cancel: improve the way to handle files.
HIVE-16430 - Add log to show the cancelled query id when cancelOperation is called
HIVE-16449 - BeeLineDriver should handle query result sorting
HIVE-16451 - Race condition between HiveStatement.getQueryLog and
HiveStatement.runAsyncOnServer
HIVE-16487 - Serious Zookeeper exception is logged when a race condition happens
HIVE-16555 - Add a new thrift API call for get_metastore_uuid
HIVE-16556 - Hive Metastore schema changes to add METASTORE_DB_PROPERTIES table
HIVE-16584 - Warning messages should use LogHelper.printInfo instead of printing to the
infoStream directly
HIVE-16593 - SparkClientFactory.stop may prevent JVM from exiting
HIVE-16647 - Improve the validation output to make the output to stderr and stdout more
consistent
HIVE-16660 - Not able to add partition for views in hive when sentry is enabled
HIVE-16665 - Race condition in Utilities.GetInputPathsCallable -->
createDummyFileForEmptyPartition
HIVE-16693 - beeline "source" command freezes if you have a comment in it?
HIVE-16697 - Schema table validator should return a sorted list of missing tables
HIVE-16700 - Log ZK discovery info (hostname & port) for HTTP mode when connection is
established
HIVE-16711 - Remove property_id column from metastore_db_properties table
HIVE-16723 - Enable configurable MetaStoreSchemaInfo
HIVE-16745 - Syntax error in 041-HIVE-16556.mysql.sql script
HIVE-16771 - Schematool should use MetastoreSchemaInfo to get the metastore schema version
from database
HUE-7 - [metastore] Redesign create table wizard
HUE-1176 - [jb] Revamp v2
HUE-3264 - [assist] Add search to the HDFS panel
HUE-3273 - [assist] Add solr inner panel
HUE-3283 - Revamped UI Layout and interface styling
HUE-3294 - [core] New design for Hue 4
HUE-3295 - HUE-3294 [core] Create initial design alternative
HUE-3698 - [editor] Unify app permissions with the available interpreters
HUE-3947 - [editor] Offer to manually run queries in editor when sample data timeouts
HUE-3995 - [editor] Add links to menu of configured snippets
HUE-4847 - [metastore] Convert all the metastore operations to the new editor
HUE-4918 - HUE-7 [metastore] Refresh table in Impala after creating a table if possible
HUE-4963 - [metastore] Convert partition browsing to the new editor
HUE-5261 - [editor] Move rowcount polling fetching to frontend
HUE-5419 - [oozie] Custom workflows graph are not displayed properly in Oozie Dashboard
HUE-5608 - [editor] Display table column list if user does not have access to table but has some
column level access
HUE-5830 - [editor] Notion of currently selected statement within editor with multi query
HUE-5848 - [core] Auto logout window can trigger an infinite loop on
/notebook/api/notebook/close
HUE-5860 - [assist] Left and right panels UX logic
HUE-5912 - [editor] huePubSub .subscribe should be active only for the current editor
HUE-5926 - [sentry] hiveChooser seems flaky and does not autocomplete columns
HUE-5956 - [metastore] Create DB only remembers the name from the Hive chooser
HUE-5957 - [metadata] Clicking on table name should add DB prefix too in autocomplete
HUE-6021 - [metastore] Allow nicer formatting of metadata description
HUE-6097 - [responsive] Inject schedule into context panel
HUE-6119 - [core] Configure default snippets and apps and validate blacklisting
HUE-6218 - [editor] Decrease GPU usage
HUE-6270 - [editor] Integrated scheduler sometimes gets a coordinator UUID that does not
exist
HUE-6279 - [assist] Right click not staying open in assist in FF when clicking on DB the first
time
HUE-6294 - [editor] Opening saved query removes the pagination buttons
HUE-6472 - [assist] Functions dropdown is hidden under below flex panel
HUE-6564 - [indexer] New indexes not showing up and remove cache from assist
IMPALA-278 - Mention DIV arithmetic operator.
IMPALA-1427 - Improvements to "Unknown disk-ID" warning
IMPALA-1670, IMPALA-4141 - Support multiple partitions in ALTER TABLE ADD PARTITION
IMPALA-1861 - Simplify conditionals with constant conditions
IMPALA-1972, IMPALA-3882 - Fix client_request_state_map _lock_ contention
IMPALA-2020 - Inline big number strings
IMPALA-2079 - Don't fail when write to scratch dir results in error.
IMPALA-2328 - Read support for min/max Parquet statistics
IMPALA-2518 - DROP DATABASE CASCADE removes cache directives of tables
IMPALA-2522 - Improve the reliability and effectiveness of ETL.
IMPALA-2550 - Switch to per-query exec rpc
IMPALA-2615 - warn if Status is ignored
IMPALA-3079 - Fix sequence file writer
IMPALA-3200 - Implement suballocator for splitting buffers
IMPALA-3202 - implement spill-to-disk in new buffer pool
IMPALA-3203 - Implement scalable buffer recycling in buffer pool.
IMPALA-3524 - Don't process spilled partitions with 0 probe rows
IMPALA-3586 - Implement union passthrough
IMPALA-3654 - Parquet stats filtering for IN predicate
IMPALA-3671 - Add SCRATCH_LIMIT query option.
IMPALA-3742 - Partitions and sort INSERTs for Kudu tables
IMPALA-3748 - minimum buffer requirements in planner
IMPALA-3748 - add query-wide resource acquisition step
IMPALA-3785 - Record query handle for invalid handle
IMPALA-3794 - Workaround for Breakpad ID conflicts
IMPALA-3905 - Implements HdfsScanner::GetNext() for text scans.
IMPALA-3909 - Populate min/max statistics in Parquet writer
IMPALA-3989 - Display skew warning for poorly formatted Parquet files
IMPALA-4008 - Don't bake fields into generated IR functions of OldHashTable
IMPALA-4014 - Introduce query-wide execution state.
IMPALA-4029 - Reduce memory requirements for storing file metadata
IMPALA-4036 - invalid SQL generated for partitioned table with comment
IMPALA-4041 - Limit catalog and admission control updates to coordinators
IMPALA-4163 - Add sortby() query hint
IMPALA-4166 - Add SORT BY sql clause
IMPALA-4341 - Add metadata load to planner timeline
IMPALA-4351, IMPALA-4353 - query generator random profile options for INSERT.
IMPALA-4355 - random query generator: modify statement execution flow to support DML
IMPALA-4359 - qgen: add UPSERT support
IMPALA-4390 - Separate ADD and DROP PARTITION syntax
IMPALA-4431 - Add audit event log control mechanism to prevent disk overflow
IMPALA-4477 - Update Kudu to latest commit on master
IMPALA-4499 - Table name missing from exec summary
IMPALA-4546 - Fix Moscow timezone conversion after 2014
IMPALA-4548 - BlockingJoinNode should wait for async build thread
IMPALA-4549 - consistently treat 9999 as upper bound for timestamp year
IMPALA-4588 - Enable starting the minicluster when offline
IMPALA-4611 - Checking perms on S3 files is a very expensive no-op
IMPALA-4616 - Add missing Kudu column options
IMPALA-4617 - remove IsConstant() analysis from backend
IMPALA-4624 - Implement Parquet dictionary filtering
IMPALA-4631 - avoid DCHECK in PlanFragementExecutor::Close().
IMPALA-4640 - Fix number of rows displayed by parquet-reader tool
IMPALA-4647 - fix full data load with ninja
IMPALA-4648 - remove build_thirdparty.sh
IMPALA-4649 - add a mechanism to pass flags into make
IMPALA-4650 - Add Protobuf 2.6.1 to toolchain and as a build dependency
IMPALA-4651 - Add LibEv to build
IMPALA-4652 - Add crcutil to build
IMPALA-4653 - fix sticky config variable problem
IMPALA-4662 - Fix NULL literal handling in Kudu IN list predicates
IMPALA-4673 - Use --local_library_dir for tzdb startup scratch space
IMPALA-4674 - port BufferedTupleStream to BufferPool
IMPALA-4676 - remove vestigial references to getBlockStorageLocations() API
IMPALA-4678 - move query MemTracker into QueryState
IMPALA-4684 - check-hbase-nodes.py: Build failing on RHEL7 when trying to start HBase.
IMPALA-4686 - Fix schema output for INT96 columns in parquet-reader tool
IMPALA-4689 - Fix computation of last active time
IMPALA-4701 - make distcc work reliably with clang
IMPALA-4707 - fix use-after-free in QueryExecMgr
IMPALA-4710 - There is an error in control audit log file size number
IMPALA-4711 - clarify is_null semantics in udf.h
IMPALA-4716 - Expr rewrite causes IllegalStateException
IMPALA-4731, IMPALA-397, IMPALA-4728 - Sorter crash Impalad instance.
IMPALA-4734 - Set parquet::RowGroup::sorting_columns
IMPALA-4738 - STDDEV_SAMP should return NULL for single record input
IMPALA-4740 - Add option to use hdfsPread() for HDFS hedged reads
IMPALA-4747 - macros should only evaluate their arguments once
IMPALA-4748 - crash in TmpFileMgr when hitting process mem limit
IMPALA-4752 - make ObjectPool more efficient
IMPALA-4757 - addendum: avoid double underscore in name
IMPALA-4758 - Upgrade gutil to recent Kudu version.
IMPALA-4762 - RECOVER PARTITIONS should batch partition updates
IMPALA-4764 - Add Hedged read metrics
IMPALA-4788 - Use HashSet in RECOVER PARTITIONS duplicate checks
IMPALA-4789 - Fix slow metadata loading due to inconsistent paths.
IMPALA-4792 - Fix number of distinct values for a CASE with constant outputs
IMPALA-4801 - fix heap use after free for MemTracker
IMPALA-4815 - , IMPALA-4817, IMPALA-4819: Write and Read Parquet Statistics for remaining
types
IMPALA-4820 - avoid writing unencrypted data during write cancellation
IMPALA-4828 - Add "Known Issues" item for
IMPALA-4831 - enforce BufferPool reservation invariants
IMPALA-4839 - Remove implicit 'localhost' for KUDU_MASTER_HOSTS
IMPALA-4840 - Fix REFRESH performance regression.
IMPALA-4846 - Upgrade Snappy to 1.1.4
IMPALA-4849 - IllegalStateException from rewritten CASE expr
IMPALA-4858 - add more info to MemLimitExceeded errors
IMPALA-4859 - Push down IS NULL / IS NOT NULL to Kudu
IMPALA-4877 - fix precedence of unary -/+
IMPALA-4880 - Clarify synchronization policy for 'done_' in KuduScanNode
IMPALA-4883 - Union Codegen
IMPALA-4884 - Add JVM heap and non-heap usage in metrics and UI
IMPALA-4885 - Expose Jvm thread info in web UI
IMPALA-4890 - /5143: Coordinator race involving TearDown()
IMPALA-4892 - Session ID included in error message
IMPALA-4893 - Efficiently update the rows read counter for sequence file
IMPALA-4897 - AnalysisException: specified cache pool does not exist
IMPALA-4923 - reduce memory transfer for selective scans
IMPALA-4926 - Upgrade LZ4 to 1.7.5
IMPALA-4937 - Remove unused kudu scanner keep alive variable
IMPALA-4943 - Speed up block md loading for add/recover partition calls.
IMPALA-4946 - fix hang in BufferPool
IMPALA-4955 - Fix integer overflow in hdfs table size accounting
IMPALA-4959 - Avoid picking up the system's boost cmake module
IMPALA-4962 - Fix SHOW COLUMN STATS for HS2
IMPALA-4965 - Authorize access to runtime profile and exec summary
IMPALA-4966 - Add flatbuffers to build
IMPALA-4983 - Set toolchain version to include LZ4 build flags
IMPALA-4988 - Add query option read_parquet_statistics
IMPALA-4996 - Single-threaded KuduScanNode
IMPALA-5003 - Constant propagation in scan conjuncts
IMPALA-5008 - Fix reading stats for TINYINT and SMALLINT
IMPALA-5021 - Fix count(*) remaining rows overflow in Parquet.
IMPALA-5027 - addendum - remove unneeded #define
IMPALA-5030 - Adds support for NVL2() function
IMPALA-5034 - Update Breakpad to newer version
IMPALA-5038 - Fix file size regex to include bytes
IMPALA-5041 - Allow AuthManager::Init() to be called more than once
IMPALA-5042 - Use a HashSet instead of ArrayList for O(1) look ups
IMPALA-5056 - Ensure analysis uses 'fresh' catalog after metadata loading
IMPALA-5057 - Upgrade glog (0.3.4-p2) and gflags
IMPALA-5073 - Part 1: add option to use mmap() for buffer pool
IMPALA-5077 - add NUMA and current cpu to CpuInfo
IMPALA-5080 - OutOfMemory PermGen space
IMPALA-5110 - Add deb support to dump_breakpad_symbols.py
IMPALA-5111 - Fix check when creating NOT NULL PK col in Kudu
IMPALA-5113 - fix dirty unpinned invariant
IMPALA-5120 - Default to partitioned join when stats are missing
IMPALA-5123 - Fix ASAN use after free in timezone_db
IMPALA-5125 - SimplifyConditionalsRule incorrectly handles aggregates
IMPALA-5127 - Add history_max option
IMPALA-5130 - fix race in MemTracker::EnableReservationReporting()
IMPALA-5137 - Support Kudu UNIXTIME_MICROS as Impala TIMESTAMP.
IMPALA-5140 - improve docs building guidelines
IMPALA-5144 - Remove sortby() hint
IMPALA-5147 - Add the ability to exclude hosts from query execution
IMPALA-5154 - Handle 'unpartitioned' Kudu tables
IMPALA-5158 - Part 1: include untracked memory in MemTracker dumps
IMPALA-5166 - clean up BufferPool counters
IMPALA-5167 - Reduce the number of Kudu clients created
IMPALA-5169 - Add support for async pins in buffer pool
IMPALA-5171 - update RAT excluded files list
IMPALA-5172 - crash in tcmalloc::CentralFreeList::FetchFromOneSpans
IMPALA-5173 - crash with hash join feeding directly into nlj
IMPALA-5174 - Bump gflags to 2.2.0-p1
IMPALA-5180 - Don't use non-deterministic exprs in partition pruning
IMPALA-5181 - Extract PYPI metadata from a webpage
IMPALA-5182 - Explicitly close connection to impalad on error from shell
IMPALA-5184 - build fe against both Hive 1 & 2 APIs
IMPALA-5187 - , IMPALA-5208: Bump Breakpad Version, undo IMPALA-3794
IMPALA-5188 - Add slot sorting in TupleDescriptor::LayoutEquals()
IMPALA-5189 - Pin version of setuptools-scm
IMPALA-5192 - Don't bake MemPool* into IR
IMPALA-5197 - Erroneous corrupted Parquet file message
IMPALA-5198 - Error messages are sometimes dropped before reaching client
IMPALA-5207 - ,IMPALA-5214: distcc fixes
IMPALA-5217 - KuduTableSink checks null constraints incorrectly
IMPALA-5220 - memory maintenance cleanup
IMPALA-5221 - Avoid re-use of stale SASL contexts.
IMPALA-5222 - don't call Bits::Log2*() functions
IMPALA-5223 - Add waiting for HBase Zookeeper nodes to retry loop
IMPALA-5224 - remove defunct codehaus repository
IMPALA-5229 - huge page-backed buffers with TCMalloc
IMPALA-5230 - fix non-functional impalad under ASAN
IMPALA-5232 - Parquet reader error message prints memory address instead of value
IMPALA-5235 - Initialize resourceProfile_ with a dummy value
IMPALA-5238 - transfer reservations between trackers
IMPALA-5258 - Pass CMAKE_BUILD_TYPE to Impala-lzo
IMPALA-5259 - Add REFRESH FUNCTIONS <db> statement
IMPALA-5261 - Heap use-after-free in HdfsSequenceTableWriter
IMPALA-5273 - Replace StringCompare with glibc memcmp
IMPALA-5282 - Handle overflows in computeResourceProfile().
IMPALA-5294 - Kudu INSERT partitioning fails with constants
IMPALA-5301 - Set Kudu minicluster memory limit
IMPALA-5304 - reduce transfer of Parquet decompression buffers
IMPALA-5309 - Adds TABLESAMPLE clause for HDFS table refs.
IMPALA-5318 - Generate access events with fully qualified table names
IMPALA-5324 - Fix version check in EvalDictionaryFilters
IMPALA-5325 - Do not update totalHdfsBytes_/numHdfsFiles_ on Catalogd
IMPALA-5331 - Use new libHDFS API to address "Unknown Error 255"
IMPALA-5333 - Add support for Impala to work with ADLS
IMPALA-5338 - Fix Kudu timestamp column default values
IMPALA-5339 - Fix analysis with sort.columns and expr rewrites
IMPALA-5340 - Query profile displays stale query state
IMPALA-5342 - Add comments of loaded tables in the response of GetTables
IMPALA-5347 - Parquet scanner microoptimizations
IMPALA-5355 - Fix the order of Sentry roles and privileges
IMPALA-5357 - Fix unixtime to UTC TimestampValue perf
IMPALA-5358 - Fix repeatable table sample.
IMPALA-5363 - Reset probe_batch_ after reaching limit
IMPALA-5364 - Correct title of query locations table
IMPALA-5375 - Builds on CentOS 6.4 failing with broken python dependencies
IMPALA-5377 - Impala may crash if given a fragment instance while restarting
IMPALA-5378 - Disk IO manager needs to understand ADLS
IMPALA-5381 - Adds DEFAULT_JOIN_DISTRIBUTION_MODE query option.
IMPALA-5383 - Fix PARQUET_FILE_SIZE option for ADLS
IMPALA-5388 - Only retry RPC on lost connection in send call
IMPALA-5391 - remove C++11 from UDF header
IMPALA-5411 - Avoid log spew from GetRuntimeProfileStr
IMPALA-5419 - Check for cancellation when building hash tables
IMPALA-5424 - Ignore errors when removing minidumps folder
IMPALA-5426 - Update Hive schema script to 1.1.0
IMPALA-5432 - Remove invalid DCHECK from SetMemLimitExceeded
IMPALA-5438 - Always eval union const exprs in subplan.
IMPALA-5454 - Work around template rendering bug in /memz
IMPALA-5469 - Fix exception when processing catalog update
IMPALA-5487 - Fix race in RuntimeProfile::toThrift()
IMPALA-5537 - Retry RPC on somes exceptions with SSL connection
IMPALA-5558 - /IMPALA-5576: Reopen stale client connection
IMPALA-5562 - Only recomputeMemLayout() if tuple has a layout.
IMPALA-3905 - Implements HdfsScanner::GetNext() for LZO text scans.
IMPALA-5172 - fix incorrect cast in call to LZO
decompress
OOZIE-2387 - Oozie is Unable to handle Spaces in file/archive tag.
OOZIE-2844 - Increase stability of Oozie actions when log4j.properties is missing or not
readable
OOZIE-2872 - Address backward compatibility issue introduced by OOZIE-2748
OOZIE-2874 - Make the Launcher Mapper map-only job's InputFormat class pluggable.
OOZIE-2908 - Fix typo in oozie.actions.null.args.allowed property in oozie-default.xml
OOZIE-2923 - Improve Spark options parsing
PARQUET-389 - Support predicate push down on missing columns.
PIG-5110 - Removing schema alias and :: coming from parent relation
SENTRY-1556 - Simplify privilege cleaning.
SENTRY-1644 - Partition ACLs disappear after renaming Hive table with partitions
SENTRY-1646 - Unable to truncate table <database>.<tablename>; from "default"
databases
SENTRY-1683 - MetastoreCacheInitializer has a race condition in handling results list
SENTRY-1730 - Optimized FileInputStream /FileOutputStream
SENTRY-1759 - UpdatableCache leaks connections
SENTRY-1788 - Sentry Store may use JDO object after the associated data is removed in
DB
SOLR-6673 - MDC based logging of collection, shard etc.
SOLR-8836 - Return 400, and a SolrException when an invalid json is provided to the update
handler instead of 500.
SOLR-9153 - Update Apache commons beanutils version to 1.9.2
SOLR-9527 - Improve distribution of replicas when restoring a collection
SOLR-10076 - ofHide keystore and truststore passwords from /admin/info/* outputs. - Updated
JMXJsonServlet to use new API - Set redaction default true
SPARK-16138 - Try to cancel executor requests only if we have at least 1
SPARK-20922 - Unsafe deserialization in Spark LauncherConnection.
ZOOKEEPER-2693 - for CVE-2017-5637.





Categories: CDH | Fixed Issues | Release Notes | Upstream | All Categories



Issues Fixed in CDH 5.13.x


Issues Fixed in CDH 5.11.x


















About Cloudera
Resources
Contact
Careers
Press
Documentation

United States: +1 888 789 1488
Outside the US: +1 650 362 0488



© 2021 Cloudera, Inc. All rights reserved. Apache Hadoop and associated open source project names are trademarks of the Apache Software Foundation. For a complete list of trademarks, click here.
If this documentation includes code, including but not limited to, code examples, Cloudera makes this available to you under the terms of the Apache License, Version 2.0, including any required
notices. A copy of the Apache License Version 2.0 can be found here.










Terms & Conditions  |  Privacy Policy

Page generated May 20, 2021.












