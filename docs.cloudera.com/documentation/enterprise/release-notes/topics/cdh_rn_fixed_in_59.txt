



Issues Fixed in CDH 5.9.x | 5.x | Cloudera Documentation

































































 Documentation


Products
Services & Support
Solutions









Cloudera Enterprise 5.x Release Notes





CDH 5
Release NotesIssues Fixed in CDH 5








View All Categories

Cloudera Enterprise 5.x Release Notes
Requirements and Supported Versions
Hardware Requirements Guide
Version and Download Information

Updating an existing CDH/Cloudera Manager deployment to access downloads with authentication
Cloudera Manager Version and Download Information
CDH Version and Packaging Information

CDH Download Information

CDH 5.16.x Download Information
CDH 5.15.x Download Information
CDH 5.14.x Download Information
CDH 5.13.x Download Information
CDH 5.12.x Download Information
CDH 5.11.x Download Information
CDH 5.10.x Download Information
CDH 5.9.x Download Information
CDH 5.8.x Download Information
CDH 5.7.x Download Information
CDH 5.6.x Download Information
CDH 5.5.x Download Information
CDH 5.4.x Download Information
CDH 5.3.x Download Information
CDH 5.2.x Download Information
CDH 5.1.x Download Information
CDH 5.0.x Download Information


CDH 5 Packaging and Tarball Information

CDH 5.16.x Packaging and Tarball Information
CDH 5.15.x Packaging and Tarball Information
CDH 5.14.x Packaging and Tarball Information
CDH 5.13.x Packaging and Tarball Information
CDH 5.12.x Packaging and Tarball Information
CDH 5.11.x Packaging and Tarball Information
CDH 5.10.x Packaging and Tarball Information
CDH 5.9.x Packaging and Tarball Information
CDH 5.8.x Packaging and Tarball Information
CDH 5.7.x Packaging and Tarball Information
CDH 5.6.x Packaging and Tarball Information
CDH 5.5.x Packaging and Tarball Information
CDH 5.4.x Packaging and Tarball Information
CDH 5.3.x Packaging and Tarball Information
CDH 5.2.x Packaging and Tarball Information
CDH 5.1.x Packaging and Tarball Information
CDH 5.0.x Packaging and Tarball Information


Using the CDH 5 Maven Repository

Managing Hadoop API Dependencies in CDH 5
Maven Artifacts for CDH 5.16.x Releases
Maven Artifacts for CDH 5.15.x Releases
Maven Artifacts for CDH 5.14.x Releases
Maven Artifacts for CDH 5.13.x Releases
Maven Artifacts for CDH 5.12.x Releases
Maven Artifacts for CDH 5.11.x Releases
Maven Artifacts for CDH 5.10.x Releases
Maven Artifacts for CDH 5.9.x Releases
Maven Artifacts for CDH 5.8.x Releases
Maven Artifacts for CDH 5.7.x Releases
Maven Artifacts for CDH 5.6.x Releases
Maven Artifacts for CDH 5.5.x Releases
Maven Artifacts for CDH 5.4.x Releases
Maven Artifacts for CDH 5.3.x Releases
Maven Artifacts for CDH 5.2.x Releases
Maven Artifacts for CDH 5.1.x Releases
Maven Artifacts for CDH 5.0.x Releases




Cloudera Navigator Key Trustee Server Version and Download Information
Cloudera Navigator Key HSM Version and Download Information
Key Trustee KMS Version and Download Information
HSM KMS Version and Download Information
Cloudera Navigator Encrypt Version and Download Information
Impala Version and Download Information


What's New in Cloudera Documentation
CDH 5 Release Notes

New Features and Changes in CDH 5

What's New in CDH 5.16.x
What's New in CDH 5.15.x
What's New in CDH 5.14.x
What's New in CDH 5.13.x
What's New in CDH 5.12.x
What's New in CDH 5.11.x
What's New in CDH 5.10.x
What's New In CDH 5.9.x
What's New In CDH 5.8.x
What's New In CDH 5.7.x
What's New In CDH 5.6.x
What's New In CDH 5.5.x
What's New In CDH 5.4.x
What's New In CDH 5.3.x
What's New In CDH 5.2.x
What's New in CDH 5.1.x
What's New in CDH 5.0.x
What's New In CDH 5 Beta Releases
What's New in Apache Impala
What's New in Apache Kudu


Incompatible Changes and Limitations

Apache Avro Incompatible Changes and Limitations
Apache Crunch Incompatible Changes and Limitations
Apache DataFu Incompatible Changes and Limitations
Apache Flume Incompatible Changes and Limitations
Apache Hadoop Incompatible Changes and Limitations
Apache HBase Incompatible Changes and Limitations
Apache Hive Incompatible Changes and Limitations
Hue Incompatible Changes and Limitations
Apache Impala Incompatible Changes and Limitations
Cloudera Distribution of Apache Kafka Incompatible Changes and Limitations
Kite Incompatible Changes and Limitations
Apache Kudu Incompatible Changes and Limitations
Llama Incompatible Changes and Limitations
Apache Mahout Incompatible Changes and Limitations
Apache Oozie Incompatible Changes and Limitations
Apache Pig Incompatible Changes and Limitations
Cloudera Search Incompatible Changes and Limitations
Apache Sentry Incompatible Changes
Apache Spark Incompatible Changes and Limitations
Apache Sqoop Incompatible Changes and Limitations
Apache Whirr Incompatible Changes and Limitations
Apache ZooKeeper Incompatible Changes and Limitations


Known Issues in CDH 5

Operating System Known Issues
Performance Known Issues
Install and Upgrade Known Issues
Apache Avro Known Issues
Apache Flume Known Issues
Apache Hadoop Known Issues
Apache HBase Known Issues
Apache Hive Known Issues
Hue Known Issues
Apache Impala Known Issues
Cloudera Distribution of Apache Kafka Known Issues
Apache Kudu Known Issues
Apache Mahout Known Issues
Apache Oozie Known Issues
Apache Parquet Known Issues
Apache Pig Known Issues
Cloudera Search Known Issues
Apache Sentry Known Issues
Apache Spark Known Issues
Apache Sqoop Known Issues
Apache Phoenix Known Issues
Apache ZooKeeper Known Issues


Issues Fixed in CDH 5

Issues Fixed in CDH 5.16.x
Issues Fixed in CDH 5.15.x
Issues Fixed in CDH 5.14.x
Issues Fixed in CDH 5.13.x
Issues Fixed in CDH 5.12.x
Issues Fixed in CDH 5.11.x
Issues Fixed in CDH 5.10.x
Issues Fixed in CDH 5.9.x
Issues Fixed in CDH 5.8.x
Issues Fixed in CDH 5.7.x
Issues Fixed in CDH 5.6.x
Issues Fixed in CDH 5.5.x
Issues Fixed in CDH 5.4.x
Issues Fixed in CDH 5.3.x
Issues Fixed in CDH 5.2.x
Issues Fixed in CDH 5.1.x
Issues Fixed in CDH 5.0.x
Issues Fixed in CDH 5 Beta Releases
Fixed Issues in Apache Impala
Issues Fixed in Apache Kudu




Cloudera Manager 5 Release Notes

New Features and Changes in Cloudera Manager 5
Known Issues and Workarounds in Cloudera Manager 5
Issues Fixed in Cloudera Manager 5


Cloudera Navigator Data Management Release Notes

New Features and Changes in Cloudera Navigator Data Management
Known Issues and Workarounds in Cloudera Navigator Data Management
Issues Fixed in Cloudera Navigator Data Management


Cloudera Navigator Key Trustee Server Release Notes

New Features and Changes in Cloudera Navigator Key Trustee Server
Known Issues and Workarounds in Cloudera Navigator Key Trustee Server
Issues Fixed in Cloudera Navigator Key Trustee Server


Cloudera Navigator Key HSM Release Notes

New Features and Changes in Cloudera Navigator Key HSM
Known Issues and Workarounds in Cloudera Navigator Key HSM
Issues Fixed in Cloudera Navigator Key HSM


Key Trustee KMS Release Notes

New Features in Key Trustee KMS
Known Issues and Workarounds in Key Trustee KMS
Issues Fixed in Key Trustee KMS


Cloudera Navigator HSM KMS Release Notes

New Features and Changes in Cloudera Navigator HSM KMS
Known Issues and Workarounds in Cloudera Navigator HSM KMS
Issues Fixed in Cloudera Navigator HSM KMS


Cloudera Navigator Encrypt Release Notes

New Features and Changes in Cloudera Navigator Encrypt
Known Issues and Workarounds in Cloudera Navigator Encrypt
Issues Fixed in Cloudera Navigator Encrypt


Deprecated Items





To read this documentation, you must turn JavaScript on.




Issues Fixed in CDH 5.9.x


The following topics describe issues fixed in CDH 5.9.x, from newest to oldest release. You can also review What's New In CDH
5.9.x or Known Issues in CDH 5.

Issues Fixed in CDH 5.9.3
Issues Fixed in CDH 5.9.2
Issues Fixed in CDH 5.9.1
Issues Fixed in CDH 5.9.0




Issues Fixed in CDH 5.9.3

Upstream Issues Fixed

The following upstream issues are fixed in CDH 5.9.3:

FLUME-2798 - Malformed Syslog messages can lead to OutOfMemoryException
FLUME-3080 - Close failure in HDFS Sink might cause data loss
FLUME-3085 - HDFS Sink can skip flushing some BucketWriters, might lead to data loss
HADOOP-11400 - GraphiteSink does not reconnect to Graphite after 'broken pipe'
HADOOP-11599 - Client#getTimeout should use IPC_CLIENT_PING_DEFAULT when
IPC_CLIENT_PING_KEY is not configured
HADOOP-12672 - RPC timeout should not override IPC ping interval
HADOOP-13503 - Improve SaslRpcClient failure logging
HADOOP-13988 - KMSClientProvider does not work with WebHDFS and Apache Knox
w/ProxyUser
HADOOP-14029 - Fix KMSClientProvider for non-secure proxyuser use case
HDFS-10715 - NPE when applying AvailableSpaceBlockPlacementPolicy
HDFS-11445 - FSCK shows overall health stauts as corrupt even one replica is corrupt
YARN-6360 - Prevent FS state dump logger from cramming other log files
YARN-6453 - fairscheduler-statedump.log gets generated regardless of service
HBASE-15837 - Memstore size accounting is wrong if postBatchMutate() throws exception
HBASE-16630 - Fragmentation in long running Bucket Cache
HBASE-16739 - Timed out exception message should include encoded region name
HBASE-16977 - VerifyReplication should log a printable representation of the row keys
HBASE-17501 - guard against NPE while reading FileTrailer and HFileBlock
HBASE-17673 - Monitored RPC Handler not shown in the WebUI
HBASE-17688 - MultiRowRangeFilter not working correctly if given same start and stop
RowKey
HBASE-17710 - HBase in standalone mode creates directories with 777 permission
HBASE-17717 - Explicitly use "sasl" ACL scheme for hbase superuser
HBASE-17731 - Fractional latency reporting in MultiThreadedAction
HBASE-17798 - RpcServer.Listener.Reader can abort due to CancelledKeyException
HBASE-17970 - Set yarn.app.mapreduce.am.staging-dir when starting MiniMRCluster
HBASE-18096 - Limit HFileUtil visibility and add missing annotations
HIVE-9481 - allow column list specification in INSERT statement
HIVE-9567 - JSON SerDe not escaping special chars when writing char/varchar data
HIVE-11141 - Improve RuleRegExp when the Expression node stack gets huge
HIVE-11418 - Dropping a database in an encryption zone with CASCADE and trash enabled
fails
HIVE-11428 - Performance: Struct IN() clauses are extremely slow
HIVE-11671 - Optimize RuleRegExp in DPP codepath
HIVE-11842 - Improve RuleRegExp by caching some internal data structures
HIVE-13390 - Partial backport of HIVE-13390. Backported only httpclient 4.5.2 and httpcore
4.4.4 for fixing the Apache Hive SSL vulnerability bug.
HIVE-14178 - Hive::needsToCopy should reuse FileUtils::equalsFileSystem
HIVE-14380 - Queries on tables with remote HDFS paths fail in "encryption" checks.
HIVE-14564 - Column Pruning generates out of order columns in SelectOperator which cause
ArrayIndexOutOfBoundsException.
HIVE-14943 - Partial Backport of HIVE-14943 - Base Implementation (of HIVE-10924)
HIVE-16297 - Improving hive logging configuration variables
HIVE-16394 - HoS does not support queue name change in middle of session
HIVE-16413 - Create table as select does not check ownership of the location
HIVE-16459 - Forward channelInactive to RpcDispatcher
HIVE-16593 - SparkClientFactory.stop may prevent JVM from exiting
HIVE-16646 - Alias in transform ... as clause shouldn't be case sensitive
HIVE-16660 - Not able to add partition for views in hive when sentry is enabled
HIVE-16693 - beeline "source" command freezes if you have a comment in it?
HUE-4897 - [core] Import document call should provide information about the import
HUE-5225 - [core] Prevent Oozie and Job Designer duplicate example documents from being
installed
HUE-5303 - [editor] Avoid XSS in the viewmodel options
HUE-5349 - [search] Query definitions can include js XSS injection
HUE-5659 - [home] Ignore history dependencies when importing document from different cluster
HUE-5816 - Changing default setting as "allowed_hosts=*"
HUE-5850 - [sentry] Prevent creating roles with empty names
HUE-6075 - [oozie] Remove email body for schema 0.1
HUE-6109 - [core] Remove the restriction on Document2 invalid chars
HUE-6115 - [core] Fix document paths for names with unicode characters
HUE-6131 - [hive] Select partition values based on the actual datatypes of the partition
column
HUE-6133 - [home] Stricter check for activeEntry existence
HUE-6133 - [home] Avoid search blinking
HUE-6133 - [home] Typing on the search box crashes IE 11
HUE-6144 - [oozie] Add generic XSL template to workflow graph parser
HUE-6161 - [doc2] Log failures and continue while converting documents
HUE-6193 - [converter] Retain last_executed time when creating doc2 object
HUE-6197 - [impala] Fix XSS Vulnerability in the old editors' error messages
HUE-6212 - [oozie] Prevent XSS injection from packets
HUE-6212 - [oozie] Prevent XSS injection in coordinator cron frequency field
HUE-6228 - [core] Disable touchscreen detection on Nicescroll
HUE-6250 - [frontend] Losing # fragment of full URL on login redirect
HUE-6261 - [oozie] Avoid JS error preventing workflow action status update
HUE-6262 - [core] Converter should separate history docs from saved docs
HUE-6263 - [converter] Delete Doc2 object incase of exception
HUE-6264 - [converter] Decrease memory usage for users with very high document1 objects
HUE-6266 - [converter] Remove unnecessary call to document link
HUE-6295 - [doc2] Avoid unrelated DB calls in sync_documents after import
HUE-6310 - [doc2] [doc2] Create missing doc1 links for delete and copy operations
HUE-6407 - [pig] Play button doesn't come back after killing the running pig job
HUE-6446 - [oozie] User cant edit shared coordinator or bundle
HUE-6604 - [oozie] Fix timestamp conversion to server timezone
HUE-6710 - [notebook] Raise Django 403 builtin
HUE-6710 - [notebook] Application reachable directly by users without granted access
IMPALA-3794 - Workaround for Breakpad ID conflicts
IMPALA-4293 - query profile should include error log
IMPALA-4383 - Ensure plan fragment report thread is always started
IMPALA-4409 - respect lock order in QueryExecState::CancelInternal()
IMPALA-4615 - Fix create_table.sql command order
IMPALA-4787 - Optimize APPX_MEDIAN() memory usage
IMPALA-5088 - Fix heap buffer overflow
IMPALA-5193 - Initialize decompressor before finding first tuple
IMPALA-5197 - Erroneous corrupted Parquet file message
IMPALA-5252 - Fix crash in HiveUdfCall::GetStringVal() when mem_limit exceeded
IMPALA-5253 - Use appropriate transport for StatestoreSubscriber
IMPALA-5355 - Fix the order of Sentry roles and privileges
IMPALA-5469 - Fix exception when processing catalog
update
OOZIE-2739 - Remove property expansion pattern from ShellMain's log4j properties content
OOZIE-2816 - Strip out the first command word from Sqoop action if its "sqoop"
OOZIE-2818 - Can't overwrite oozie.action.max.output.data on a per-workflow basis
OOZIE-2844 - Increase stability of Oozie actions when log4j.properties is missing or not
readable
PARQUET-389 - Support predicate push down on missing columns.
SENTRY-1422 - JDO deadlocks while processing grant while a background thread processes
Notificationlogs
SENTRY-1476 - SentryStore is subject to JDQL injection
SENTRY-1505 - CommitContext isn't used by anything and should be removed
SENTRY-1515 - Cleanup exception handling in SentryStore
SENTRY-1517 - SentryStore should actually use function getMSentryRole to get roles
SENTRY-1557 - getRolesForGroups(),getRoleNamesForGroups() does too many trips to the the
DB
SENTRY-1594 - TransactionBlock should become generic
SENTRY-1609 - DelegateSentryStore is subject to JDQL injection
SENTRY-1615 - SentryStore should not allocate empty objects that are immediately
returned
SENTRY-1625 - PrivilegeOperatePersistence can use QueryParamBuilder
SENTRY-1714 - MetastorePlugin.java should quetly return from renameAuthzObject() when both
paths are null
SENTRY-1759 - UpdatableCache leaks connections
SOLR-8836 - Return 400, and a SolrException when an invalid json is provided to the update
handler instead of 500.
SOLR-9153 - Update Apache commons beanutils version to 1.9.2
SOLR-9527 - Improve distribution of replicas when restoring a collection
SOLR-9848 - Lower solr.cloud.wait-for-updates-with-stale-state-pause back down from 7
seconds.
SOLR-10076 - Hiding keystore and truststore passwords from /admin/info/* outputs
SOLR-10430 - Add ls command to ZkCLI for listing sub-dirs
SPARK-14930 - Race condition in CheckpointWriter.stop()
SPARK-16533 - Spark application not handling preemption messages
SPARK-16845 - org.apache .spark.sql.catalyst.expressions.GeneratedClass$SpecificOrdering"
grows beyond 64 KB
SPARK-16873 - force spill NPE
SPARK-17316 - Don't block StandaloneSchedulerBackend.executorRemoved
SPARK-17485 - Failed remote cached block reads can lead to whole job failure
SPARK-19019 - PySpark does not work with Python 3.6.0
SPARK-19263 - DAGScheduler should avoid sending conflicting task set.
SPARK-19537 - Move pendingPartitions to ShuffleMapStage.
SPARK-19688 - Spark on Yarn Credentials File set to different application directory
SPARK-20922 - Unsafe deserialization in Spark LauncherConnection
SQOOP-2896 - Sqoop exec job fails with SQLException Access denied for user
SQOOP-3123 - Import from oracle using oraoop with map-column-java to avro fails if special
characters encounter in table name or column name
ZOOKEEPER-2040 - Server to log underlying cause of SASL connection problems





Issues Fixed in CDH 5.9.2

Upstream Issues Fixed

The following upstream issues are fixed in CDH 5.9.2:

FLUME-2171 - Add Interceptor to remove headers from event
FLUME-2812 - Fix semaphore leak causing java.lang.Error: Maximum permit count exceeded in
MemoryChannel
FLUME-2889 - Fixes to DateTime computations
FLUME-2999 - Kafka channel and sink should enable statically assigned partition per event via
header
FLUME-3027 - Change Kafka Channel to clear offsets map after commit
FLUME-3031 - Change sequence source to reset its counter for event body on channel
exception
FLUME-3049 - Make HDFS sink rotate more reliably in secure mode
HADOOP-7930 - Kerberos relogin interval in UserGroupInformation should be configurable
HADOOP-11619 - FTPFileSystem should override getDefaultPort.
HADOOP-12655 - TestHttpServer.testBindAddress bind port range is wider than expected.
HADOOP-13433 - Race in UGI.reloginFromKeytab
HADOOP-13590 - Retry until TGT expires even if the UGI renewal thread encountered
exception.
HADOOP-13627 - Have an explicit KerberosAuthException for UGI to throw, text from public
constants
HADOOP-13641 - Update UGI#spawnAutoRenewalThreadForUserCreds to reduce indentation
HADOOP-13749 - KMSClientProvider combined with KeyProviderCache can result in wrong UGI
being used
HADOOP-13805 - UGI.getCurrentUser() fails if user does not have a keytab associated
HADOOP-13838 - KMSTokenRenewer should close providers
HADOOP-13953 - Make FTPFileSystem's data connection mode and transfer mode
configurable
HADOOP-14003 - Make additional KMS tomcat settings configurable
HADOOP-14195 - CredentialProviderFactory$getProviders is not thread-safe
HDFS-10763 - Open files can leak permanently due to inconsistent lease update
HDFS-11160 - VolumeScanner reports write-in-progress replicas as corrupt incorrectly
HDFS-11229, HDFS-11056 - failed to close meta file
HDFS-11275 - Check groupEntryIndex and throw a helpful exception on failures when removing
ACL.
HDFS-11292 - log lastWrittenTxId etc info in logSyncAll
HDFS-11306 - Print remaining edit logs from buffer if edit log can't be rolled
HDFS-11363 - Need more diagnosis info when seeing Slow waitForAckedSeqno.
HDFS-11379 - DFSInputStream may infinite loop requesting block locations
MAPREDUCE-6172 - TestDbClasses timeouts are too aggressive
MAPREDUCE-6571 - JobEndNotification info logs are missing in AM container syslog
MAPREDUCE-6763 - Shuffle server listen queue is too small
MAPREDUCE-6817 - The format of job start time in JHS is different from those of submit
and finish time.
MAPREDUCE-6839 - TestRecovery.testCrashed failed
YARN-2306 - Add test for leakage of reservation metrics in fair scheduler.
YARN-2336 - Fair scheduler's REST API returns a missing '[' bracket JSON for deep queue
tree
YARN-3251 - Fixed a deadlock in CapacityScheduler when computing absoluteMaxAvailableCapacity
in LeafQueue
YARN-3933 - FairScheduler: Multiple calls to completedContainer are not safe.
YARN-3957 - FairScheduler NPE In FairSchedulerQueueInfo causing scheduler page to return
500.
YARN-4363 - In TestFairScheduler, testcase should not create FairScheduler redundantly.
YARN-4544 - All the log messages about rolling monitoring interval are shown with WARN
level
YARN-4555 - TestDefaultContainerExecutor#testContainerLaunchError fails on non-english locale
environment
YARN-5136 - Error in handling event type APP_ATTEMPT_REMOVED to the scheduler
YARN-5752 - TestLocalResourcesTrackerImpl#testLocalResourceCache times out
YARN-5859 - TestResourceLocalizationService#testParallelDownloadAttemptsForPublicResource
sometimes fails
YARN-5890 - FairScheduler should log information about AM-resource-usage and max-AM-share for
queues
YARN-5920 - Fix deadlock in TestRMHA.testTransitionedToStandbyShouldNotHang
YARN-6042 - Dump scheduler and queue state information into FairScheduler DEBUG log.
YARN-6151 - FS preemption does not consider child queues over fairshare if the parent is
under.
YARN-6175 - FairScheduler: Negative vcore for resource needed to preempt.
YARN-6264 - AM not launched when a single vcore is available on the cluster.
HBASE-12949 - Scanner can be stuck in infinite loop if the HFile is corrupted
HBASE-15125 - BackportHBaseFsck's adoptHdfsOrphan function creates region with wrong end key
boundary
HBASE-15328 - sanity check the redirect used to send master info requests to the embedded
regionserver.
HBASE-15378 - Scanner cannot handle heartbeat message with no results
HBASE-15587 - FSTableDescriptors.getDescriptor() logs stack trace erroneously
HBASE-15931 - Add log for long-running tasks in AsyncProcess HBASE-16289 AsyncProcess stuck
messages need to print region/server
HBASE-15955 - Disable action in CatalogJanitor#setEnabled should wait for active cleanup
scan to finish
HBASE-16032 - Possible memory leak in StoreScanner
HBASE-16062 - Improper error handling in WAL Reader/Writer creation
HBASE-16146 - Counters are expensive.
HBASE-16238 - It's useless to catch SESSIONEXPIRED exception and retry in
RecoverableZooKeeper
HBASE-16266 - Do not throw ScannerTimeoutException when catch UnknownScannerException
HBASE-16304 - HRegion#RegionScannerImpl#handleFileNotFoundException may lead to deadlock
when trying to obtain write lock on updatesLock
HBASE-16350 - Undo server abort from HBASE-14968
HBASE-16429 - FSHLog: deadlock if rollWriter called when ring buffer filled with
appends
HBASE-16460 - Can't rebuild the BucketAllocator's data structures when BucketCache uses
FileIOEngine
HBASE-16604 - Scanner retries on IOException can cause the scans to miss data
HBASE-16662 - Fix open POODLE vulnerabilities
HBASE-16721 - Concurrency issue in WAL unflushed seqId tracking
HBASE-16807 - RegionServer will fail to report new active Hmaster until HMaster/RegionServer
failover.
HBASE-16841 - Data loss in MOB files after cloning a snapshot and deleting that
snapshot
HBASE-16931 - Setting cell's seqId to zero in compaction flow might cause RS down.
HBASE-16960 - RegionServer hang when aborting
HBASE-17020 - keylen in midkey() dont computed correctly
HBASE-17023 - Region left unassigned due to AM and SSH each thinking others would do the
assignment work
HBASE-17044 - Fix merge failed before creating merged region leaves meta inconsistent
HBASE-17058 - Lower epsilon used for jitter verification from HBASE-15324
HBASE-17069 - RegionServer writes invalid META entries for split daughters in some
circumstances
HBASE-17072 - CPU usage starts to climb up to 90-100% when using G1GC; purge ThreadLocal
usage
HBASE-17206 - FSHLog may roll a new writer successfully with unflushed entries
HBASE-17241 - Avoid compacting already compacted mob files with _del files
HBASE-17265 - Region left unassigned in master failover when region failed to open
HBASE-17275 - Assign timeout may cause region to be unassigned forever
HBASE-17328 - Properly dispose of looped replication peers
HBASE-17381 - ReplicationSourceWorkerThread can die due to unhandled exceptions
HBASE-17409 - Limit jsonp callback name to prevent xss
HBASE-17452 - Failed taking snapshot - region Manifest proto-message too large
HBASE-17522 - Handle JVM throwing runtime exceptions when we ask for details on heap usage
the same as a correctly returned 'undefined'.
HBASE-17558 - ZK dumping jsp should escape HTML.
HBASE-17561 - table status page should escape values that may contain arbitrary
characters.
HBASE-17675 - ReplicationEndpoint should choose new sinks if a SaslException occurs
HIVE-7723 - Explain plan for complex query with lots of partitions is slow due to in-efficient
collection used to find a matching ReadEntity
HIVE-10329 - Hadoop reflectionutils has issues ADDENDUM The backport only includes the
ADDENDUM part which has the ReflectionUtils class.
HIVE-11594 - Analyze Table for column names with embedded spaces
HIVE-11849 - NPE in HiveHBaseTableShapshotInputFormat in query with just count(*)
HIVE-12179 - Add option to not add spark-assembly.jar to Hive classpath
HIVE-12349 - NPE in ORG SARG for IS NULL queries on Timestamp and Date column
HIVE-12465 - Hive might produce wrong results when (outer) joins are merged
HIVE-12619 - Switching the field order within an array of structs causes the query to
fail
HIVE-12768 - Thread safety: binary sortable serde decimal deserialization
HIVE-12780 - Fix the output of the history command in Beeline
HIVE-12789 - Fix output twice in the history command of Beeline
HIVE-12976 - MetaStoreDirectSql doesn't batch IN lists in all cases
HIVE-13129 - CliService leaks HMS connection
HIVE-13149 - Remove some unnecessary HMS connections from HS2
HIVE-13240 - GroupByOperator: Drop the hash aggregates when closing operator
HIVE-13539 - HiveHFileOutputFormat searching the wrong directory for HFiles
HIVE-13864 - Beeline ignores the command that follows a semicolon and comment
HIVE-13866 - flatten callstack for directSQL errors
HIVE-13895 - HoS start-up overhead in yarn-client mode
HIVE-13904 - Ignore case when retrieving ColumnInfo from RowResolver
HIVE-13936 - Add streaming support for row_number
HIVE-14210 - ExecDriver should call jobclient.close() to trigger cleanup
HIVE-14693 - Some paritions will be left out when partition number is the multiple of the
option hive.msck.repair.batch.size
HIVE-14764 - Enabling "hive.metastore.metrics.enabled" throws OOM in HiveMetastore
HIVE-14819 - FunctionInfo for permanent functions shows TEMPORARY FunctionType
HIVE-14820 - RPC server for spark inside HS2 is not getting server address properly
HIVE-14924 - MSCK REPAIR table with single threaded is throwing null pointer exception
HIVE-15282 - Different modification times are used when an index is built and when its
staleness is checked
HIVE-15291 - Comparison of timestamp fails if only date part is provided
HIVE-15338 - Wrong result from non-vectorized DATEDIFF with scalar parameter of type
DATE/TIMESTAMP
HIVE-15346 - "values temp table" should not be an input
HIVE-15410 - WebHCat supports get/set table property with its name containing period and
hyphen
HIVE-15485 - Addendum toInvestigate the DoAs failure in HoS
HIVE-15485 - Investigate the DoAs failure in HoS
HIVE-15517 - NOT (x <=> y) returns NULL if x or y is NULL
HIVE-15551 - memory leak in directsql for mysql+bonecp specific initialization
HIVE-15572 - Improve the response time for query canceling when it happens during acquiring
locks
HIVE-15735 - In some cases, view objects inside a view do not have parents.
HIVE-15782 - query on parquet table returns incorrect result when hive.optimize.index.filter
is set to true
HIVE-15872 - The PERCENTILE_APPROX UDAF does not work with empty set
HIVE-15997 - Resource leaks when query is cancelled
HIVE-16019 - Query fails when group by/order by on same column with uppercase name
HIVE-16024 - MSCK Repair Requires nonstrict hive.mapred.mode
HIVE-16047 - Shouldn't try to get KeyProvider unless encryption is enabled
HIVE-16156 - FileSinkOperator should delete existing output target when renaming
HIVE-16175 - Possible race condition in InstanceCache
HUE-3079 - [jb] Display jobs from JHS (YARN and Spark) and their logs when not in RM
HUE-4546 - [editor] Cannot execute any Hive query: 'NoneType' object has no attribute
'update_data'
HUE-4969 - [core] Rename ini properties for sasl buffer to be standard, fixing Support
hive.server2.thrift.sasl.qop="auth-conf"
HUE-5268 - [editor] Autocompleter should not suggest columns without tables
HUE-5281 - [core] Log real user real ip when using a load balancer
HUE-5295 - [desktop] Avoid microsecond comparison for last_modified field MySQL < 5.6 doesn't
support microsecond precision. https://code.djangoproject.com/ticket/19716. Do not change the last_modified field when migrating history queries
HUE-5305 - [home] Fix empty share document modal and improve sharing UX
HUE-5310 - [search] Use Doc2 modal in search_controller
HUE-5390 - [assist] Fix for incorrect column order
HUE-5408 - [oozie] Support old docs while saving shared workflow
HUE-5476 - [core] Fix TTL is_idle middleware check
HUE-5482 - [home] Handle multiple home/trash directories by merging them into one.
HUE-5533 - [home] Improve home page load time
HUE-5602 - [jb] Make date filter more user friendly. Add start time filter in jobs page. Make
start time filter compatible with python2.6.
HUE-5605 - [metadata] Do not enable if desktop auth_password is set
HUE-5670 - [doc2] Prevent exception when doc2 object is not linked to doc1
HUE-5679 - [impala] Do not truncate the last part of rows in result downloads
HUE-5684 - [oozie] Prevent page break when hiding workflow graph. Hide workflow graph when node
count > 30
HUE-5714 - [hive] Close SQL canary query "Select "Hello World""
HUE-5717 - [backend] Some operating system incorrectly detect javascript mime-type as text/x-js
instead of application/javascript
HUE-5722 - [core] Avoid query redaction when string is None
HUE-5742 - [core] Set default schema to public. Allow user to provide schema name for database via
ini
HUE-5756 - [doc2] Workaround for improving the query history search time
HUE-5758 - [oozie] Fix parsing nodes from XML definition
HUE-5769 - [oozie] Remove mandatory inclusion of Kill row in the workflow dashobard graph
HUE-5823 - [editor] Cancel running doc search requests when the query has changed
HUE-5958 - [pig] Fix unicode errors when handling exceptions
HUE-5962 - [hiveserver2] Update HiveServerClient user object when opening session
HUE-5984 - [search] Escaping corrupts link-meta for building external links in grid dashboard
HUE-6075 - [oozie] Remove email body while displaying external graphs in dashboard
HUE-6090 - Hue to do a keep alive on idle sessions to HiveServer2
HUE-6103 - [fb] Log filesystem initialization exceptions
HUE-6104 - [aws] Check if boto configuration section exists before adding it
IMPALA-1702 - Enforce single-table consistency in query
analysis.
IMPALA-2864 - Ensure that client connections are closed after a failed Open()
IMPALA-3167 - Fix assignment of WHERE conjunct through grouping agg + OJ.
IMPALA-3314 - Fix Avro schema loading for partitioned tables.
IMPALA-3552 - Make incremental stats max serialized size configurable
IMPALA-3875 - Thrift threaded server hang in some cases
IMPALA-3884 - Support TYPE_TIMESTAMP for HashTableCtx::CodegenAssignNullValue()
IMPALA-3983 - IMPALA-3974: Delete function jar resources after load
IMPALA-4020 - Handle external conflicting changes to HMS gracefully
IMPALA-4037 - IMPALA-4038: fix locking during query cancellation
IMPALA-4180 - Synchronize accesses to RuntimeState::reader_contexts_
IMPALA-4260 - Alter table add column drops all the column stats
IMPALA-4263 - Fix wrong ommission of agg/analytic hash exchanges.
IMPALA-4266 - Java udf returning string can give incorrect results
IMPALA-4282 - Remove max length check for type strings.
IMPALA-4291 - Reduce LLVM module's preparation time
IMPALA-4363 - IMPALA-4585: Add Parquet timestamp validation
IMPALA-4391 - fix dropped statuses in scanners
IMPALA-4433 - Always generate testdata using the same time zone setting
IMPALA-4449 - Revisit table locking pattern in the catalog
IMPALA-4488 - HS2 GetOperationStatus() should keep session alive
IMPALA-4494 - IMPALA-4540: Fix crash in SimpleScheduler
IMPALA-4516 - Don't hold process wide lock connection_to_sessions_map_lock_ while cancelling
queries
IMPALA-4518 - CopyStringVal() doesn't copy null string
IMPALA-4539 - fix bug when scratch batch references I/O buffers
IMPALA-4550 - Fix CastExpr analysis for substituted slots
IMPALA-4579 - SHOW CREATE VIEW fails for view containing a subquery
IMPALA-4705 - IMPALA-4779, IMPALA-4780: Fix some Expr bugs with codegen
IMPALA-4765 - Avoid using several loading threads on one table.
IMPALA-4767 - Workaround for HIVE-15653 to preserve table stats.
IMPALA-4916 - Fix maintenance of set of item sets in DisjointSet.
IMPALA-4929 - Safe concurrent access to IR function call graph
IMPALA-4995 - Fix integer overflow in TopNNode::PrepareForOutput
IMPALA-4997 - Fix overflows in Sorter::TupleIterator
IMPALA-5005 - Don't allow server to send SASL COMPLETE msg out of order
IMPALA-4391 - fix dropped status in scanners
OOZIE-2194 - oozie job -kill doesn't work with spark action
OOZIE-2243 - Kill Command does not kill the child job for java action
OOZIE-2519 - Oozie HA with SSL info is slightly incorrect
OOZIE-2584 - Eliminate Thread.sleep() calls in TestMemoryLocks
OOZIE-2659 - TestPauseTransitService is flaky
OOZIE-2678 - Oozie job -kill doesn't work with tez jobs
OOZIE-2731 - Set
yarn.nodemanager.disk-health-checker.max-disk-utilization-per-disk-percentage to a higher value in tests
OOZIE-2742 - Unable to kill applications based on tag
OOZIE-2748 - NPE in LauncherMapper.printArgs()
OOZIE-2757 - Malformed xml is Spark action doc page
OOZIE-2777 - Config-default.xml longer than 64k results in
java.io.UTFDataFormatException
PIG-5025 - Fix flaky test failures in TestLoad.java
SENTRY-1260 - Improve error handling - ArrayIndexOutOfBoundsException in
PathsUpdate.parsePath can cause MetastoreCacheInitializer intialization to fail
SENTRY-1270 - Improve error handling - Database with malformed URI causes NPE in HMS plugin
during DDL
SENTRY-1390 - Add test cases to ensure usability of URI privileges for HMS binding
SENTRY-1508 - MetastorePlugin.java does not handle properly initialization failure
SENTRY-1520 - Provide mechanism for triggering HMS full snapshot
SENTRY-1564 - Improve error detection and reporting in MetastoreCacheInitializer.java
SOLR-5776 - backportEnabled SSL tests can easily exhaust random generator entropy and block.
Set the server side to SHA1PRNG as in Steve's original patch. Use less SSL in a test run. refactor SSLConfig so that SSLTestConfig can provide SSLContexts using a NullSecureRandom to prevent SSL
tests from blocking on entropy starved machines Alternate (psuedo random) NullSecureRandom for Constants.SUN_OS replace NullSecureRandom w/ NotSecurePsuedoRandom
SOLR-9284 - The HDFS BlockDirectoryCache should not let it's keysToRelease or names maps grow
indefinitely.
SOLR-9330 - Fix AlreadyClosedException on admin/mbeans?stats=true
SOLR-9699 - SOLR-4668: fix exception from core status in parallel with core reload
SOLR-9819 - Upgrade Apache commons-fileupload to 1.3.2, fixing a security vulnerability
SOLR-9836 - Add ability to recover from leader when index corruption is detected on SolrCore
creation.
SOLR-9859 - backport ofreplication.properties cannot be updated after being written and
neither replication.properties or index.properties are durable in the face of a crash. Don't log error on NoSuchFileException
SOLR-9901 - backport of, SOLR-9899: Implement move in HdfsDirectoryFactory. SOLR-9899:
StandardDirectoryFactory should use optimizations for all FilterDirectorys not just NRTCachingDirectory.
SOLR-10031 - Validation of filename params in ReplicationHandler
SOLR-10114, SOLR-9941 - Reordered delete-by-query can delete or omit child documents
SOLR-10119 - TestReplicationHandler assertion fixes part of
SOLR-10121, SOLR-10116 - BlockCache corruption with high concurrency
SOLR-10360 - Remove an extra space from Hadoop distcp cmd used by Solr backup/restore
SPARK-12241 - [YARN] Improve failure reporting in Yarn client obtainTokenForHBase()
SPARK-12523 - [YARN] Support long-running of the Spark On HBase and hive meta store.
SPARK-13112 - [CORE] Make sure RegisterExecutorResponse arrive before LaunchTask
SPARK-13566 - [CORE] Avoid deadlock between BlockManager and Executor Thread
SPARK-13958 - Executor OOM due to unbounded growth of pointer array inâ€¦
SPARK-14204 - [SQL] register driverClass rather than user-specified class
SPARK-16044 - [SQL] Backport input_file_name() for data source based on NewHadoopRDD to
branch 1.6
SPARK-16230 - [CORE] CoarseGrainedExecutorBackend to self kill if there is an exception
while creating an Executor
SPARK-17245 - [SQL][BRANCH-1.6] Do not rely on Hive's session state to retrieve
HiveConf
SPARK-17465 - [SPARK CORE] Inappropriate memory management in
`org.apache.spark.storage.MemoryStore` may lead to memory leak
SPARK-18750 - [YARN] Avoid using "mapValues" when allocating containers.
SPARK-19178 - [SQL][Backport-to-1.6] convert string of large numbers to int should return
null
SQOOP-2349 - Add command line option for setting transaction isolation levels for metadata
queries
SQOOP-2896 - Sqoop exec job fails with SQLException Access denied for user
SQOOP-2909 - Oracle related ImportTest fails after SQOOP-2737
SQOOP-2911 - Fix failing HCatalogExportTest caused by SQOOP-2863
SQOOP-2950 - Sqoop trunk has consistent UT failures - need fixing
SQOOP-2990 - Sqoop(oracle) export [updateTableToOracle] with "--update-mode allowinsert" :
app fails with java.sql.SQLException: Missing IN or OUT parameter at index
SQOOP-3013 - Configuration "tmpjars" is not checked for empty strings before passing to
MR
SQOOP-3028 - Include stack trace in the logging of exceptions in ExportTool
SQOOP-3053 - Create a cmd line argument for sqoop.throwOnError and use it through
SqoopOptions
SQOOP-3055 - Fixing MySQL tests failing due to ignored test inputs/configuration
SQOOP-3057 - Fixing 3rd party Oracle tests failing due to invalid case of column names
SQOOP-3066 - Introduce an option + env variable to enable/disable SQOOP-2737 feature
SQOOP-3068 - Enhance error (tool.ImportTool: Encountered IOException running import job:
java.io.IOException: Expected schema) to suggest workaround
SQOOP-3069 - Get OracleExportTest#testUpsertTestExport in line with SQOOP-3066
SQOOP-3071 - Fix OracleManager to apply localTimeZone correctly in case of Date objects
too
SQOOP-3072 - Reenable escaping in ImportTest#testProductWithWhiteSpaceImport for proper
execution
SQOOP-3081 - use OracleEscapeUtils.escapeIdentifier in OracleUpsertOutputFormat instead of
inline appending quotes
SQOOP-3124 - Fix ordering in column list query of PostgreSQL connector to reflect the logical
order instead of adhoc ordering
SQOOP-3140 - Removing deprecated mapred.map.max.attempts, mapred.reduce.max.attempts entries
and using the new constants directly from Hadoop instead
SQOOP-3159 - Sqoop (export + --table) with Oracle table_name having '$' fails with error





Issues Fixed in CDH 5.9.1

Upstream Issues Fixed

The following upstream issues are fixed in CDH 5.9.1:

AVRO-1943 - Fix test TestNettyServerWithCompression.testConnectionsCount
CRUNCH-592 - Job fails for null ByteBuffer value in Avro tables
FLUME-2797 - Use SourceCounter for SyslogTcpSource
FLUME-2844 - SpillableMemoryChannel must start ChannelCounter
FLUME-2982 - Add localhost escape sequence to HDFS sink
FLUME-3020 - Improve HDFS Sink escape sequence substitution
HADOOP-10300 - Allowed deferred sending of call responses
HADOOP-12453 - Support decoding KMS Delegation Token with its own Identifier
HADOOP-12483 - Maintain wrapped SASL ordering for postponed IPC responses
HADOOP-12973 - Make DU pluggable
HADOOP-12974 - Create a CachingGetSpaceUsed implementation that uses df
HADOOP-12975 - Add jitter to CachingGetSpaceUsed's thread
HADOOP-13034 - Log message about input options in distcp lacks some items
HADOOP-13072 - WindowsGetSpaceUsed constructor should be public
HADOOP-13317 - Add logs to KMS server-side to improve supportability
HADOOP-13353 - LdapGroupsMapping getPassward should not return null when IOException
throws
HADOOP-13526 - Add detailed logging in KMS for the authentication failure of proxy
user
HADOOP-13558 - UserGroupInformation created from a Subject incorrectly tries to renew the
Kerberos ticket
HADOOP-13579 - Fix source-level compatibility after HADOOP-11252
HADOOP-13638 - KMS should set UGI's Configuration object properly
HADOOP-13669 - KMS Server should log exceptions before throwing
HADOOP-13693 - Remove the message about HTTP OPTIONS in SPNEGO initialization message from
kms audit log
HDFS-4210 - Throw helpful exception when DNS entry for JournalNode cannot be resolved
HDFS-6962 - ACLs inheritance conflict with umaskmode
HDFS-7413 - Some unit tests should use NameNodeProtocols instead of FSNameSystem
HDFS-7415 - Move FSNameSystem.resolvePath() to FSDirectory
HDFS-7420 - Delegate permission checks to FSDirectory
HDFS-7463 - Simplify FSNamesystem#getBlockLocationsUpdateTimes
HDFS-7478 - Move org.apache.hadoop.hdfs.server.namenode.NNConf to FSNamesystem
HDFS-7517 - Remove redundant non-null checks in FSNamesystem#getBlockLocations
HDFS-7964 - Add support for async edit logging
HDFS-8224 - Schedule a block for scanning if its metadata file is corrupt
HDFS-8269 - getBlockLocations() does not resolve the .reserved path and generates incorrect
edit logs when updating the atime
HDFS-8709 - Clarify automatic sync in FSEditLog#logEdit
HDFS-8809 - HDFS fsck reports under construction blocks as CORRUPT
HDFS-9038 - DFS reserved space is erroneously counted towards non-DFS used
HDFS-9601 - NNThroughputBenchmark.BlockReportStats should handle NotReplicatedYetException on
adding block
HDFS-9630 - DistCp minor refactoring and clean up
HDFS-9638 - Improve DistCp Help and documentation
HDFS-9781 - FsDatasetImpl#getBlockReports can occasionally throw NullPointerException
HDFS-9820 - Improve distcp to support efficient restore to an earlier snapshot
HDFS-10216 - Distcp -diff throws exception when handling relative path
HDFS-10270 - TestJMXGet:testNameNode() fails
HDFS-10298 - Document the usage of distcp -diff option
HDFS-10312 - Large block reports can fail to decode at NameNode due to 64 MB protobuf maximum
length restriction
HDFS-10313 - Distcp need to enforce the order of snapshot names passed to -diff
HDFS-10397 - Distcp should ignore -delete option if -diff option is provided instead of
exiting
HDFS-10556 - DistCpOptions should be validated automatically
HDFS-10559 - DiskBalancer: Use SHA1 for Plan ID
HDFS-10567 - Improve plan command help message
HDFS-10609 - Uncaught InvalidEncryptionKeyException during pipeline recovery can abort
downstream applications
HDFS-10641 - TestBlockManager#testBlockReportQueueing fails intermittently
HDFS-10652 - Add a unit test for HDFS-4660
HDFS-10722 - Fix race condition in TestEditLog#testBatchedSyncWithClosedLogs
HDFS-10760 - DataXceiver#run() should not log InvalidToken exception as an error
HDFS-10822 - Log DataNodes in the write pipeline
HDFS-10879 - TestEncryptionZonesWithKMS#testReadWrite fails intermittently
HDFS-10962 - TestRequestHedgingProxyProvider is unreliable
HDFS-10963 - Reduce log level when network topology cannot find enough datanodes
HDFS-11012 - Unnecessary INFO logging on DFSClients for InvalidToken
HDFS-11040 - Add documentation for HDFS-9820 distcp improvement
HDFS-11056 - Concurrent append and read operations lead to checksum error
MAPREDUCE-4784 - TestRecovery occasionally fails
MAPREDUCE-6628 - Potential memory leak in CryptoOutputStream
MAPREDUCE-6641 - TestTaskAttempt fails in trunk
MAPREDUCE-6670 - TestJobListCache#testEviction sometimes fails on Windows with
timeout
MAPREDUCE-6718 - add progress log to JHS during startup
MAPREDUCE-6728 - Give fetchers hint when ShuffleHandler rejects a shuffling
connection
MAPREDUCE-6738 - TestJobListCache.testAddExisting failed intermittently in slow VM
testbed
MAPREDUCE-6771 - RMContainerAllocator sends container diagnostics event after
corresponding completion event
MAPREDUCE-6798 - Fix intermittent failure of
TestJobHistoryParsing.testJobHistoryMethods
YARN-2977 - Fixed intermittent TestNMClient failure
YARN-3601 - Fix UT TestRMFailover.testRMWebAppRedirect
YARN-3654 - ContainerLogsPage web UI should not have meta-refresh
YARN-3722 - Merge multiple TestWebAppUtils into o.a.h.yarn.webapp.util.TestWebAppUtils
YARN-4004 - container-executor should print output of docker logs if the docker container
exits with non-0 exit status
YARN-4017 - container-executor overuses PATH_MAX
YARN-4092 - Fixed UI redirection to print useful messages when both RMs are in standby
mode
YARN-4245 - Generalize config file handling in container-executor
YARN-4255 - container-executor does not clean up Docker operation command files
YARN-4820 - ResourceManager web redirects in HA mode drops query parameters
YARN-4940 - yarn node -list -all fail if RM starts with decommissioned node
YARN-5001 - Aggregated Logs root directory is created with wrong group if nonexistent
YARN-5107 - TestContainerMetrics fails
YARN-5246 - NMWebAppFilter web redirects drop query parameters
YARN-5704 - Provide configuration knobs to control enabling/disabling new/work in progress
features in container-executor
YARN-5837 - NPE when getting node status of a decommissioned node after an RM restart
YARN-5862 - TestDiskFailures.testLocalDirsFailures failed
HBASE-15324 - Jitter can cause desiredMaxFileSize overflow in ConstantSizeRegionSplitPolicy
and trigger unexpected split
HBASE-15430 - Failed taking snapshot - Manifest proto-message too large
HBASE-15856 - Do not cache unresolved addresses for connections
HBASE-16172 - Unify the retry logic in ScannerCallableWithReplicas and
RpcRetryingCallerWithReadReplicas
HBASE-16270 - Handle duplicate clearing of snapshot in region replicas
HBASE-16294 - hbck reporting "No HDFS region dir found" for replicas
HBASE-16345 - RpcRetryingCallerWithReadReplicas#call() should catch some RegionServer
Exceptions
HBASE-16360 - TableMapReduceUtil addHBaseDependencyJars has the wrong class name for
PrefixTreeCodec
HBASE-16699 - Overflows in AverageIntervalRateLimiter's refill() and getWaitInterval()
HBASE-16767 - Mob compaction needs to clean up files in /hbase/mobdir/.tmp and
/hbase/mobdir/.tmp/.bulkload when running into IO exceptions
HBASE-16824 - Writer.flush() can be called on already closed streams in WAL roll
HIVE-9570 - Investigate test failure on union_view.q
HIVE-10007 - Support qualified table name in analyze table compute statistics for
columns
HIVE-10384 - BackportRetryingMetaStoreClient does not retry wrapped TTransportExceptions
HIVE-10728 - Deprecate unix_timestamp(void) and make it deterministic
HIVE-10965 - Direct SQL for stats fails in 0-column case
HIVE-11901 - StorageBasedAuthorizationProvider requires write permission on table for SELECT
statements
HIVE-12077 - MSCK Repair table should fix partitions in batches
HIVE-12083 - HIVE-10965 introduces Thrift error if partNames or colNames are empty
HIVE-12475 - Parquet schema evolution within array<struct<>> does not work
HIVE-12646 - Revert "beeline and HIVE CLI do not parse"
HIVE-12757 - Fix TestCodahaleMetrics#testFileReporting
HIVE-12891 - Hive fails when java.io.tmpdir is set to a relative location
HIVE-13058 - Add session and operation_log directory deletion messages
HIVE-13198 - Authorization issues with cascading views
HIVE-13237 - Select parquet struct field with uppercase throws NPE
HIVE-13381 - Backport introduced potential differences in the q-file output which need to be
investigated further
HIVE-13381 - Timestamp and date should have precedence in type hierarchy over string
group
HIVE-13429 - Tool to remove dangling scratch directory
HIVE-13620 - Merge llap branch work to master
HIVE-13625 - Hive Prepared Statement when executed with escape characters in parameter
fails
HIVE-13645 - Beeline needs null-guard around hiveVars and hiveConfVars read
HIVE-13997 - Insert overwrite directory does not overwrite existing files
HIVE-14173 - NPE was thrown after enabling directsql in the middle of session
HIVE-14205 - Hive does not support union type with AVRO file format
HIVE-14313 - Test failure TestMetaStoreMetrics.testConnections
HIVE-14383 - SparkClientImpl should pass principal and keytab to spark-submit instead of
calling kinit explicitly
HIVE-14395 - Add the missing data files to Avro union tests (HIVE-14205 addendum)
HIVE-14421 - FS.deleteOnExit holds references to _tmp_space.db files
HIVE-14426 - Extensive logging on info level in WebHCat
HIVE-14436 - Hive 1.2.1/Hitting "ql.Driver: FAILED: IllegalArgumentException Error"
HIVE-14538 - beeline throws exceptions with parsing Hive config when using !sh statement
HIVE-14697 - Cannot access kerberized HS2 Web UI
HIVE-14715 - Hive throws NumberFormatException with query with Null value
HIVE-14743 - ArrayIndexOutOfBoundsException - HBASE-backed views' query with JOINs
HIVE-14762 - Add logging while removing scratch space
HIVE-14784 - Operation logs are disabled automatically if the parent directory does not
exist
HIVE-14799 - Query operation are not thread safe during its cancellation
HIVE-14805 - Subquery inside a view will have the object in the subquery as the direct
input
HIVE-14810 - Fix failing test: TestMetaStoreMetrics.testMetaDataCounts.
HIVE-14817 - Shutdown the SessionManager timeoutChecker thread properly upon shutdown
HIVE-14839 - Improve the stability of TestSessionManagerMetrics
HIVE-14889 - Beeline leaks sensitive environment variables of HiveServer2
HIVE-15054 - Hive insertion query execution fails on Hive on Spark
HIVE-15061 - Metastore types are sometimes case sensitive
HIVE-15090 - Temporary DB failure can stop ExpiredTokenRemover thread
HIVE-15231 - Query on view with CTE and alias fails with table not found error
HUE-4941 - [editor] Content Security Policy directive blocks an image when navigating on marker
map
HUE-5041 - [editor] Hue export large file to HDFS doesn't work on non-default database
HUE-4631 - [home] DB transaction failing because of atomic block on home page
HUE-5218 - [search] Validate dashboard sharing works
HUE-5028 - [security] Share Oozie workflow with modify permission;however, the user can't edit
the shared WF
HUE-5163 - [security] Speed up initial page rendering
IMPALA-3949 - Log error message in
FileSystemUtil.copyToLocal()
IMPALA-4076 - Fix runtime filter sort compare method
IMPALA-4099 - Fix the error message while loading UDFs with no JARs
IMPALA-4120 - Incorrect results with LEAD() analytic function
IMPALA-4135 - Thrift threaded server times out connections during high load
IMPALA-4153 - Fix count(*) on all blank('') columns - test
IMPALA-4170 - Fix identifier quoting in COMPUTE INCREMENTAL STATS
IMPALA-4196 - Cross compile bit-byte-functions
IMPALA-4223 - Handle truncated file read from HDFS cache
IMPALA-4237 - Fix materialization of 4-byte decimals in data source scan node
IMPALA-4246 - SleepForMs() utility function has undefined behavior for > 1s
IMPALA-4301 - Fix IGNORE NULLS with subquery rewriting
IMPALA-4336 - Cast exprs after unnesting union operands
IMPALA-4387 - Validate decimal type in Avro file schema
IMPALA-4751 - For unknown query IDs, /query_profile_encoded?query_id=123 starts with an empty line.
IMPALA-4423 - Correct but conservative implementation of
Subquery.equals().
OOZIE-1814 - Oozie should mask any passwords in logs and REST interfaces
OOZIE-2582 - Populating external child IDs for action failures
OOZIE-2660 - Create documentation for DB Dump/Load functionality
PIG-3807 - Pig creates wrong schema after dereferencing nested tuple fields with sorts
PIG-3818 - PIG-2499 is accidentally reverted
SENTRY-858 - Add a test case for "Database prefix is not honoured when executing grant
statement"
SENTRY-1313 - Database prefix is not honoured when executing grant statement
SENTRY-1429 - Backport and fix conflicts in SENTRY-1454
SENTRY-1464 - Fix Sentry e2e test failure in
org.apache.sentry.tests.e2e.dbprovider.TestDbUriPermissions.testAlterPartitionLocationPrivileges
SOLR-9310 - PeerSync fails on a node restart due to IndexFingerPrint mismatch
SPARK-12009 - Avoid re-allocating YARN container while driver wants to stop all
executors
SPARK-12339 - Added a NullPointerException for executor stage kill from web UI
SPARK-12392 - Optimize a location order of broadcast blocks by considering preferred local
hosts
SPARK-12941 - Spark-SQL JDBC Oracle dialect fails to map string datatypes to Oracle VARCHAR
datatype
SPARK-12966 - ArrayType(DecimalType) support in Postgres JDBC
SPARK-13242 - codegen fallback in case-when if there many branches
SPARK-13328 - Poor read performance for broadcast variables with dynamic resource
allocation
SPARK-16625 - General data types to be mapped to Oracle
SPARK-16711 - YarnShuffleService does not re-init properly on YARN rolling upgrade
SPARK-17171 - DAG lists all partitions in the graph
SPARK-17433 - YarnShuffleService does not handle moving credentials levelDb
SPARK-17611 - Make shuffle service test really test authentication
SPARK-17644 - Do not add failedStages when abortStage for fetch failure
SPARK-17696 - Partial backport to branch-1.6.
SQOOP-2884 - Document --temporary-rootdir
SQOOP-2915 - Fixing Oracle-related unit tests
SQOOP-2952 - Fix Sqoop1 (import + --hbase-bulkload) row key not added into column family
SQOOP-2983 - OraOop export has degraded performance with wide tables
SQOOP-2986 - Add validation check for --hive-import and --incremental lastmodified
SQOOP-3021 - ClassWriter fails if a column name contains a backslash character
SQOOP-3034 - HBase import should fail fast if using anything other than as-textfile





Issues Fixed in CDH 5.9.0


CDH 5.9.0 fixes the following issues.

Apache Flume
Apache Hadoop
Apache HBase
Apache Hive
Hue
Apache Oozie
Cloudera Search
Upstream Issues Fixed




Apache Flume

Use SourceCounter for SyslogTcpSource

Bug: FLUME-2797
SyslogTcpSource uses a deprecated class. Use the newer SouceCounter class for SyslogTcpSource, and mark SyslogTcpSouce as deprecated.



SpillableMemoryChannel must start ChannelCounter

Bug: FLUME-2844
When using SpillableMemoryChannel, a bug causes the values of all metrics of channel component monitoring system to be zero.



Add localhost escape sequence to HDFS sink

Bug: FLUME-2982
The HDFS sink should just use localhost escape sequence instead of having to pass in a header and use the host interceptor.




Apache Hadoop

When removing a stored block, use stored BlockInfo for updating UnderReplicatedBlocks

Cloudera Bug: CDH-33233
During the removal of a stored block, BlockManager UnderReplicatedBlocks needs to be updated with the stored BlockInfo instead of the incoming Block, so that the Block with the correct
generation stamp is used to calculate any pending replication that needs to be triggered.



Fix a race condition in MetricsSourceAdapter.updateJmxCache

Bug: HADOOP-11361



KMS Server should log exceptions before throwing

Cloudera Bug: CDH-45378
Bug: HADOOP-13669HADOOP-13317
When KMS throws an exception, it is not logged anywhere, and the exception message can only be seen from the client side, not the stacktrace



LdapGroupsMapping getPassword should not return null when IOException throws

Bug: HADOOP-13353
When IOException throws in getPassword(), getPassword() returns a null string. This causes setConf() to throw a java.lang.NullPointerException.



Add detailed logging in KMS for the authentication failure of a proxy user

Bug: HADOOP-13526
The log message from AuthenticationFilter.java indicates that the user was successfully authenticated. However, when the filter on DelegationTokenAuthenticationFilter is called, it hits
an exception and there is no log message



UserGroupInformation created from a Subject incorrectly tries to renew the Kerberos ticket

Bug: HADOOP-13558
Cloudera Bug: CDH-45245



KMS should set UGI Configuration object properly

Bug: HADOOP-13638
The Configuration object in UGI in KMS server is not initialized properly, so it does not load core-site.xml from KMSConfiguration.KMS_CONFIG_DIR.



Throw helpful exception when DNS entry for JournalNode cannot be resolved

Bug: HDFS-4210
Cloudera Bug: CDH-43377



FSDirectory and FSNameSystem issues

Bug: HDFS-7415 HDFS-7420 HDFS-7463 HDFS-7478 HDFS-7517 HDFS-8269
Cloudera Bug: CDH-44736



Schedule a block for scanning if its metadata file is corrupt

Bug: HDFS-8224
Cloudera Bug: CDH-44945
A block with corrupt metadata is not scheduled for scanning by BlockPoolSliceScanner, so it is not reported as corrupt.



DiskBalancer: Use SHA1 for plan ID

Bug: HDFS-10559
SHA1 should be used as the plan ID instead of Sha512 because much shorter and easier to handle.



Improve plan command help message

Bug: HDFS-10567
The help message for the plan command needs to be clarified and corrected.



PlanCommand#getThrsholdPercentage should not use throughput value

Bug: HDFS-10600
Cloudera Bug: CDH-41858



Namenode should use loginUser(hdfs) to generateEncryptedKey

Bug: HDFS-10643
HDFS namenode login user (hdfs) should aways be used when talking to KMS to generateEncryptedKey for new file creation.



DataXceiver#run() should not log InvalidToken exception as an error

Bug: HDFS-10760
Cloudera Bug: CDH-32905
When the client has an expired token and refetches a new token, the DataNode logs an error.



Log DataNodes in the write pipeline

Bug: HDFS-10822
Cloudera Bug: CDH-43898
You cannot tell which DataNodes are involved in the write pipeline. A DEBUG trace should be added to print the list of DataNodes in the pipeline.



Reduce log level when network topology cannot find enough DataNodes

Bug: HDFS-10963
Cloudera Bug: CDH-44288
The warning-level log event should be reduced to help prevent unnecessary concern about the event.



Unnecessary INFO logging on DFSClients for InvalidToken

Bug: HDFS-11012
Cloudera Bug: CDH-32905
InvalidBlockTokenException should be changed to DEBUG to help prevent unnecessary concern about the event.



Potential memory leak in CryptoOutputStream

Bug: MAPREDUCE-6628
A potential memory leak in CryptoOutputStream.java allocates two direct byte buffers (inBuffer and outBuffer) that are freed when close() method is called.



Add progress log to JHS during startup

Bug: MAPREDUCE-6718
When the JHS starts up, it initializes the internal caches and storage through the HistoryFileManager. If a large number of finished jobs exist, this startup phase can last minutes
without logging progress.



RMContainerAllocator sends container diagnostics event after corresponding completion event

Bug: MAPREDUCE-6771
Diagnostics information may never get into .jhist file, so when the job completes, the diagnostics information associated with the failed task attempts is empty.



yarn node -list -all fails if ResourceManager starts with decommissioned node

Bug: YARN-4940




Apache HBase

Superuser does not consider the keytab credentials

Bug: HBASE-15622
The superuser added by default (the process running HBase) does not take in consideration the keytab credential.



Do not cache unresolved addresses for connections

Bug: HBASE-15856
During periods where DNS is not working properly, caching can occur for connections to Master or RegionServers where the initial hostname resolution and the resolution is never
reattempted. This causes clients to get UnknownHostException for any calls.



Overflows in AverageIntervalRateLimiter's refill() and getWaitInterval()

Bug: HBASE-16699



Mob compaction needs to clean up files in /hbase/mobdir/.tmp and /hbase/mobdir/.tmp/.bulkload when running into IO exceptions

Bug: HBASE-16767




Apache Hive

WebUI Elapsed Time may mislead users to mean query run time

Bug: HIVE-13420
Cloudera Bug: CDH-39011
When running queries from Hue, WebUI's elapsed time continuously increases.



Table not found error when trying to refresh column statistics in Metastore Manager

Bug: HIVE-10007
Cloudera Bug: CDH-42873
When you try to refresh column statistics in the Metastore Manager, it fails with the following error message:

Error while compiling statement: FAILED: SemanticException
[Error 10001]: Line 1:157 Table not found ''



StorageBasedAuthorizationProvider requires write permission on table for SELECT

Bug: HIVE-11901
Cloudera Bug: CDH-43893
StorageBasedAuthorizationProvider requires write permission on table for SELECT statements.



Subquery inside a view will have the object in the subquery as the direct input

Bug: HIVE-14805
Cloudera Bug: CDH-45077



Hive query fails from HUE for some users

Bug: HIVE-14784
Cloudera Bug: CDH-44088
Operation logging is disabled automatically for the query if for some reason the parent directory (named after the Hive session ID) created when the session is established gets
deleted.



Hive throws NumberFormatException with query with Null value

Bug: HIVE-14715
Cloudera Bug: CDH-44193




Hue

[editor] Improved autocompleter

Bug: HUE-4039



[editor] Improve result table scroll performance and fix header positioning

Bug: HUE-4910



[editor] Progress status and truncating warning when direct downloading results as Excel

Bug: HUE-4438



[fb] Allow to browse S3 (other filesystems)

Bug: HUE-2915



[editor] Export query result to S3

Bug: HUE-4367



[metastore] UX create table from a file, S3 or from a directory

Bug: HUE-4425



[core] Missing some security related response headers

Bug: HUE-4372



Wildcard Certificates not supported

Cloudera Bug: CDH-39117
Hue now supports wildcard certificates and certificates using Subject Alternative Name (SAN).



Cookie without HttpOnly flag set

Cloudera Bug: CDH-41607
The HttpOnly flag is now in the response header, preventing cookies from being accessed through a client side script.



Password reveal should be disabled

Cloudera Bug: CDH-41952
The Password Reveal button is now disabled on Internet Explorer.



Web server and platform version disclosure should be prevented

Cloudera Bug: CDH-41953
Web server and platform versions were removed from the response headers.




Apache Oozie

Oozie Web Console returns 500 error when Oozie server runs on JDK 8u75 or higher

Bug: OOZIE-2533
Cloudera Bug: CDH-40362
The Oozie Web Console returns a 500 error when the Oozie server is running on JDK 8u75 and higher. The Oozie server still functions, and you can use the Oozie command line, REST API,
Java API, or the Hue Oozie Dashboard to review status of those jobs.



Oozie should mask any passwords in logs and REST interfaces

Bug: OOZIE-1814
The following passwords are currently visible in the instrumentation log, REST endpoints, WebUI, and CLI and should be masked:
javax.net.ssl.trustStorePassword
oozie.https.keystore.pass
HADOOP_CREDSTORE_PASSWORD
OOZIE_HTTPS_KEYSTORE_PASSWORD
OOZIE_HTTPS_TRUSTSTORE_PASSWORD




Cloudera Search

Crunchindexertool YARN job reports success even when indexing fails

Cloudera Bug: CDH-45888
When running a Spark indexer job that fails due to shards being down, Kerberos failures, or other problems), the YARN final status is still reported as SUCCEEDED when it should be
failed.




Upstream Issues Fixed

The following upstream issues are fixed in CDH 5.9.0:

FLUME-2797 - Use SourceCounter for SyslogTcpSource
FLUME-2844 - SpillableMemoryChannel must start ChannelCounter
FLUME-2909 - Upgrade RAT to 0.11
FLUME-2920 - Kafka Channel Should Not Commit Offsets When Stopping
HADOOP-11031 - Design Document for Credential Provider API
HADOOP-11149 - Increase the timeout of TestZKFailoverController
HADOOP-11180 - Change log message "token.Token: Cannot find class for token kind kms-dt" to
debug
HADOOP-11814 - Reformat hadoop-annotations, o.a.h. classification.tools
HADOOP-11872 - hadoop dfs command prints message about using "yarn jar" on Windows
(branch-2 only)
HADOOP-12465 - Incorrect Javadoc in WritableUtils.java
HADOOP-12537 - S3A to support Amazon STS temporary credentials
HADOOP-12548 - Read s3a creds from a Credential Provider
HADOOP-12589 - Fix intermittent test failure of TestCopyPreserveFlag
HADOOP-12613 - TestFind.processArguments occasionally fails
HADOOP-12636 - Prevent ServiceLoader failure init for unused FileSystems
HADOOP-12723 - S3A: Add ability to plug in any AWSCredentialsProvider
HADOOP-12800 - Copy docker directory from 2.8 to 2.7/2.6 repos to enable pre-commit Jenkins
runs
HADOOP-12847 - Hadoop daemonlog should support https and SPNEGO for Kerberized cluster
HADOOP-12893 - Verify LICENSE.txt and NOTICE.txt
HADOOP-12928 - Update netty to 3.10.5.Final to sync with ZooKeeper
HADOOP-12991 - Conflicting default ports in DelegateToFileSystem
HADOOP-13098 - Dynamic LogLevel setting page should accept case-insensitive log level
string
HADOOP-13103 - Group resolution from LDAP may fail on
javax.naming.ServiceUnavailableException
HADOOP-13154 - S3AFileSystem printAmazonServiceException/printAmazonClientException appear
copy and paste of AWS examples
HADOOP-13189 - FairCallQueue makes callQueue larger than the configured capacity
HADOOP-13192 - org.apache.hadoop.util.LineReader cannot handle multibyte delimiters
correctly
HADOOP-13202 - Avoid possible overflow in
org.apache.hadoop.util.bloom.BloomFilter#getNBytes
HADOOP-13228 - Add delegation token to the connection in DelegationTokenAuthenticator
HADOOP-13254 - Create framework for configurable disk checkers
HADOOP-13290 - Appropriate use of generics in FairCallQueue
HADOOP-13297 - Add missing dependency in setting maven-remote-resource-plugin to fix
builds
HADOOP-13298 - Fix the leftover L&N files in
hadoop-build-tools/src/main/resources/META-INF/
HADOOP-13316 - Enforce Kerberos authentication for required ops in
DelegationTokenAuthenticator
HADOOP-13350 - Additional fix to LICENSE and NOTICE
HADOOP-13351 - TestDFSClientSocketSize buffer size tests are flaky
HADOOP-13362 - DefaultMetricsSystem leaks the source name when a source unregisters
HADOOP-13380 - TestBasicDiskValidator should not write data to /tmp
HADOOP-13395 - Enhance TestKMSAudit
HADOOP-13443 - KMS should check the type of underlying keyprovider of KeyProviderExtension
before falling back to default
HADOOP-13461 - NPE in KeyProvider.rollNewVersion
HADOOP-13476 - CredentialProviderFactory fails at class loading from libhdfs (JNI)
HADOOP-13494 - ReconfigurableBase can log sensitive information
HADOOP-13526 - Add detailed logging in KMS for the authentication failure of proxy
user
HADOOP-13558 - UserGroupInformation created from a Subject incorrectly tries to renew the
Kerberos ticket
HADOOP-13579 - Fix source-level compatibility after HADOOP-11252
HADOOP-13638 - KMS should set UGI's Configuration object properly
HDFS-2580 - NameNode#main(...) can make use of GenericOptionsParser
HDFS-4176 - EditLogTailer should call rollEdits with a timeout
HDFS-7415 - Move FSNameSystem.resolvePath() to FSDirectory
HDFS-7420 - Delegate permission checks to FSDirectory
HDFS-7463 - Simplify FSNamesystem#getBlockLocationsUpdateTimes
HDFS-7478 - Move org.apache.hadoop.hdfs.server.namenode.NNConf to FSNamesystem
HDFS-7517 - Remove redundant non-null checks in FSNamesystem#getBlockLocations
HDFS-7934 - Update RollingUpgrade rollback documentation: should use bootstrapstandby for
standby NN
HDFS-8101 - DFSClient use of non-constant DFSConfigKeys pulls in WebHDFS classes at
runtime
HDFS-8224 - Schedule a block for scanning if its metadata file is corrupt
HDFS-8269 - getBlockLocations() does not resolve the .reserved path and generates incorrect
edit logs when updating the atime
HDFS-8521 - Add VisibleForTesting annotation to BlockPoolSlice#selectReplicaToDelete
HDFS-8600 - TestWebHdfsFileSystemContract.testGetFileBlockLocations fails in branch-2.7
HDFS-8608 - Merge HDFS-7912 to trunk and branch-2 (track BlockInfo instead of Block in
UnderReplicatedBlocks and PendingReplicationBlocks)
HDFS-8633 - Fix setting of dfs.datanode.readahead.bytes in hdfs-default.xml to match
DFSConfigKeys
HDFS-8682 - Should not remove decommissioned node while calculating the number of live/dead
decommissioned nodes
HDFS-8780 - Fetching live/dead datanode list with arg true for removeDecommissionNode,returns
list with decom node
HDFS-9033 - dfsadmin -metasave prints "NaN" for cache used%
HDFS-9048 - DistCp documentation is out-of-date
HDFS-9413 - getContentSummary() on standby should throw StandbyException
HDFS-9530 - ReservedSpace is not cleared for abandoned Blocks
HDFS-9533 - seen_txid in the shared edits directory is modified during bootstrapping
HDFS-9601 - NNThroughputBenchmark.BlockReportStats should handle NotReplicatedYetException on
adding block
HDFS-9696 - Garbage snapshot records linger forever
HDFS-9765 - TestBlockScanner#testVolumeIteratorWithCaching fails intermittently
HDFS-9781 - FsDatasetImpl#getBlockReports can occasionally throw NullPointerException
HDFS-10225 - DataNode hot swap drives should disallow storage type changes
HDFS-10245 - Fix the findbugs warnings in branch-2.7
HDFS-10335 - Mover$Processor#chooseTarget() always chooses the first matching target storage
group
HDFS-10336 - TestBalancer failing intermittently because of not reseting UserGroupInformation
completely
HDFS-10347 - Namenode report bad block method doesn't log the bad block or datanode
HDFS-10458 - getFileEncryptionInfo should return quickly for non-encrypted cluster
HDFS-10474 - hftp copy fails when file name with Chinese+special char in branch-2
HDFS-10623 - Remove unused import of httpclient.HttpConnection from TestWebHdfsTokens
HDFS-10625 - VolumeScanner to report why a block is found bad
HDFS-10641 - TestBlockManager#testBlockReportQueueing fails intermittently
HDFS-10653 - Optimize conversion from path string to components
HDFS-10688 - BPServiceActor may run into a tight loop for sending block report when hitting
IOException
HDFS-10691 - FileDistribution fails in hdfs oiv command due to
ArrayIndexOutOfBoundsException
HDFS-10693 - metaSave should print blocks, not LightWeightHashSet
HDFS-10703 - HA NameNode Web UI should show last checkpoint time
HDFS-10716 - In Balancer, the target task should be removed when its size < 0
HDFS-10879 - TestEncryptionZonesWithKMS#testReadWrite fails intermittently
HDFS-10962 - TestRequestHedgingProxyProvider is flaky
HDFS-10963 - Reduce log level when network topology cannot find enough datanodes
MAPREDUCE-6242 - Progress report log is incredibly excessive in application master
MAPREDUCE-6259 - IllegalArgumentException due to missing job submit time
MAPREDUCE-6374 - Distributed Cache File visibility should check permission of full
path
MAPREDUCE-6533 - testDetermineCacheVisibilities of TestClientDistributedCacheManager is
broken
MAPREDUCE-6628 - Potential memory leak in CryptoOutputStream
MAPREDUCE-6633 - AM should retry map attempts if the reduce task encounters commpression
related errors
MAPREDUCE-6641 - TestTaskAttempt fails in trunk
MAPREDUCE-6652 - Add configuration property to prevent JHS from loading jobs with a task
count greater than X
MAPREDUCE-6718 - Add progress log to JHS during startup
MAPREDUCE-6724 - Single shuffle to memory must not exceed Integer#MAX_VALUE
MAPREDUCE-6741 - Add MR support to redact job conf properties
MAPREDUCE-6751 - Add debug log message when splitting is not possible due to unsplittable
compression
MAPREDUCE-6771 - RMContainerAllocator sends container diagnostics event after
corresponding completion event
YARN-3212 - RMNode State Transition Update with DECOMMISSIONING state
YARN-3226 - UI changes for decommissioning node
YARN-3445 - Cache runningApps in RMNode for getting running apps on given NodeId
YARN-4556 - TestFifoScheduler.testResourceOverCommit fails
YARN-4568 - Fix message when NodeManager runs into errors initializing the recovery
directory
YARN-4702 - FairScheduler: Allow setting maxResources for ad hoc queues
YARN-4940 - yarn node -list -all failed if RM start with decommissioned node
YARN-5024 - TestContainerResourceUsage#testUsageAfterAMRestartWithMultipleContainers random
failure
YARN-5343 - TestContinuousScheduling#testSortedNodes fails intermittently
YARN-5434 - Add -client|server argument for graceful decommmission
YARN-5483 - Optimize RMAppAttempt#pullJustFinishedContainers
YARN-5549 - AMLauncher#createAMContainerLaunchContext() should not log the command to be
launched indiscriminately
YARN-5566 - Client-side NM graceful decom is not triggered when jobs finish
YARN-5655 - TestContainerManagerSecurity#testNMTokens is asserting
HBASE-15396 - Enhance mapreduce.TableSplit to add encoded region name
HBASE-15856 - Don't cache unresolved addresses for connections
HBASE-15889 - String case conversions are locale-sensitive, used without locale
HBASE-15891 - Closeable resources potentially not getting closed if exception is thrown
HBASE-15946 - Eliminate possible security concerns in Store File metrics
HBASE-16023 - Fastpath for the FIFO rpcscheduler
HBASE-16035 - Nested AutoCloseables might not all get closed
HBASE-16096 - Backport. Cleanly remove replication peers from ZooKeeper
HBASE-16140 - Bump owasp.esapi from 2.1.0 to 2.1.0.1
HBASE-16294 - hbck reporting "No HDFS region dir found" for replicas
HBASE-16379 - [replication] Minor improvement to replication/copy_tables_desc.rb
HBASE-16450 - Shell tool to dump replication queues
HBASE-16699 - Overflows in AverageIntervalRateLimiter's refill() and getWaitInterval()
HBASE-16767 - Mob compaction needs to clean up files in /hbase/mobdir/.tmp and
/hbase/mobdir/.tmp/.bulkload when running into IO exceptions
HIVE-4570 - Add more information to GetOperationStatus in HiveServer2 when query is still
executing
HIVE-6758 - Beeline doesn't work with -e option when started in background
HIVE-9013 - Hive set command exposes metastore db password
HIVE-9302 - Beeline add commands to register local jdbc driver names and jars
HIVE-9570 - Investigate test failure on union_view
HIVE-9657 - Use new parquet Types API builder to construct data types
HIVE-10190 - CBO: AST mode checks for TABLESAMPLE with AST.toString().contains
HIVE-10485 - Create md5 UDF
HIVE-10624 - Update the initial script to make beeline bucked cli as default and allow user
choose old hive cli by env
HIVE-10684 - Fix the unit test failures for HIVE-7553 after HIVE-10674 removed the binary jar
files
HIVE-10705 - Update tests for HIVE-9302 after removing binaries
HIVE-10722 - External table creation with msck in Hive can create unusable partition
HIVE-10755 - Rework on HIVE-5193 to enhance the column oriented table access
HIVE-10824 - Need to update start script changes in .cmd files
HIVE-10904 - Use beeline-log4j.properties for migrated CLI [beeline-cli Branch]
HIVE-10965 - Direct SQL for stats fails in 0-column case
HIVE-11028 - Tez: table self join and join with another table fails with
IndexOutOfBoundsException
HIVE-11226 - BeeLine-Cli: support hive.cli.prompt in new CLI
HIVE-11236 - BeeLine-Cli: use the same output format as old CLI in the new CLI
HIVE-11280 - Support executing script file from hdfs in new CLI [Beeline-CLI branch]
HIVE-11316 - Use datastructure that doesnt duplicate any part of string for
ASTNode::toStringTree()
HIVE-11336 - Support initial file option for new CLI [beeline-cli branch]
HIVE-11352 - Avoid the double connections with 'e' option [beeline-cli branch]
HIVE-11375 - Broken processing of queries containing NOT (x IS NOT NULL and x <>
0)
HIVE-11490 - Lazily call ASTNode::toStringTree() after tree modification
HIVE-11624 - Beeline-cli: support hive.cli.print.header in new CLI [beeline-cli branch]
HIVE-11637 - Support hive.cli.print.current.db in new CLI [beeline-cli branch]
HIVE-11640 - Shell command doesn't work for new CLI [Beeline-cli branch]
HIVE-11717 - nohup mode is not supported for new hive CLI
HIVE-11746 - Connect command should not to be allowed from user [beeline-cli branch]
HIVE-11796 - CLI option is not updated when executing the initial files [beeline-cli]
HIVE-11943 - Set old CLI as the default Client when using Hive script
HIVE-11944 - Address the review items on HIVE-11778
HIVE-11990 - Loading data inpath from a temporary table dir fails on Windows
HIVE-12018 - beeline --help doesn't return to original prompt
HIVE-12080 - Support auto type widening (int->bigint & float->double) for Parquet
table
HIVE-12083 - HIVE-10965 introduces thrift error if partNames or colNames are empty
HIVE-12215 - Exchange partition does not show outputs field for post/pre execute hooks
HIVE-12246 - Orc FileDump fails with Missing CLI jar
HIVE-12259 - Command containing semicolon is broken in Beeline
HIVE-12345 - Followup for HIVE-9013 : Hidden conf vars still visible through beeline
HIVE-12475 - Parquet schema evolution within array<struct<>> does not work
HIVE-12590 - Repeated UDAFs with literals can produce incorrect result
HIVE-12721 - Add UUID built in function
HIVE-12785 - View with union type and UDF to the struct is broken
HIVE-12834 - Fix to accept the arrow keys in BeeLine CLI
HIVE-12983 - Provide a builtin function to get Hive version
HIVE-12987 - Add metrics for HS2 active users and SQL operations
HIVE-13058 - Add session and operation_log directory deletion messages
HIVE-13093 - Hive metastore does not exit on start failure
HIVE-13151 - Clean up UGI objects in FileSystem cache for transactions
HIVE-13198 - Authorization issues with cascading views
HIVE-13237 - Select parquet struct field with upper case throws NPE
HIVE-13381 - Timestamp and date should have precedence in type hierarchy than string
group
HIVE-13420 - Clarify HS2 WebUI Query 'Elapsed Time'
HIVE-13462 - HiveResultSetMetaData.getPrecision() fails for NULL columns
HIVE-13502 - Beeline doesnt support session parameters in JDBC URL as documentation
states
HIVE-13620 - Merge llap branch work to master
HIVE-13625 - Hive Prepared Statement when executed with escape characters in parameter
fails
HIVE-13645 - Beeline needs null-guard around hiveVars and hiveConfVars read
HIVE-13670 - Improve Beeline connect/reconnect semantics
HIVE-13783 - Display a secondary prompt on beeline for multi-line statements
HIVE-13788 - hive msck listpartitions need to make use of directSQL instead of
datanucleus
HIVE-13953 - Issues in HiveLockObject equals method
HIVE-13964 - Add a parameter to beeline to allow a properties file to be passed in
HIVE-13984 - Use multi-threaded approach to listing files for msck
HIVE-13987 - Clarify current error shown when HS2 is down
HIVE-13997 - Insert overwrite directory doesn't overwrite existing files
HIVE-14001 - Beeline doesn't give out an error when takes either "-e" or "-f" in command
instead of both
HIVE-14013 - Describe table doesn't show unicode properly
HIVE-14037 - java.lang.ClassNotFoundException for the jar in hive.reloadable.aux.jars.path in
mapreduce
HIVE-14074 - RELOAD FUNCTION should update dropped functions
HIVE-14075 - BeeLine.java.orig was accidentally committed during HIVE-14001 patch
HIVE-14085 - Allow type widening primitive conversion on hive/parquet tables
HIVE-14090 - JDOExceptions thrown by the Metastore have their full stack trace returned to
clients
HIVE-14135 - Beeline output not formatted correctly for large column widths
HIVE-14137 - Hive on Spark throws FileAlreadyExistsException for jobs with multiple empty
tables
HIVE-14149 - Joda Time causes an AmazonS3Exception on Hadoop3.0.0
HIVE-14151 - Use of USE_DEPRECATED_CLI environment variable does not work
HIVE-14153 - Beeline: beeline history doesn't work on Hive2
HIVE-14207 - Strip HiveConf hidden params in webui conf
HIVE-14215 - Displaying inconsistent CPU usage data with MR execution engine
HIVE-14226 - Invalid check on an ASTNode#toStringTree in CalcitePlanner
HIVE-14267 - HS2 open_operations metrics not decremented when an operation gets timed
out
HIVE-14270 - Write temporary data to HDFS when doing inserts on tables located on S3
HIVE-14294 - HiveSchemaConverter for Parquet doesn't translate TINYINT and SMALLINT into
proper Parquet types
HIVE-14296 - Session count is not decremented when HS2 clients do not shutdown cleanly
HIVE-14342 - Beeline output is garbled when executed from a remote shell
HIVE-14360 - Starting BeeLine after using !save, there is an error logged: "Error setting
configuration: conf"
HIVE-14383 - SparkClientImpl should pass principal and keytab to spark-submit instead of
calling kinit explicitely
HIVE-14426 - Extensive logging on info level in WebHCat
HIVE-14513 - Enhance custom query feature in LDAP atn to support resultset of ldap
groups
HIVE-14588 - Add S3 credentials to the hidden configuration variable supported on
HIVE-14207
HIVE-14715 - Hive throws NumberFormatException with query with Null value
HIVE-14743 - ArrayIndexOutOfBoundsException - HBASE-backed views' query with JOINs
HIVE-14784 - Operation logs are disabled automatically if the parent directory does not
exist
HIVE-14799 - Query operation not thread safe during its cancellation
HIVE-14805 - Subquery inside a view will have the object in the subquery as the direct
input
HIVE-14848 - PROPOSEDS3 creds added to a hidden list by HIVE-14588 are not working on MR
jobs
HIVE-14889 - Beeline leaks sensitive environment variables of HiveServer2 when you type
set
HUE-2645 - [oozie] Better Spark action UX
HUE-2975 - [aws] Add S3 UploadFileHandler and implement upload to S3
HUE-3065 - [desktop] Fix test_redact_statements
HUE-3065 - [desktop] Allow searching of raw SQL in saved queries
HUE-3227 - [connector] Java snippet
HUE-3278 - [core] Migrate Google Analytics from ga.js to analytics.js and use https if
possible
HUE-3308 - [spark] Migrate Livy to external respository
HUE-3324 - [editor] Create initial jison parser
HUE-3325 - [editor] Generate the parser using the makefile
HUE-3326 - [editor] Introduce the cursor and add suggestions for possible statements
HUE-3327 - [editor] Suggest tables after select
HUE-3328 - [editor] Follow case in keyword suggestions
HUE-3329 - [editor] Include database references with table suggestions
HUE-3348 - [indexer] Update deprecated field in schema.xml
HUE-3394 - [notebook] Jar submit button is always disabled
HUE-3647 - [editor] SELECT statement that starts with a comment cannot be saved to table
HUE-3667 - [sentry] Support TListSentryPrivilegesByAuthRequest v2
HUE-3764 - [editor] When exporting results to a new table, the new table is not shown
HUE-3765 - [editor] Graphing with many columns is not readable
HUE-3786 - [editor] Search box and foreach binding in the snippet DB list dropdown
HUE-3788 - [home] No way to middle click to open document in a new tab
HUE-3795 - [editor] Scroll lock a row to enable comparison with other rows
HUE-3797 - [oozie] API to create workflow for Hive documents
HUE-3799 - [editor] Impala logs have a new line
HUE-3831 - [oozie] Show operations inside the HDFS fs graph node for external workflows
HUE-3838 - [oozie] Deprecate jar_path copy and use oozie.libpath instead for actions with
jars
HUE-3842 - [core] HTTP 500 while emptying Hue 3.9 trash directory
HUE-3885 - [metastore] Add check to prevent space in table name in both create table wizards
HUE-3896 - [editor] Add search on column list result set
HUE-3897 - [metastore] Add column search on the table page
HUE-3913 - [editor] Drag and drop table names is flaky
HUE-3921 - [fb] Clicking outside of an empty upload window does not close it
HUE-3941 - [search] Use sentry base solr config for examples when Sentry is on
HUE-3954 - [search] Editing record more than once will error because of old version id
HUE-3956 - [sentry] Browse to table does not load the object in v1
HUE-3959 - [core] Double blurry login popup on /security/solr page
HUE-3960 - [editor] Implement virtual rendering of the result table
HUE-3981 - [core] Restyle the login page a little
HUE-3997 - [core] Add useradmin feature that resets axes lockouts
HUE-3998 - [oozie] Blacklisting oozie prevents hue launch
HUE-4002 - [editor] Add parser support for all generic SQL test cases from the old
autocompleter
HUE-4003 - [editor] Add parser support for HDFS path completion
HUE-4004 - [editor] Make all parser tests pass from the previous autocompleter
HUE-4008 - [core] Expandable and fixed close icon for error popup
HUE-4014 - [editor] Weird scroll and menu part hidden when a few rows
HUE-4016 - [editor] Add configuration option to enable the new autocompleter
HUE-4017 - [editor] Make ace editor suggestions from the new autocompleter
HUE-4018 - [editor] Error when canceling a query that is slow being submitted
HUE-4020 - [editor] Canceling query at wrong timing breaks the editor
HUE-4022 - [doc] Promote docker image to get ramped up quicker
HUE-4024 - [editor] The new autocompleter should suggest identifiers and aliases
HUE-4025 - [editor] Add keyword completion based on the current parser capabilities
HUE-4027 - [editor] New autocompleter should support functions with descriptors and types
HUE-4032 - [editor] Identify locations of databases, tables, columns and functions
HUE-4037 - [doc] Update docker image with 3.10
HUE-4040 - [editor] US map blinks when hovering texas
HUE-4041 - [editor] Auto select axes value if there is only one possible choice
HUE-4043 - [editor] Bubble up error about queries with \u2002 fails
HUE-4044 - [editor] Copy pasted query with \u2002 fails
HUE-4048 - [editor] Clicking on .. of a file settings deletes the snippet header and the row
HUE-4051 - [hive] Have lighter Impala and Hive check configs call than list DBs
HUE-4054 - [oozie] Improve of bundle inputs
HUE-4055 - [oozie] Upgrade oozie spark action to support spark-action:0.2 schema version
HUE-4056 - [home] Click on trash icons errors
HUE-4058 - [home] Rename a directory
HUE-4059 - [editor] Lost the green bar when the query finishes on query execution
HUE-4062 - [editor] Formatting action add extra spaces after group by and skip LIMIT
HUE-4063 - [home] 'done' button on wizard redirects to old home2
HUE-4064 - [editor] Format creation and update date on the table details popover
HUE-4066 - [editor] Put a toggle all columns in the result column list
HUE-4067 - [assist] Fix issue with truncated columns of the last assist entry
HUE-4068 - [metastore] Format date and file size of table stats
HUE-4068 - [metastore] Show owners and last time instead of files and size
HUE-4069 - [metastore] Add scroll to top on sample and column pages of a table
HUE-4070 - [editor] Uncheck all freezes the browser with many columns
HUE-4071 - [metastore] Table columns should sorted on their initial table order
HUE-4072 - [editor] Focus on input search box when opening result column filtering
HUE-4073 - [editor] Scroll to column in result set does not update the horizontal scroll bar
HUE-4074 - [editor] Clicking on table in assist sometimes expand or insert the name
HUE-4076 - [editor] Column value autocomplete does not filter duplicates
HUE-4077 - [editor] Decimal not supported in bar charts
HUE-4079 - [editor] Amount of 2M is missing a zero in the Y axis of bar charts
HUE-4080 - [editor] Delete queries from editor does not send to the trash
HUE-4081 - [core] Skip idle session timeout relogin popup on running jb jobs call when idle
session timeout is disabled
HUE-4083 - [editor] Bar charts gets all of the same color
HUE-4085 - [editor] Fixed result col headers when cell is wide
HUE-4088 - [oozie] Make workflow action parameter dragabble
HUE-4089 - [editor] Keyboard shortcut for a new query and save query
HUE-4096 - [oozie] Fix unit tests for HUE-4054
HUE-4097 - [core] Still print error message when Oracle connector is not configured
HUE-4099 - [editor] Allow searching of raw SQL in query history
HUE-4100 - [core] First user login checks are not displayed
HUE-4101 - [editor] Hide search input when input is empty and it loses focus
HUE-4102 - [editor] Move session settings to a context panel
HUE-4103 - [core] Upgrade Font Awesome to 4.6.3
HUE-4104 - [core] Introduce Roboto as a main font
HUE-4105 - [editor] Make the editor 'editorType' a ko variable
HUE-4106 - [editor] Move schedule edition to the context panel
HUE-4107 - [desktop] Add a 'managed' field to Document2
HUE-4109 - [oozie] First pass at refactoring Coordinator editor to be pluggable
HUE-4110 - [editor] Skeleton of running schedule actions
HUE-4111 - [editor] Toggle to show or hide the column search field on result is always on
HUE-4112 - [oozie] Automatically persist the workflow of a scheduled query
HUE-4115 - [oozie] Automatically persist the coordinator of a scheduled query
HUE-4116 - [editor] Loads the coordinator of the query
HUE-4118 - [fb] Context menu can be hidden by bottom bar
HUE-4120 - [core] Update NVD3 color palette
HUE-4121 - [oozie] Improve UX of entering args to distcp action in workflow editor
HUE-4122 - [editor] Examples should have isSaved set to true
HUE-4123 - [core] Verify id parameter values in GET requests
HUE-4127 - [oozie] SLA can not be enabled for a coordinator
HUE-4130 - [core] Triple amount of lines in the /logs page
HUE-4131 - [assist] Search on the query editors should be case insensitive
HUE-4133 - [search] Queries don't handle field names that contain spaces
HUE-4135 - [editor] Automatically update on save the variables of a scheduled query
HUE-4136 - [fb] Fix normpath and parent path logic for aws fs
HUE-4137 - [editor] Open editor, create query and save it, click on Saved queries will have one
item
HUE-4138 - [editor] Last modified time of a saved query is not in the correct timezone
HUE-4140 - [editor] Do not reload saved query list when opening a saved query
HUE-4141 - [oozie] Graph breaks for external workflows when there is more than one kill node
HUE-4142 - [aws] Enable S3 browse option in filebrowser
HUE-4143 - [editor] Snippet configuration layout is broken
HUE-4144 - [editor] Add search functionality to snippet DB selection
HUE-4147 - [editor] Older queries after upgrade do not have any document1
HUE-4149 - [editor] Integrated progress report of MR jobs
HUE-4151 - [oozie] Avoid dashboard page crash when coordinator does not exist in Oozie
HUE-4152 - [oozie] Managed document property blocks access to workflows of coordinators
HUE-4155 - [home] Improve document drag to select
HUE-4156 - [oozie] Do not list the managed worklows in the coordinator editor
HUE-4157 - [aws] Fix aws config_check
HUE-4158 - [oozie] Do not lose existing values when renaming variables
HUE-4160 - [editor] Do not create multiple coordinator for a new saved query
HUE-4161 - [editor] Autocomplete tables and columns in update statements
HUE-4163 - [aws] Implement S3 mkdir operation
HUE-4166 - [metastore] Sample data dialog can't display very long table name properly
HUE-4167 - [aws] Implement S3 rmtree operation
HUE-4170 - [aws] Fix S3 object timestamp
HUE-4173 - [editor] Enable autocomplete when there are backticks in table and database names
HUE-4174 - [editor] Fix nested type autocompletion of arrays, maps and structs
HUE-4175 - [editor] Improved autocompletion after WHERE
HUE-4176 - [editor] Autocomplete field values
HUE-4180 - [editor] JS error on help icon
HUE-4183 - [fb] Offer two File Browser links when S3 is configured
HUE-4184 - [editor] Set the result legend section as fixed
HUE-4186 - [editor] Create a batch_oozie connector
HUE-4187 - [editor] Integrate batch submission in the UI
HUE-4190 - [oozie] Option to return coordinator id instead of redirect in coordinator submission
popup
HUE-4191 - [oozie] Prevent 500 error when listing a workflow which coordinator is none
HUE-4192 - [editor] Document2 matching query does not exist when saving
HUE-4193 - [search] Toggling on all the fields of a grid widgets breaks
HUE-4194 - [editor] Autocomplete CREATE DATABASE
HUE-4195 - [editor] Last digit of multiquery can be hidden
HUE-4196 - [editor] Catch open notebook errors
HUE-4197 - [editor] Autocomplete for DROP TABLE, DATABASE and SCHEMA
HUE-4198 - [metastore] Sample fetch breaks the page when it fails with error 1
HUE-4199 - [editor] Make the editor 'editorMode' a ko variable
HUE-4200 - [editor] Autocompletion of SHOW statements
HUE-4203 - [editor] Column search on resultset is not empty, do a scroll to any column will hide
the search input
HUE-4204 - [editor] Add autocompletion support for CAST functions
HUE-4205 - [doc2] Ignore history dependencies on import
HUE-4206 - [notebook] Ignore history and other calls in notebook mode
HUE-4207 - [doc2] Delete history command to clean up old history or orphaned history
HUE-4210 - [editor] Don't revert to Hive on browser refresh of new Impala query
HUE-4211 - [editor] Autoexpand query editor sometimes bugs the result headers
HUE-4212 - [hive] Also provide if the job is started or finished
HUE-4216 - [editor] The editor type title blinks at page load and shows all the different
types
HUE-4217 - [editor] Autocomplete for DESCRIBE
HUE-4218 - [oozie] Refresh parameters of a d&dropped action
HUE-4219 - [oozie] Add quick link to selected d&dropped query
HUE-4220 - [oozie] Saving a workflow make the save button blink
HUE-4223 - [oozie] No indication that ${} can be used as parameters
HUE-4225 - [editor] Colors are flipped when sorting bar results in reverse order
HUE-4228 - [search] Used to be able to toggle the field list of grid widget
HUE-4229 - [oozie] js error when selecting another query in the hive document action
HUE-4230 - [core] Finer version number logging
HUE-4232 - [notebook] Bulk operation button is gone
HUE-4234 - [editor] Improved JOIN autocompletion
HUE-4236 - [editor] Changing fields of a query we chart should reselect default values for the
axis
HUE-4239 - [liboauth] Does not handle "next" urls, always sending user back to homepage
HUE-4240 - [filebrowser] Remove unused sortby param returned from listdir
HUE-4241 - [editor] Schedule are showing up in home
HUE-4242 - [editor] Add a message when query submission takes time
HUE-4243 - [aws] Only raise aws warning if default account configs are provided
HUE-4244 - [indexer] First skeleton on scalable indexer
HUE-4245 - [editor] Autocomplete subqueries in FROM and WHERE
HUE-4246 - [libsaml] SAML Integration Doesn't Check Forwarded Protocol
HUE-4247 - [batch] Support for batch pyspark or spark
HUE-4248 - [liboauth] OAuth integration Redirect URL is Assumed to be HTTP
HUE-4250 - [editor] Add configurable timeout for autocompletion API calls
HUE-4251 - [editor] Explain on incorrect query should not error
HUE-4262 - [editor] Improve performances of the table fixed header
HUE-4266 - [indexer] Add geo, host, grok, split operations
HUE-4268 - [core] Do not remove the table fixed rows on plugin redraw
HUE-4269 - [editor] Improve sample popover
HUE-4270 - [fb] Enable S3 on the file pickers
HUE-4271 - [editor] New autocompleter should support UDAFs and numeric expressions
HUE-4275 - [core] Avoid filechooser modals to scroll to the action buttons on modal open
HUE-4276 - [editor] Autocomplete around arithmetic operations and support BETWEEN, EXISTS, RLIKE
and REGEX
HUE-4277 - [fb] Add endpoint that returns enabled status for each filesystem
HUE-4278 - [useradmin] Provide basic useradmin API
HUE-4279 - [editor] Shrink back the editor if the query is not big enough and it hasn't been
resized manually
HUE-4281 - [editor] Fail gracefully and return an error when trying to import a wrong/corrupted
JSON file
HUE-4285 - [editor] Fix Scatter plot display
HUE-4290 - [editor] Style the coordinator history on the context panel
HUE-4291 - [metastore] Do not use smallints in the create table from file wizard
HUE-4296 - [core] Need info message if kt_renwer exits due to no hue_keytab
HUE-4298 - [security] Offer ability to resize the Impersonate the user drop down in Hue security
app
HUE-4301 - [editor] Autocomplete for Impala extract function
HUE-4302 - [editor] New autocompleter should suggest DISTINCT or ALL where appropriate in
aggregate functions
HUE-4303 - [useradmin] Reintroduce '?' icon displaying description of each field
HUE-4304 - [core] Pie slices shrink after wrong timing of resize of the pie
HUE-4306 - [editor] The new autocompleter should complete CASE functions
HUE-4307 - [editor] Goto line number shorter conflicts with highlighting the address bar contents
in Safari
HUE-4308 - [editor] UX lock rows keep adding rows when clicking on the same
HUE-4309 - [editor] UX lock rows should tooltip about clicking to lock and delete icon on
hover
HUE-4310 - [fb] File chooser picker modal should have action buttons fixed to the bottom
HUE-4311 - [fb] Add boto http_socket_timeout configuration
HUE-4312 - [editor] Load query history, loses editor type when clicking on new query
HUE-4313 - [editor] The new autocompleter should accept non-reserved keywords for DBs, tables,
columns etc
HUE-4315 - [editor] Error when sharing a query with R permission
HUE-4317 - [jb] Logs on attempt page do not make links to job id
HUE-4320 - [editor] New autocompleter should make suggestions based on type in value
expressions
HUE-4322 - [impala] Better error message when user already downloaded all the impala resultset
cache
HUE-4324 - [editor] Batch API get_jobs() should return the job ids
HUE-4325 - [editor] Toggle the execute action depending on if last execution was batch or not
HUE-4326 - [editor] Keep snippet DB list in sync like the assist
HUE-4327 - [editor] Disable batch submit by default when oozie is not setup
HUE-4328 - [editor] File chooser in 'In HDFS (large file)' always open on /
HUE-4329 - [editor] Multi query does not go past statement 1
HUE-4331 - [editor] Log call should return only the additional ones after the first call
HUE-4332 - [indexer] Add Hue logs as a supported file type
HUE-4334 - [editor] Update status to error when canceling batch job
HUE-4335 - [editor] New autocompleter should handle date types
HUE-4337 - [editor] The autocompleter should suggest backticked values when applicable
HUE-4340 - [indexer] Fix double matching and set required field default to false
HUE-4341 - [indexer] Use info level logging for morphlines, add error handling for invalid
dates
HUE-4342 - [editor] DB prefix autocomplete can be lost
HUE-4343 - [editor] Improved autocompletion in select list
HUE-4344 - [fb] Buffer reading parquet file and limit in size
HUE-4345 - [aws] Fix Actions when viewing an S3 file in filebrowser
HUE-4347 - [core] Rename tests_convert.py to follow test conventions
HUE-4348 - [indexer] Refactor format types such that all information is in one place
HUE-4351 - [editor] Show number of columns in the query result
HUE-4352 - [indexer] Fix typo for grok dictionary file exists check
HUE-4354 - [core] Warn than SQLite is the cause of the 'Database locked' error
HUE-4355 - [indexer] Add i18n for arguments and extension based file type guessing
HUE-4356 - [fb] File chooser picker does not select S3 tab when opening an existing path
HUE-4357 - [oozie] Return the launcher task logs when submitting Oozie batch job
HUE-4358 - [meta] Split metadata services into two
HUE-4360 - [meta] Read configuration from a properties file
HUE-4363 - [core] Do not rely on import hadoop config before loading core
HUE-4366 - [metastore] Add an option to create a table from a file in an external location
HUE-4367 - [editor] Export query result to S3
HUE-4371 - [editor] Enable the new autocompleter by default
HUE-4372 - [core] Backport Django Security middleware or add HTTP security headers
HUE-4373 - [home] Exporting / Importing queries should handle associated workflows and
coordinator
HUE-4374 - [editor] No autocomplete appearing in ORDER BY with an operation
HUE-4376 - [indexer] Added assist panel and filechooser
HUE-4377 - [editor] Autocompleter should support variable references like '${var}' in
statements
HUE-4378 - [core] File chooser with multiple options overflow the modals
HUE-4379 - [editor] Autocompleter should support CREATE TABLE statements
HUE-4380 - [assist] Only enable navigator search when configured
HUE-4384 - [indexer] Add support for combined apache log files
HUE-4385 - [indexer] Stop the indexer from dropping text fields that are under 100 characters
long
HUE-4386 - [editor] Make it possible to turn autocomplete on or off
HUE-4390 - [core] Do not re-create a new user for each request in demo mode
HUE-4391 - [editor] Blacklisting Oozie should not break the editor
HUE-4392 - [fb] S3 buckets should have a different icon
HUE-4393 - [fb] S3 bucket should not have any file upload or file creation action
HUE-4394 - [fb] Home button redirects to HDFS even if on S3
HUE-4395 - [fb] S3 delete bucket implementation
HUE-4396 - [fb] Delete button should be 'delete forever' all the time
HUE-4397 - [fb] Hide upload archive in S3
HUE-4398 - [fb] API should check if bucket already exists in the region and bubble up the
error
HUE-4399 - [fb] Renaming a key (non-bucket directory) creates an extraneous empty file
HUE-4400 - [fb] Disable chmod and summary for S3 for now
HUE-4401 - [fb] Do not return any date for bucket and directory objects
HUE-4402 - [fb] S3 copy action is not using the picker and fails
HUE-4403 - [aws] Close file after read using fast=True
HUE-4407 - [assist] Tables and views checkboxes can't be clicked
HUE-4410 - [editor] Fix editor size issue for large pasted queries
HUE-4413 - [dbms] Security: Full XSS in DBQuery editor
HUE-4414 - [editor] Allow to send queries even after closing the session
HUE-4415 - [editor] Disable "Save" button in query export unless output is filled
HUE-4416 - [editor] Do not save the coordinator constants in the json model
HUE-4417 - [aws] Switch from s3 to s3a to enable direct save to S3
HUE-4418 - [editor] Sessions tab doesn't display properly once the Settings is expanded
HUE-4419 - [editor] The new autocompleter should suggest columns from sub-queries
HUE-4421 - [editor] New saved query should be schedulable
HUE-4423 - [editor] Persist the coordinator ID of a submitted schedule
HUE-4424 - [librdbms] Support more than one database
HUE-4425 - [metastore] UX create table from a file, S3 or from a directory
HUE-4426 - [editor] The new autocompleter should work with all SQL dialects
HUE-4427 - [metastore] Filepicker should allow directories when selecting external table
HUE-4429 - [oozie] Generate unique workspace for managed workflows
HUE-4430 - [editor] Batch execution often fails to show any output
HUE-4431 - [editor] Batch mode does not always update the query
HUE-4432 - [editor] The new autocompleter should be more forgiving when editing incomplete UDFs in
select list
HUE-4433 - [editor] The new autocompleter should handle analytical functions
HUE-4434 - [editor] Fixed header has a wrong offset in fullscreen when the editor is manually
resized
HUE-4435 - [test] Add list_modules subcommand to `hue test`
HUE-4436 - [hive] Fix test_install_examples tests to point at the database configured in
BeeswaxSampleProvide
HUE-4437 - [editor] The autocompleter should handle multiple db references in table primaries for
Impala
HUE-4438 - [editor] Progress status and truncating warning when direct downloading results as
Excel
HUE-4439 - [notebook] Fix notebook TestHiveserver2ApiWithHadoop.test_explain
HUE-4440 - [editor] Assist slightly scrolls horizontally
HUE-4441 - [editor] Set result menu as fixed
HUE-4442 - [editor] Improve column list scroll bars
HUE-4443 - [security] Automatically default secure_ssl_redirect to True when HTTPS is setup
HUE-4444 - [beeswax] test_analyze_table_and_read_statistics doesn't test correctly with Hive
2
HUE-4445 - [fb] Return correct result response on file upload
HUE-4448 - [hbase] Change test_list_tables hbase test to query each cluster name
HUE-4449 - [indexer] Add ruby log to indexer
HUE-4450 - [desktop] Fix HTTPS termination using X-Forwarded-Proto header
HUE-4451 - [editor] Add tooltips to result set legend
HUE-4452 - [metadata] Fix optimizer view name and update navigator API version to v9
HUE-4454 - [security] Disclosure of Web Server Information
HUE-4455 - [security] secure_content_security_policy breaks the editor and GA
HUE-4457 - [editor] Column legend horizontal scroll bar are missing until you scroll down
HUE-4459 - [indexer] Add morphline generation tests for each file format
HUE-4461 - [metastore] If create external table is selected, input path needs to be a
directory
HUE-4462 - [editor] Status and progress report when downloading large Excel files
HUE-4463 - [editor] Result column search on column types too
HUE-4464 - [editor] Result column quick scroll does not scroll with a search
HUE-4465 - [notebook] Bump the darkness of the non selected icons
HUE-4466 - [security] Deliver csrftoken cookie with secure bit set if possible
HUE-4467 - [indexer] Add field operation morphline generation tests for each operation
HUE-4469 - [editor] Can have lot of white spaces below the query
HUE-4470 - [editor] Snippet properties for File filechooser always starts at /
HUE-4471 - [indexer] Add geoip operation automatically to hue format
HUE-4474 - [indexer] Let user set an existing field to unique id
HUE-4475 - [editor] Lines are not expanded when loading a long query from the cookie
HUE-4476 - [editor] Add RESET to the Hive highlight
HUE-4478 - [editor] Style the editor settings panel
HUE-4479 - [indexer] Allow indexing multiple files on the same collection
HUE-4480 - [meta] Filter SQL objects in the backend
HUE-4481 - [editor] Show a message when the Excel results have been truncated
HUE-4483 - [core] Do not use backticks in the ini files
HUE-4484 - [editor] Add column name and type to the title of column browser
HUE-4485 - [editor] Scroll to assist entries from search result
HUE-4486 - [editor] Add back sorting to the result table
HUE-4487 - [editor] Result table search
HUE-4488 - [editor] Show result row detail view
HUE-4489 - [editor] The new autocompleter should allow white space between UDF name and
parenthesis
HUE-4490 - [oozie] Generate workflow from Java snippet
HUE-4491 - [fb] Enable creating buckets on S3
HUE-4492 - [indexer] Migrate to the oozie library to submit the java indexer job
HUE-4494 - [indexer] Add a load from JSON function to Create Index Wizard
HUE-4495 - [assist] Switching DB does not display the tables
HUE-4498 - [security] Fixed Content Security Policy blocks PDF in HBase app
HUE-4499 - [editor] Gradient map not always showing on the editor
HUE-4501 - [indexer] Add basic hive CSV file format outline to indexer
HUE-4502 - [editor] Fix issue with column type precision
HUE-4503 - [fb] Disable timestamp for S3 buckets and folders
HUE-4505 - [editor] Resultset search is too transparent
HUE-4506 - [editor] Provide more information why query couldn't be saved
HUE-4507 - [editor] Cannot see column names in the gradient map visualization
HUE-4508 - [editor] Search in result set is issuing a js error
HUE-4511 - [editor] Field scroll does not scroll or grey the column
HUE-4512 - [editor] Header and column not always aligned
HUE-4513 - [editor] Use weights for keyword autocompletion
HUE-4514 - [beeswax] Fix test_explain_query and test_explain_query_i18n for default execution
engine Tez
HUE-4516 - [indexer] Switching file types doesn't update fields properly in the indexer
wizard
HUE-4518 - [editor] Use different icon for the column list
HUE-4519 - [fb] Check for user permissions first before uploading
HUE-4521 - [editor] Hide/show column doesn't work on fixed rows
HUE-4522 - [beeswax] Remove max_rows limit for HiveServer2 get_configuration
HUE-4523 - [editor] Enable resizing of the column list panel
HUE-4524 - [hadoop] Fix test_yarn_ssl_validate which assumes default YARN_CLUSTER is defined
HUE-4526 - [oozie] API to generate sequential workflow with sequential document actions
HUE-4527 - [indexer] Date fields that aren't required can crash the indexing job
HUE-4530 - [indexer] Only warn when the collection name is empty
HUE-4531 - [fb] Enable deleting buckets on S3
HUE-4534 - [indexer] Fix syslog groking for smart indexer
HUE-4535 - [editor] Add autocomplete for CREATE and ALTER statements
HUE-4536 - [editor] Load query generates JS error
HUE-4538 - [search] Field detail popup cannot always be closed
HUE-4539 - [search] Remove field collapse icon
HUE-4540 - [jb] Lower max number of jobs displayed on the main page
HUE-4542 - [editor] Column filter should be 100% of the column list width
HUE-4544 - [indexer] Extend Parquet morphline to support generic fields
HUE-4548 - [editor] Sample popup tab seems off
HUE-4549 - [core] Missing file for the collect static plugin
HUE-4550 - [fb] Fix file chooser for S3 after S3A migration
HUE-4551 - [editor] The new autocompleter should support CTEs (WITH) and UNION
HUE-4552 - [editor] Improve performance on checking/unchecking all fields
HUE-4553 - [oozie] The dashboard table scrolls horizontally
HUE-4554 - [editor] Status checking can go in infinite loop in batch mode
HUE-4555 - [core] Avoid opening file chooser on enter key
HUE-4556 - [core] Fix coverage failure due to missing source files
HUE-4559 - [indexer] Enable Select Fields button when a path has been entered into wizard
HUE-4560 - [core] Add permissions controls to authorize access to S3 across all components
HUE-4562 - [editor] Switching to marker map makes the page freeze
HUE-4563 - [impala] Handle case for non-string partition keys or values
HUE-4564 - [core] Log stderr on failure to coerce password from script
HUE-4565 - [core] Update natural sort algorithm
HUE-4566 - [metastore] Query created by Browse Data action should have a limit and semi-colon
HUE-4567 - [aws] Read AWS credentials from configured script files
HUE-4568 - [editor] Export a query to an index
HUE-4569 - [editor] If we don't have a query history select the saved query tab
HUE-4570 - [editor] Autocomplete popup disappears even when calling it when typing
HUE-4572 - [core] Fix HueDataTable with multiple instances on the same page
HUE-4573 - [editor] The autocompleter should support carriage return in statements
HUE-4574 - [editor] Enable autocompletion after '-' without whitespace
HUE-4575 - [core] Add notice to hue.ini regarding the custom maps and security
HUE-4576 - [editor] Fix autocompletion before OR in value expressions
HUE-4577 - [editor] The new autocompleter should support CREATE, DROP and SET ROLE
HUE-4579 - [editor] The new autocompleter should support Hive INSERT statements
HUE-4580 - [editor] The new autocompleter should support ANALYZE TABLE
HUE-4581 - [editor] The new autocompleter should support DROP FUNCTION
HUE-4582 - [editor] The new autocompleter should fully support LOAD
HUE-4584 - [editor] The new autocompleter should support DELETE
HUE-4586 - [editor] The new autocompleter should support GROUPING SETS, CUBE and ROLLUP
HUE-4587 - [editor] The new autocompleter should completely support EXPLAIN
HUE-4588 - [editor] The new autocompleter should support SET
HUE-4589 - [editor] The new autocompleter should completely support COMPUTE and DROP STATS
HUE-4590 - [editor] The new autocompleter should support INVALIDATE METADATA
HUE-4591 - [editor] The new autocompleter should support REFRESH
HUE-4598 - [editor] Empty table list sometimes the first time
HUE-4600 - [editor] Result table headers breaks on sort
HUE-4601 - [fb] Creating a bucket with a not allowed name on S3 will HTTP 500
HUE-4603 - [fb] Disable bucket move and copy
HUE-4604 - [editor] Locked rows does not go well with headers
HUE-4605 - [fb] Move and copy in S3 have the HDFS path autocompleters in the popup
HUE-4609 - [editor] Resizing the window should resize also the column list/grid
HUE-4610 - [editor] Avoid trembling of fixed headers on query editing
HUE-4611 - [editor] Export to S3 should not say HDFS
HUE-4614 - [editor] Query result search box always present when switching tabs
HUE-4618 - [editor] Query selection highlighting does not stay
HUE-4621 - [core] On loaddata failure, print stdout to logs
HUE-4623 - [editor] ON and ASC and DESC are not being highlighted on Impala
HUE-4624 - [editor] Doing enter in the query result search box could go to the next match
HUE-4625 - [fb] S3 filechooser popup do not display the parent directory as
HUE-4626 - [fb] S3 in the filechooser do not show up with FF
HUE-4628 - [useradmin] Improve and unify help icons
HUE-4631 - [home] DB transaction failing because of atomic block on home page
HUE-4632 - [oozie] Log which type of oozie action are created in workflows
HUE-4633 - [notebook] Disable by default Oozie integration until 3.12
HUE-4634 - [editor] The autocompleter should allow some errors in the select list
HUE-4637 - [editor] Scroll on column list is extremly slow on Linux
HUE-4638 - [editor] Infinite scroll blinks the fixed legend when fetching the next 100 batch
HUE-4640 - [editor] Fix for DB prefix autcomplete when typing table names after "? FROM db."
HUE-4641 - [indexer] GeoIP will stop indexing if an IP is missing from it's lookup table
HUE-4642 - [editor] Ace autocomplete should honour the weights for partial matching
HUE-4643 - [editor] Autocompleter is silent for the second argument of concat
HUE-4644 - [editor] Don't refresh the assist 5 seconds after loading a query
HUE-4645 - [core] Disable inline display of SVG files
HUE-4646 - [core] The initial welcome wizard redirects to the old home
HUE-4647 - [home] Better align new document dropdown
HUE-4648 - [security] The File ACLs tree doesn't render if there's a file in the HDFS root
HUE-4649 - [sqoop] SqoopResource got broken after change in Resource
HUE-4650 - [fb] Selecting S3A from filechooser is not displaying the S3 filesystem
HUE-4651 - [fb] Prevent inline display of non authorized mime types
HUE-4652 - [core] Add settings for django-axes AXES_BEHIND_REVERSE_PROXY and
AXES_REVERSE_PROXY_HEADER
HUE-4657 - [indexer] A failed grok match attempt will stop indexing
HUE-4658 - [doc] Update release 3.11
HUE-4659 - [editor] The new autocompleter should merge columns from multiple tables when
suggesting columns
HUE-4660 - [editor] Ace autocomplete spinner disappears too quick
HUE-4661 - [core] Demo backend should keep the admin user logged in
HUE-4665 - [editor] Autocompletion of lateral views should not have parenthesis around the column
aliases
HUE-4666 - [search] Use the actual Hue user for impersonating in non secure mode
HUE-4667 - [editor] Geo plotting of states is case sensitive
HUE-4668 - [fb] S3 rename directory raises IOError
HUE-4670 - [metastore] Allow headers to be ignored/removed when creating external table
HUE-4671 - [fb] S3 create bucket should allow underscores in name
HUE-4673 - [fb] S3 bucket names should automatically lowercase them
HUE-4675 - [metastore] Assist not loaded and pointing to the source on the create table from a
file page
HUE-4676 - [editor] Table header is not XSS safe
HUE-4678 - [editor] The label on marker maps is not updated to reflect what you choose on the left
side dropdown
HUE-4682 - [editor] Scroll to a col, reexec the query, the greyed column is still there
HUE-4683 - [editor] Export result question mark icon does nothing
HUE-4684 - [editor] No placeholder showing up in new editors
HUE-4686 - [fb] Bubble up error when trying to create directory in / in filechooser
HUE-4688 - [metastore] Authorize the selection of a directory in the create table from a file
wizard
HUE-4689 - [fb] D&D a file into a directory in S3 gets 'RenameFormFormSet' object has no
attribute 'data'
HUE-4691 - [fb] S3 D&D is allowed after a page refresh but not after opening a directory
HUE-4696 - [editor] JS .top error on certain reload/execute combos
HUE-4697 - [editor] The autocompleter should suggest select list aliases
HUE-4699 - [editor] Autocompleter fix for decimal values
HUE-4701 - [editor] Older saved queries throw "'NoneType' object has no attribute
'update_data'"
HUE-4703 - Fixing[yarn] Correct username is not used on hard failover
HUE-4704 - [security] Fixed Arbitrary host header accepted in Hue
HUE-4705 - [editor] Possible XSS when hovering on saved query description
HUE-4706 - [core] Importing documents should ignore reserved directories
HUE-4707 - [aws] Enable non-US region support for AWS S3
HUE-4708 - [aws] Add test_rename for directory rename in S3
HUE-4709 - [editor] Search does not load cells when navigating
HUE-4713 - [oozie] Spark example should use yarn client mode and show how to add dependencies
HUE-4718 - [core] jHueScrollUp pollutes the DOM with more than one scroll up anchor
HUE-4719 - [editor] Search disappears on load of new records
HUE-4720 - [oozie] Drag & Drop saved Spark app into a workflow
HUE-4724 - [editor] Closing the table search should un-highlight the selected cell
HUE-4725 - [editor] The autocompleter should handle Impala complex types in the table list
HUE-4727 - [fb] Raise warning if CHECKACCESS is not supported
HUE-4732 - [editor] Autocomplete should work inside parenthesized value expressions
HUE-4733 - [editor] Autocompleter doesn't support arithmetic operations in in value list
HUE-4734 - [editor] Autocompleter should trigger after '.' when autocomplete as you type is
enabled
HUE-4735 - [editor] The autocompleter should also suggest tables with '.' when suggesting columns
from multiple tables
HUE-4736 - [editor] The autocompleter throws JS error
HUE-4737 - [core] Upgrade boto to 2.42.0
HUE-4742 - [core] Data sample popup HueDataTable renders weirdly on FF
HUE-4747 - [editor] Download form should be submitted to a new tab otherwise the snippet gets
closed
HUE-4753 - [editor] The autocompleter doesn't merge columns correctly
HUE-4754 - [editor] Increase default autocompleter API timeout to 5 seconds
HUE-4758 - [editor] The autocompleter should suggest keywords at the start of a statement
HUE-4759 - [editor] Don't suggest tables in the select list when there is a FROM clause
HUE-4760 - [core] Fix error with indexer config when search is disabled
HUE-4763 - [editor] Update the editor keyword highlight rules for Hive and Impala
HUE-4767 - [editor] Limit the autocompleter length before and after the cursor
HUE-4768 - [editor] Autocomplete is being called multiple times when the cursor is on top of '*'
in a select statement
HUE-4769 - [editor] The autocompleter should support INSERT OVERWRITE DIRECTORY
HUE-4773 - [editor] Autocompleter spins forever when completing subqueries containing
asterisk
HUE-4787 - [editor] Fixing Marker map tiles are not showing up
HUE-4801 - [core] Do not hide the username in small resolution
HUE-4804 - [search] Download function of HTML widget breaks the display
HUE-4809 - [oozie] Only add trustore paths when they are actually existing
HUE-4810 - [core] Fix tests by setting data to valid JSON type
HUE-4813 - [core] Disable collecting referrer URL in Google Analytics
HUE-4823 - [fb] Display exception when Hue is configured with invalid S3 access key
HUE-4827 - [fb] Pointing to a wrong S3 region breaks with no information
HUE-4871 - [useradmin] An unprivileged user can enumerate users
HUE-4882 - [editor] Redraw fixed header on column toggling
HUE-4891 - [useradmin] An unprivileged user can list document items
HUE-4910 - [editor] Improve result table scroll performance and fix header positioning
HUE-4916 - [core] Truncate last name to 30 chars on ldap import
HUE-4917 - [fb] S3 upload progress of large files is not consistent
HUE-4921 - [oozie] Workflow dashboard page should not fail when properties have unicode
characters
HUE-4928 - [oozie] New Spark action can't be added in workflows
HUE-4935 - [aws] Enable support for AWS security token
HUE-4938 - [editor] Fix issue where the map crashes the browser for large coordinate values
HUE-4941 - [editor] Fixed Content Security Policy directive blocks an image when navigating on
marker map
HUE-4968 - [oozie] Remove access to /oozie/import_wokflow when v2 is enabled
HUE-4994 - [oozie] Consider default path for decision nodes in dashboard graph
HUE-4996 - [editor] Nested types can not be extended in assist
HUE-4997 - [impala] get_partitions is not being closed
HUE-4998 - [impala] get_configuration is not being closed
HUE-4999 - [impala] Set default Impala idle_session_timeout to 1 hour
HUE-5007 - [core] Get ride of bad utf8 character when doing make-locale
HUE-5007 - [core] Update localization for de, es, fr, ja, ko, zh
HUE-5014 - [core] Prevent copying a Document folder into itself which then creates a recursive
depth issue
HUE-5040 - [notebook] Keep the progress bar to 99% orange until the status of query is READY
HUE-5041 - [editor] Hue export large file to HDFS doesn't work on non-default database
HUE-5050 - [core] Logout fails for local login when multiple backends are used
IMPALA-1112 - Remove some unncessary code from
cross-compilation
IMPALA-1240 - add back spilling sort now that sorter is not flaky
IMPALA-1440 - test for insert mem limit
IMPALA-3018 - Address various small memory allocation related bugs
IMPALA-1619 - Support 64-bit allocations
IMPALA-1633 - GetOperationStatus should set errorMessage and sqlState
IMPALA-1671 - Print time and link to coordinator web UI once query is submitted in shell
IMPALA-1683 - Allow REFRESH on a single partition
IMPALA-2347 - Reuse metastore client connections in Catalog
IMPALA-2459 - Implement next_day date/time UDF
IMPALA-2700 - ASCII NUL characters are doubled on insert into text tables
IMPALA-2767 - Web UI call to force expire sessions
IMPALA-2878 - Fix Base64Decode error and remove duplicate codes
IMPALA-2885 - ScannerContext::Stream objects should be owned by ScannerContext
IMPALA-2979 - Fix scheduling on remote hosts
IMPALA-3018 - Don't return NULL on zero length allocations
IMPALA-3063 - Separate join inversion from join ordering
IMPALA-3084 - Cache the sequence of table ref and materialized tuple ids during analysis
IMPALA-3181 - Add noexcept to some functions
IMPALA-3201 - buffer pool header only
IMPALA-3206 - Enable codegen for AVRO_DECIMAL
IMPALA-3210 - last/first_value() support for IGNORE NULLS
IMPALA-3223 - Remove boost multiprecision in thirdparty
IMPALA-3225 - Add script to push from gerrit to ASF
IMPALA-3227 - generate test TPC data sets during data load
IMPALA-3253 - Modify gen_build_version.sh to always output the right version
IMPALA-3336 - qgen: do not randomly generate query options
IMPALA-3376 - Extra definition level when writing Parquet files
IMPALA-3418 - The Impala FE project relies on Z-tools snapshot builds
IMPALA-3442 - Replace '> >' with '>>' in template decls
IMPALA-3449 - Kudu deploy.py should find clusters by displayName
IMPALA-3454 - Kudu deletes may fail if subqueries are used
IMPALA-3470 - DecompressorTest is flaky
IMPALA-3491 - Merge test_hbase_metadata.py into compute_stats.py. Use unique db fixture
IMPALA-3501 - ee tests: detect build type and support different timeouts based on the same
IMPALA-3507 - update binutils version to fix slow linking
IMPALA-3521 - Impalad should communicate with the statestore after binding to the hs2 and
besswax ports
IMPALA-3530 - Clean up test_ddl.py. Part 1
IMPALA-3567 - Part 1: groundwork to make Join build sides DataSinks
IMPALA-3575 - Add retry to backend connection request and rpc timeout
IMPALA-3587 - Get rid of not_default_fs skip marker
IMPALA-3600 - Add missing admission control tests
IMPALA-3606 - Fix Java NPE when trying to add an existing partition
IMPALA-3611 - track unused Disk IO buffer memory
IMPALA-3627 - Clean up RPC structures in ImpalaInternalService
IMPALA-3632 - Add script for runnig cppclean over the BE code
IMPALA-3647 - track runtime filter memory in separate tracker
IMPALA-3656 - Hitting DCHECK/CHECK does not write minidumps
IMPALA-3664 - S3A test_keys_do_not_work fails
IMPALA-3674 - Lazy materialization of LLVM module bitcode
IMPALA-3677 - Write minidump on SIGUSR1
IMPALA-3682 - Don't retry unrecoverable socket creation errors
IMPALA-3687 - Prefer Avro field name during schema reconciliation
IMPALA-3715 - Include total usage of JVM memory
IMPALA-3715 - Include more info by default in Impala debug memz webpage
IMPALA-3716 - Add Memory Tab in query's Details page
IMPALA-3727 - Change microbenchmarks to use percentile-based reporting
IMPALA-3729 - batch_size=1 coverage for avro scanner
IMPALA-3734 - C++11 - Replace boost:shared_ptr with std:: equivalent
IMPALA-3736 - Move Impala HTTP handlers to a separate class
IMPALA-3737 - Local filesystem build failed loading custom schemas
IMPALA-3751 - fix clang build errors and warnings
IMPALA-3753 - Disable create table test for old aggs and joins
IMPALA-3756 - Fix wrong argument type in HiveStringsTest
IMPALA-3757 - Add missing lock in RuntimeProfile::ComputeTimeInProfile
IMPALA-3762 - Download Python requirements before they are needed
IMPALA-3763 - download_requirements fixes
IMPALA-3764 - fuzz test HDFS scanners and fix parquet bugs found
IMPALA-3767 - bootstrap_virtualenv fails to find cython distribution
IMPALA-3774 - fix download_requirements for older Python versions
IMPALA-3778 - Fix ASF packaging build
IMPALA-3779 - Disable cache pool reader thread when HDFS isn't running
IMPALA-3780 - avoid many small reads past end of block
IMPALA-3786 - Remove "Cloudera" from impalad webpage title
IMPALA-3790 - AC tests timeout in codecoverage builds
IMPALA-3799 - Make MAX_SCAN_RANGE_LENGTH accept formatted quantities
IMPALA-3806 - remove a few modern shell idioms to improve RHEL5 support
IMPALA-3817 - Ensure filter hash function is the same on all hardware
IMPALA-3839 - Fix race condition in impala_cluster.py
IMPALA-3843 - Update warning for non-SSSE3 CPUs
IMPALA-3845 - Split up hdfs-parquet-scanner.cc into more files/components
IMPALA-3852 - Remove Derby and Shiro FE dependencies
IMPALA-3854 - Fix use-after-free in HdfsTextScanner::Close()
IMPALA-3856 - Fix BinaryPredicate normalization for Kudu
IMPALA-3857 - KuduScanNode race on returning "optional" threads
IMPALA-3864 - qgen: reduce likelihood of create_query() exceptions
IMPALA-3866 - consistent user-facing terminology for scratch dirs
IMPALA-3881 - Add DataTables 1.10.12 to www/
IMPALA-3886 - Improve log of pip_download.py
IMPALA-3892 - qgen: always run Impala with
-convert_legacy_hive_parquet_utc_timestamps=true
IMPALA-3905 - Add HdfsScanner::GetNext() interface and implementation for Parquet
IMPALA-3906 - Materialize implicitly referenced IR functions
IMPALA-3914 - SKIP_TOOLCHAIN_BOOTSTRAP skips Python package downloads
IMPALA-3918 - Remove Cloudera copyrights and add ASF license header
IMPALA-3923 - fix overflow in BufferedTupleStream::GetRows()
IMPALA-3924 - Ubuntu16 support
IMPALA-3936 - BufferedBlockMgr fixes for Pin() while write in flight
IMPALA-3939 - Data loading may fail on tpch kudu
IMPALA-3943 - Do not throw scan errors for empty Parquet files
IMPALA-3946 - fix MemPool integrity issues with empty chunks
IMPALA-3952 - Clear scratch batch mem pool if Open() failed
IMPALA-3953 - Fixes for KuduScanNode BE test failure
IMPALA-3954 - Add unique_database to scanner test
IMPALA-3957 - Test failure in S3 build: TestLoadData.test_load
IMPALA-3964 - Fix crash when a count(*) is performed on a nested collection
IMPALA-3969 - stress test: add option to set common query options
IMPALA-3972 - Improve display of /varz page
IMPALA-3992 - bad shell error message when running nonexistent
file
IMPALA-3223 - Fix the include path for Hadoop's header files
IMPALA-3253 - Modify gen_build_version.sh to always output the right version
IMPALA-3832 - Merge "fix DCHECK calling AddDetail() on an OK status" into cdh5-trunk
IMPALA-3832 - fix DCHECK calling AddDetail() on an OK status
IMPALA-3905 - Fixes for the modified HdfsScanner interface
OOZIE-1814 - Oozie should mask any passwords in logs and REST interfaces
OOZIE-2244 - Oozie should mask passwords in the logs when logging command arguments
OOZIE-2349 - Method getCoordJobInfo(String jobId, String filter, int offset, int length,
boolean desc) is not present in LocalOozieClientCoord
OOZIE-2362 - SQL injection in BulkJPAExecutor
OOZIE-2402 - oozie-setup.sh sharelib create takes a long time on large clusters
OOZIE-2447 - Illegal character 0x0 oozie client
OOZIE-2462 - When calling ParamChecker.notNull() in CoordActionsIgnoreXCommand.java, 'Action'
should be passed instead of 'Action cannot be null'
OOZIE-2467 - Oozie can shutdown itself on long GC pause
OOZIE-2475 - Oozie does not cleanup action dir of killed actions
OOZIE-2476 - When one of the action from fork fails with transient error, WF never joins
OOZIE-2493 - TestDistcpMain deletes action.xml from wrong filesystem
OOZIE-2515 - Duplicate information for 'Changing endtime/pausetime of a Bundle Job' in
CommandLineTool wiki
OOZIE-2516 - Update web service documentation for jobs API
OOZIE-2539 - Incorrect property key is used for 'hive log4j configuration file for execution
mode'
OOZIE-2541 - Possible resource leak in Hive2Credentials
OOZIE-2542 - Option to disable OpenJPA BrokerImpl finalization
OOZIE-2546 - Improperly closed resources in OozieDBCLI
OOZIE-2551 - Feature request: epoch timestamp generation
OOZIE-2552 - Update ActiveMQ version for security and other fixes
OOZIE-2553 - Cred tag is required for all actions in the workflow even if an action does not
require it
OOZIE-2556 - TestAbandonedCoordChecker.testCatchupJob is flaky
OOZIE-2574 - Oozie to support replication-enabled mysql urls
OOZIE-2578 - Oozie example distcp job fails to run within an encrypted zone with checksum
match error
OOZIE-2579 - Bulk kill tests in TestBulkWorkflowXCommand might fail because of a race
condition
OOZIE-2581 - Oozie should reset SecurityManager in finally block
OOZIE-2587 - Disable SchedulerService on certain tests
OOZIE-2603 - Give thread pools a meaningful name in CallableQueueService and SchedulerService
TestCoordActionsKillXCommand.testActionKillCommandActionNumbers and testActionKillCommandDate
OOZIE-2623 - Oozie should use a dummy OutputFormat
OOZIE-2632 - Provide database dump/load functionality to make database migration easier
OOZIE-2660 - Create documentation for DB Dump/Load functionality
PIG-2949 - JsonLoader only reads arrays of objects
PIG-3413 - JsonLoader fails the pig job in case of malformed json input
PIG-3619 - Update piggybank to include XPath function
PIG-3664 - Piggy Bank XPath UDF can't be called
PIG-3730 - Performance issue in SelfSpillBag
PIG-3970 - Increase PermGen size, tests ran out of memory
PIG-4355 - Piggybank: XPath cant handle namespace in xpath, nor can it return more than one
match
PIG-4787 - CHD:14987: BackportLog JSONLoader exception while parsing records
SENTRY-1201 - Sentry ignores database prefix for MSCK statement
SENTRY-1208 - Make HOST implied in privileges if not specified explicitly
SENTRY-1228 - SimpleFileProviderBackend error message, remove missing spaces
SENTRY-1230 - Add filesystem tests to test Sentry with user data storage on S3
SENTRY-1231 - Sentry doesn't secure index location uri, when do "CREATE INDEX LOCATION
''/uri"
SENTRY-1252 - grantServerPrivilege and revokeServerPrivilege should treat * and ALL as synonyms when action is not explicitly specified
SENTRY-1253 - SentryShellKafka incorrectly sets component as
"KAFKA"
SENTRY-1265 - Sentry service should not require a TGT
SENTRY-1269 - Converter vs Convertor - spelling inconsistent
SENTRY-1292 - Reorder DBModelAction EnumSet
SENTRY-1293 - Avoid converting string permission to Privilege object
SENTRY-1299 - Add a test case to verify SentryStore#verifySentryStoreSchema works
SENTRY-1311 - Improve usability of URI privileges by supporting mixed use of URIs with and
without scheme
SENTRY-1320 - Truncate table db_name.table_name fails
SENTRY-1334 - backport[column level privileges] test and add test for CTAS and Create View
AS SELECT (cross databases cases)
SENTRY-1345 - ACLS on table folder disappear after insert for unpartitioned tables
SENTRY-1376 - Fix alter property case correctly - Deletes ACLS on the table
SENTRY-1378 - Login fails for a secure Sentry Web UI
SENTRY-1416 - kafka-sentry tool service name default is different from KafkaSentryAuthorizer
default service name
SENTRY-1429 - TestHDFSIntegration improvements
SENTRY-1454: Fix intermittent timeout issue for TestHDFSIntegration
SENTRY-1447 - When s3 is configured as HDFS defaultFS and Hive Warehouse Dir, need to fix
some e2e test failures
SENTRY-1450 - Have privilege converter set by Kafka binding
SENTRY-1453 - Enable passing sentry client cache configs from Kafka conf
SENTRY-1233 - Logging improvements for SentryConfigToolSolr.
SENTRY-1119 - Allow data engines to obtain the ActionFactory
directly from the configuration, instead of having hardcoded component-specific classes. This will allow external data engines to integrate with Sentry easily.
SENTRY-1229 - Added a basic configurable cache to SentryGenericProviderBackend.
SOLR-5750 - Backup/Restore API for SolrCloud
SOLR-5922 - Add support for adding core properties to SolrJ Collection Admin Request
calls
SOLR-6637 - Solr should have a way to restore a core
SOLR-6761 - Ability to ignore commit and optimize requests from clients when running in
SolrCloud mode
SOLR-7294 - Migrate API fails with 'Invalid status request: notfoundretried 6times'
message
SOLR-7374 - Backup/Restore should provide a param for specifying the directory implementation
it should use
SOLR-7766 - Support creation of a coreless collection
SOLR-8449 - Multiple restores on the same core does not work
SOLR-9055 - Make collection backup/restore extensible
SOLR-9242 - Collection level backup/restore should provide a param for specifying the
repository implementation it should use
SOLR-9269 - Ability to create/delete/list snapshots for a solr core
SOLR-9310 - PeerSync fails on a node restart due to IndexFingerPrint mismatch
SOLR-9326 - Ability to create/delete/list snapshots for a solr collection
SOLR-9441 - Solr collection backup on HDFS can only be manipulated by the Solr process
owner
SPARK-10372 - [CORE] Basic test framework for entire spark scheduler
SPARK-12009 - [YARN] Avoid reallocating YARN container when driver wants to stop all
executors
SPARK-12941 - [SQL][MASTER] Spark-SQL JDBC Oracle dialect fails to map string datatypes to
Oracle VARCHAR datatype
SPARK-13904 - [SCHEDULER] Add support for pluggable cluster manager
SPARK-14881 - [PYTHON] [SPARKR] pyspark and sparkR shell default log level should match
spark-shell/Scala
SPARK-15714 - [CORE] Fix flaky o.a.s.scheduler.BlacklistIntegrationSuite
SPARK-15754 - [YARN] Not letting the credentials containing HDFS delegation tokens to be
added in current user credential
SPARK-15865 - [CORE] Blacklist should not result in job hanging with less than 4
executors
SPARK-16711 - YarnShuffleService doesn't re-init properly on YARN rolling upgrade
SPARK-17171 - [WEB UI] DAG will list all partitions in the graph
SPARK-17433 - YarnShuffleService doesn't handle moving credentials levelDb
SPARK-17611 - [YARN][TEST] Make shuffle service test really test authentication
SPARK-17644 - [CORE] Do not add failedStages when abortStage for fetch failure
SPARK-17696 - [CORE] Partial backport of to branch-1.6
SQOOP-2938 - Mainframe import module extension to support data sets on tape
SQOOP-2952 - Fixing bug
SQOOP-3021 - ClassWriter fails if a column name contains a backslash character
ZOOKEEPER-2405 - getTGT() in Login.java mishandles confidential information
ZOOKEEPER-2477 - Documentation should refer to Java CLI shell and not C CLI shell





Categories: CDH | Fixed Issues | Release Notes | Troubleshooting | Upgrading | Upstream | All Categories



Issues Fixed in CDH 5.10.x


Issues Fixed in CDH 5.8.x


















About Cloudera
Resources
Contact
Careers
Press
Documentation

United States: +1 888 789 1488
Outside the US: +1 650 362 0488



© 2021 Cloudera, Inc. All rights reserved. Apache Hadoop and associated open source project names are trademarks of the Apache Software Foundation. For a complete list of trademarks, click here.
If this documentation includes code, including but not limited to, code examples, Cloudera makes this available to you under the terms of the Apache License, Version 2.0, including any required
notices. A copy of the Apache License Version 2.0 can be found here.










Terms & Conditions  |  Privacy Policy

Page generated May 20, 2021.












