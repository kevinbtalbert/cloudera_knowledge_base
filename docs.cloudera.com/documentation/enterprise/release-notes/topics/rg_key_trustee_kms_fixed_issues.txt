



Issues Fixed in Key Trustee KMS | 5.x | Cloudera Documentation
















































 Documentation


Products
Services & Support
Solutions









Cloudera Enterprise 5.x Release Notes





Key Trustee KMS Release Notes








View All Categories

Cloudera Enterprise 5.x Release Notes
Requirements and Supported Versions
Hardware Requirements Guide
Version and Download Information

Updating an existing CDH/Cloudera Manager deployment to access downloads with authentication
Cloudera Manager Version and Download Information
CDH Version and Packaging Information

CDH Download Information

CDH 5.16.x Download Information
CDH 5.15.x Download Information
CDH 5.14.x Download Information
CDH 5.13.x Download Information
CDH 5.12.x Download Information
CDH 5.11.x Download Information
CDH 5.10.x Download Information
CDH 5.9.x Download Information
CDH 5.8.x Download Information
CDH 5.7.x Download Information
CDH 5.6.x Download Information
CDH 5.5.x Download Information
CDH 5.4.x Download Information
CDH 5.3.x Download Information
CDH 5.2.x Download Information
CDH 5.1.x Download Information
CDH 5.0.x Download Information


CDH 5 Packaging and Tarball Information

CDH 5.16.x Packaging and Tarball Information
CDH 5.15.x Packaging and Tarball Information
CDH 5.14.x Packaging and Tarball Information
CDH 5.13.x Packaging and Tarball Information
CDH 5.12.x Packaging and Tarball Information
CDH 5.11.x Packaging and Tarball Information
CDH 5.10.x Packaging and Tarball Information
CDH 5.9.x Packaging and Tarball Information
CDH 5.8.x Packaging and Tarball Information
CDH 5.7.x Packaging and Tarball Information
CDH 5.6.x Packaging and Tarball Information
CDH 5.5.x Packaging and Tarball Information
CDH 5.4.x Packaging and Tarball Information
CDH 5.3.x Packaging and Tarball Information
CDH 5.2.x Packaging and Tarball Information
CDH 5.1.x Packaging and Tarball Information
CDH 5.0.x Packaging and Tarball Information


Using the CDH 5 Maven Repository

Managing Hadoop API Dependencies in CDH 5
Maven Artifacts for CDH 5.16.x Releases
Maven Artifacts for CDH 5.15.x Releases
Maven Artifacts for CDH 5.14.x Releases
Maven Artifacts for CDH 5.13.x Releases
Maven Artifacts for CDH 5.12.x Releases
Maven Artifacts for CDH 5.11.x Releases
Maven Artifacts for CDH 5.10.x Releases
Maven Artifacts for CDH 5.9.x Releases
Maven Artifacts for CDH 5.8.x Releases
Maven Artifacts for CDH 5.7.x Releases
Maven Artifacts for CDH 5.6.x Releases
Maven Artifacts for CDH 5.5.x Releases
Maven Artifacts for CDH 5.4.x Releases
Maven Artifacts for CDH 5.3.x Releases
Maven Artifacts for CDH 5.2.x Releases
Maven Artifacts for CDH 5.1.x Releases
Maven Artifacts for CDH 5.0.x Releases




Cloudera Navigator Key Trustee Server Version and Download Information
Cloudera Navigator Key HSM Version and Download Information
Key Trustee KMS Version and Download Information
HSM KMS Version and Download Information
Cloudera Navigator Encrypt Version and Download Information
Impala Version and Download Information


What's New in Cloudera Documentation
CDH 5 Release Notes

New Features and Changes in CDH 5

What's New in CDH 5.16.x
What's New in CDH 5.15.x
What's New in CDH 5.14.x
What's New in CDH 5.13.x
What's New in CDH 5.12.x
What's New in CDH 5.11.x
What's New in CDH 5.10.x
What's New In CDH 5.9.x
What's New In CDH 5.8.x
What's New In CDH 5.7.x
What's New In CDH 5.6.x
What's New In CDH 5.5.x
What's New In CDH 5.4.x
What's New In CDH 5.3.x
What's New In CDH 5.2.x
What's New in CDH 5.1.x
What's New in CDH 5.0.x
What's New In CDH 5 Beta Releases
What's New in Apache Impala
What's New in Apache Kudu


Incompatible Changes and Limitations

Apache Avro Incompatible Changes and Limitations
Apache Crunch Incompatible Changes and Limitations
Apache DataFu Incompatible Changes and Limitations
Apache Flume Incompatible Changes and Limitations
Apache Hadoop Incompatible Changes and Limitations
Apache HBase Incompatible Changes and Limitations
Apache Hive Incompatible Changes and Limitations
Hue Incompatible Changes and Limitations
Apache Impala Incompatible Changes and Limitations
Cloudera Distribution of Apache Kafka Incompatible Changes and Limitations
Kite Incompatible Changes and Limitations
Apache Kudu Incompatible Changes and Limitations
Llama Incompatible Changes and Limitations
Apache Mahout Incompatible Changes and Limitations
Apache Oozie Incompatible Changes and Limitations
Apache Pig Incompatible Changes and Limitations
Cloudera Search Incompatible Changes and Limitations
Apache Sentry Incompatible Changes
Apache Spark Incompatible Changes and Limitations
Apache Sqoop Incompatible Changes and Limitations
Apache Whirr Incompatible Changes and Limitations
Apache ZooKeeper Incompatible Changes and Limitations


Known Issues in CDH 5

Operating System Known Issues
Performance Known Issues
Install and Upgrade Known Issues
Apache Avro Known Issues
Apache Flume Known Issues
Apache Hadoop Known Issues
Apache HBase Known Issues
Apache Hive Known Issues
Hue Known Issues
Apache Impala Known Issues
Cloudera Distribution of Apache Kafka Known Issues
Apache Kudu Known Issues
Apache Mahout Known Issues
Apache Oozie Known Issues
Apache Parquet Known Issues
Apache Pig Known Issues
Cloudera Search Known Issues
Apache Sentry Known Issues
Apache Spark Known Issues
Apache Sqoop Known Issues
Apache Phoenix Known Issues
Apache ZooKeeper Known Issues


Issues Fixed in CDH 5

Issues Fixed in CDH 5.16.x
Issues Fixed in CDH 5.15.x
Issues Fixed in CDH 5.14.x
Issues Fixed in CDH 5.13.x
Issues Fixed in CDH 5.12.x
Issues Fixed in CDH 5.11.x
Issues Fixed in CDH 5.10.x
Issues Fixed in CDH 5.9.x
Issues Fixed in CDH 5.8.x
Issues Fixed in CDH 5.7.x
Issues Fixed in CDH 5.6.x
Issues Fixed in CDH 5.5.x
Issues Fixed in CDH 5.4.x
Issues Fixed in CDH 5.3.x
Issues Fixed in CDH 5.2.x
Issues Fixed in CDH 5.1.x
Issues Fixed in CDH 5.0.x
Issues Fixed in CDH 5 Beta Releases
Fixed Issues in Apache Impala
Issues Fixed in Apache Kudu




Cloudera Manager 5 Release Notes

New Features and Changes in Cloudera Manager 5
Known Issues and Workarounds in Cloudera Manager 5
Issues Fixed in Cloudera Manager 5


Cloudera Navigator Data Management Release Notes

New Features and Changes in Cloudera Navigator Data Management
Known Issues and Workarounds in Cloudera Navigator Data Management
Issues Fixed in Cloudera Navigator Data Management


Cloudera Navigator Key Trustee Server Release Notes

New Features and Changes in Cloudera Navigator Key Trustee Server
Known Issues and Workarounds in Cloudera Navigator Key Trustee Server
Issues Fixed in Cloudera Navigator Key Trustee Server


Cloudera Navigator Key HSM Release Notes

New Features and Changes in Cloudera Navigator Key HSM
Known Issues and Workarounds in Cloudera Navigator Key HSM
Issues Fixed in Cloudera Navigator Key HSM


Key Trustee KMS Release Notes

New Features in Key Trustee KMS
Known Issues and Workarounds in Key Trustee KMS
Issues Fixed in Key Trustee KMS


Cloudera Navigator HSM KMS Release Notes

New Features and Changes in Cloudera Navigator HSM KMS
Known Issues and Workarounds in Cloudera Navigator HSM KMS
Issues Fixed in Cloudera Navigator HSM KMS


Cloudera Navigator Encrypt Release Notes

New Features and Changes in Cloudera Navigator Encrypt
Known Issues and Workarounds in Cloudera Navigator Encrypt
Issues Fixed in Cloudera Navigator Encrypt


Deprecated Items





To read this documentation, you must turn JavaScript on.




Issues Fixed in Key Trustee KMS


The following sections describe issues fixed in each Key Trustee KMS release.
Note: Release 5.4.3 is the only maintenance release of Key Trustee KMS 5.4.
Release 5.5.4 is the only maintenance release of Key Trustee KMS 5.5.
There is no Release 5.6 of Key Trustee KMS.
Releases 5.7.1 and 5.7.4 are the only maintenance releases of Key Trustee KMS 5.7.
Release 5.8.2 is the only maintenance release of Key Trustee KMS 5.8.
There is no maintenance release of Key Trustee KMS 5.9.
There is no maintenance release of Key Trustee KMS 5.10.


Issues Fixed in Key Trustee KMS 5.16.0
Issues Fixed in Key Trustee KMS 5.15.1
Issues Fixed in Key Trustee KMS 5.15.0
Issues Fixed in Key Trustee KMS 5.14.0
Issues Fixed in Key Trustee KMS 5.13.1
Issues Fixed in Key Trustee KMS 5.13.0
Issues Fixed in Key Trustee KMS 5.12.0
Issues Fixed in Key Trustee KMS 5.11.0
Issues Fixed in Key Trustee KMS 5.10.0
Issues Fixed in Key Trustee KMS 5.9.0
Issues Fixed in Key Trustee KMS 5.8.2
Issues Fixed in Key Trustee KMS 5.8.0
Issues Fixed in Key Trustee KMS 5.7.4
Issues Fixed in Key Trustee KMS 5.7.1
Issues Fixed in Key Trustee KMS 5.7.0
Issues Fixed in Key Trustee KMS 5.5.4
Issues Fixed in Key Trustee KMS 5.5.0
Issues Fixed in Key Trustee KMS 5.4.3




Issues Fixed in Key Trustee KMS 5.16.0


CDH upgrade failure
When upgrading to Key Trustee KMS 5.15.0 or 5.15.1 from Key Trustee KMS 5.14.0 or lower, and performing a rolling restart (instead of a full restart), the first Key
Trustee KMS instance to restart may fail to come up and present an error.
Cloudera Bug: KT-6499


Error when enabling Key Trustee KMS HA mode
When a new Key Trustee KMS instance is added to an existing Key Trustee KMS service, the new instance may initially fail to start up and return the error message:
Unable to verify private key match between KMS hosts.
This error will be corrected automatically after the GPG private keys are synchronized and the KMS service is restarted to pick up the new configuration. No user intervention is required.
Cloudera Bug: KT-6471




Issues Fixed in Key Trustee KMS 5.15.1


Validation fails if hostname command returns shortname
If the hostname command on the OS returns shortname, and the core-site.xml of the KMS process
has a hadoop.security.key.provider.path with a fully qualified domain name (FQDN), then the znodes will be created with the shortname.
Consequently, when KMS 1 checks the fingerprint of KMS 2, it will expect the FQDN as the znode, and fail the validation.




Issues Fixed in Key Trustee KMS 5.15.0

For new features in Key Trustee KMS 5.15.0, see What's New in Key Trustee KMS 5.15.0.



Issues Fixed in Key Trustee KMS 5.14.0

For new features in Key Trustee KMS 5.14.0, see What's New in Key Trustee KMS 5.14.0.



Issues Fixed in Key Trustee KMS 5.13.1


Cannot re-encrypt an encryption zone if a previous re-encryption on it was canceled
When canceling a re-encryption on an encryption zone, the status of the re-encryption would remain at "Processing". When this occurred, future re-encrypt commands for this encryption
zone failed inside the NameNode, and the re-encryption never completed. This issue has been fixed.




Issues Fixed in Key Trustee KMS 5.13.0

For new features in Key Trustee KMS 5.13.0, see What's New in Key Trustee KMS 5.13.0.



Issues Fixed in Key Trustee KMS 5.12.0

For new features in Key Trustee KMS 5.12.0, see What's New in Key Trustee KMS 5.12.0.



Issues Fixed in Key Trustee KMS 5.11.0

For new features in Key Trustee KMS 5.11.0, see What's New in Key Trustee KMS 5.11.0.



Issues Fixed in Key Trustee KMS 5.10.0

For new features in Key Trustee KMS 5.10.0, see What's New in Key Trustee KMS 5.10.0.



Issues Fixed in Key Trustee KMS 5.9.0

For new features in Key Trustee KMS 5.9.0, see What's New in Key Trustee KMS 5.9.0.



Issues Fixed in Key Trustee KMS 5.8.2


KMS does not fail over to Passive Key Trustee Server in some network failure scenarios
In some situations, if the Active Key Trustee Server is unreachable on the network, Key Trustee KMS does not fail over to the Passive Key Trustee Server.
Cloudera Bug: KT-3289




Issues Fixed in Key Trustee KMS 5.8.0

For new features in Key Trustee KMS 5.8.0, see What's New in Key Trustee KMS 5.8.0.



Issues Fixed in Key Trustee KMS 5.7.4


KMS does not fail over to Passive Key Trustee Server in some network failure scenarios
In some situations, if the Active Key Trustee Server is unreachable on the network, Key Trustee KMS does not fail over to the Passive Key Trustee Server.
Cloudera Bug: KT-3289




Issues Fixed in Key Trustee KMS 5.7.1


KMS ACLs read from wrong file
The UNDELETE and PURGE ACL entries were being read from kms-site.xml instead of kms-acls.xml.
Cloudera Bug: KT-2857




Issues Fixed in Key Trustee KMS 5.7.0

For new features in Key Trustee KMS 5.7.0, see What's New in Key Trustee KMS 5.7.0.



Issues Fixed in Key Trustee KMS 5.5.4


Key Trustee KMS configuration file and keys are stored in a volatile location
If the Key Trustee KMS 5.5.0 parcel is deactivated, any existing GPG keys are also deactivated. If the parcel is then reactivated, new GPG keys (used to create an authenticated and
private communication channel with the Key Trustee Server) are generated. The existing GPG keys that were in use before the deactivation are not lost; however, they become inactive. If remedial
action is not taken before deactivation, this can result in a loss of access to HDFS Encryption Zone keys generated with the older set of GPG keys. This in turn leads to loss of access to all data in
all encryption zones. As long as the Key Trustee KMS parcel directory is not deleted, access can be restored. Assistance from Cloudera Support may be required. See TSB 2016-121 for more information (requires login to the Cloudera Support Portal).
Cloudera Bug: KT-2460


KMS ACLs read from wrong file
The UNDELETE and PURGE ACL entries were being read from kms-site.xml instead of kms-acls.xml.
Cloudera Bug: KT-2858




Issues Fixed in Key Trustee KMS 5.5.0


Key Trustee KMS intermittently fails to start due to permission issues
Key Trustee KMS sometimes fails to start with the following error:
java.io.IOException: TrusteeKeyProvider initialization failed.

at com.cloudera.keytrustee.TrusteeKeyProvider.createInitialClient(TrusteeKeyProvider.java:212)

at com.cloudera.keytrustee.TrusteeKeyProvider.<init>(TrusteeKeyProvider.java:114)

at com.cloudera.keytrustee.TrusteeKeyProvider.<init>(TrusteeKeyProvider.java:86)
[...]
Caused by: java.io.FileNotFoundException: /var/lib/kms-keytrustee/keytrustee/.keytrustee/keytrustee.conf (Permission denied)

at java.io.FileOutputStream.open(Native Method)

at java.io.FileOutputStream.<init>(FileOutputStream.java:221)

at java.io.FileOutputStream.<init>(FileOutputStream.java:171)

at com.cloudera.keytrustee.impl.ClientFactoryImpl.createNewClient(ClientFactoryImpl.java:129)

... 30 more


Key Trustee KMS starts up successfully even if it cannot contact the Key Trustee Server
Key Trustee KMS starts successfully when it cannot connect to the Key Trustee Server, instead of properly failing to start.




Issues Fixed in Key Trustee KMS 5.4.3


Host Component page display
The Host Component page now displays the package version for the KMS Trustee Key Provider.
Cloudera Bug: OPSAPS-25692




Categories: Fixed Issues | KMS | Key Trustee | Key Trustee KMS | Navigator | Release Notes | Troubleshooting | Upgrading | All Categories



Known Issues and Workarounds in Key Trustee KMS


Cloudera Navigator HSM KMS Release Notes


















About Cloudera
Resources
Contact
Careers
Press
Documentation

United States: +1 888 789 1488
Outside the US: +1 650 362 0488



© 2021 Cloudera, Inc. All rights reserved. Apache Hadoop and associated open source project names are trademarks of the Apache Software Foundation. For a complete list of trademarks, click here.
If this documentation includes code, including but not limited to, code examples, Cloudera makes this available to you under the terms of the Apache License, Version 2.0, including any required
notices. A copy of the Apache License Version 2.0 can be found here.










Terms & Conditions  |  Privacy Policy

Page generated May 20, 2021.












