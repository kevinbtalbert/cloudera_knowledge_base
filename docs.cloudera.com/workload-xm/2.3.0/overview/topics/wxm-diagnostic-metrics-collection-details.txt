Diagnostic Metrics Collection DetailsCloudera Docs
Diagnostic Metrics Collection Details
Describes the type of data collected by Telemetry Publisher and the Cloudera services
    that provide the data.
Telemetry Publisher collects and sends the following diagnostic metrics to Workload XM:

MapReduce Jobs — Telemetry Publisher polls the YARN Job History Server
        for recently completed MapReduce jobs. For each of these jobs, Telemetry Publisher collects
        the configuration and jhist file, which is the job history file that
        contains job and task counters, from HDFS. Telemetry Publisher can be configured to collect
        MapReduce task logs from HDFS and send them to Workload XM. By default, this log
        collection is turned off.
Spark Applications — Telemetry Publisher polls the Spark History
        Server for recently completed Spark applications. For each of these applications, Telemetry
        Publisher collects their event log from HDFS. Telemetry Publisher can be configured to
        collect the executor logs of Spark applications from HDFS and send them to Workload XM. By default, this data collection is turned off. 
        importantTelemetry
          Publisher only collects Spark application data from Apache Spark 2.x versions. At this
          time, Apache Spark 3.x versions are not supported.As CDH version 5.x is packaged with
            Apache Spark version 1.6, you cannot configure Telemetry Publisher data collection for
            CDH 5.x clusters unless you are using CDS 2.2 Powered by Apache Spark or later versions
            with those clusters.
Oozie Workflows — Telemetry Publisher polls Oozie servers for recently
        completed Oozie workflows and sends the details to Workload XM. 
Hive Queries — The Cloudera Manager agent periodically searches for
        query detail files that are generated by HiveServer2 after a query completes and then sends
        the details from those files to Telemetry Publisher. importantHive query audits must be enabled.
Impala Queries — A Cloudera Manager agent periodically looks for query
    profiles of recently completed queries and sends them to Telemetry Publisher.


Parent topic: Collecting Workload XM Diagnostic Metrics